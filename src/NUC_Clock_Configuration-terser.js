var NUTOOL_CLOCK={};!function(){const e="V1.14.1";var t,n,o,l,a,r,s,C,L,d,c,O,f=250,T=["CM2003","CM2052","CM2U51","CM3031","KM1M0DF","KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF","M030G","M031","M051","M0518","M0519","M0564","M0A21","M2003","M2351","M2354","M2U51","M2L31","M251","M261","M3331","M433","M451","M460","M480","M55M1","M5531","MINI51","NANO100","NM1200","NM1500","NUC029","NUC100","NUC200","NUC400","NUC505"],u="",p="",g="",K={getContext:null,removeContext:null,addEvent:null,triggerEvent:null},h=[],S=[],M=[],N=[],x=1,E=0,P=0,b=0,U=0,v=0,k=0,I=0,R=0,A=0,y=0,m=0,F=0,H=0,X=0,w=0,D=0,q=0,B=0,z=0,W=0,V=0,G=0,Y=0,Z=0,J=0,Q=0,ee=0,te=0,ne=0,ie=0,oe=0,le=0,ae=0,re=0,se=0,Ce=0,Le=0,_e=0,de=0,ce=0,Oe=0,fe=0,Te=0,ue=0,pe=0,ge=0,Ke=0,he=0,Se=0,Me=0,Ne=[],xe=[],Ee="",Pe="",be="",Ue=-1,ve=null,ke="NuMicro",Ie=" Nuvoton Technology Corp.",Re=!1,Ae=!1,ye=!0,me=!1,$e=!1,Fe=!1,He=!0,Xe=!1,we=[];function De(e){$("#tabs");var t,n,i,o,l,r,s,C,d,c,O,f,T,p,h,S,M,E,j,te,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe,Te,ue,pe,ge,Ke,he,Se,Me,xe,be,ke,Ie,Re,Ae={},ye=[],$e=[],He=[],Xe=[],we=[],De=[],Be=[],ze=[],We=[],Ve=[],Ge=[],Ye=[],je=[],Ze=[],Je=[],Qe=[],tt=[],nt=[],it=[],ot=[],Ct=[],Ot=[],ft=[],pt=[],gt=[],Kt=[],ht=[],St=[],Mt=[],Nt=[],xt=[],Et=_t(NUTOOL_CLOCK.g_Module),Pt="OSC10K_EN".toEquivalent().toString(),kt="OSC22M_EN".toEquivalent().toString(),Rt="OSC22M2_EN".toEquivalent().toString(),At="XTL32K_EN".toEquivalent().toString(),yt="XTL12M_EN".toEquivalent().toString(),mt="HIRC48EN".toEquivalent().toString(),$t="PWRCON".toEquivalent().toString(),Ft="HCLK_S".toEquivalent().toString(),Ht="HCLK2_S".toEquivalent().toString(),Xt="STCLK_S".toEquivalent().toString(),wt="CLKO".toEquivalent().toString(),Dt="CLKO_Divider".toEquivalent().toString(),qt="CLKO1".toEquivalent().toString(),Bt="CLKO1_Divider".toEquivalent().toString(),Wt="SYST_CSR".toEquivalent().toString(),Vt="_S".toEquivalent().toString(),Gt="HXT".toEquivalent().toString(),Yt="LXT".toEquivalent().toString(),jt="PLL".toEquivalent().toString(),Zt="APLL".toEquivalent().toString(),Jt="HIRC".toEquivalent().toString(),Qt="HIRC2".toEquivalent().toString(),en="HIRC48".toEquivalent().toString(),tn="LIRC".toEquivalent().toString(),nn="HCLK".toEquivalent().toString(),on="HCLK0".toEquivalent().toString(),ln="HCLK1".toEquivalent().toString(),an="HCLK2".toEquivalent().toString(),rn="ACLK".toEquivalent().toString(),sn="PCLK".toEquivalent().toString(),Cn="PCLK0".toEquivalent().toString(),Ln="PCLK1".toEquivalent().toString(),_n="PCLK2".toEquivalent().toString(),dn="PCLK3".toEquivalent().toString(),cn="PCLK4".toEquivalent().toString(),On="PCLK0SEL".toEquivalent().toString(),fn="PCLK1SEL".toEquivalent().toString(),Tn="PCLK2SEL".toEquivalent().toString(),gn=("ST".toEquivalent().toString(),!1);if(ie=function(e,t){"CPUCLK"===(e=e.slicePriorToX("/").toString())?$e.push(t):"LIRC"===e||e===tn?He.push(t):e===en?De.push(t):e===Jt?Xe.push(t):e===Qt?we.push(t):"MIRC"===e?Be.push(t):"MIRC1P2M"===e?ze.push(t):"RTC32k"===e?We.push(t):e===Yt?Ve.push(t):e===Gt?Ge.push(t):e===jt?Ye.push(t):"PLL2"===e?je.push(t):"PLL480M"===e?Ze.push(t):e===Zt?Je.push(t):"PLLFN"===e?Qe.push(t):"HSUSB_OTG_PHY"===e?tt.push(t):e===nn?nt.push(t):e===on?it.push(t):e===ln?ot.push(t):e===an?Ct.push(t):e===rn?Ot.push(t):e===sn?ft.push(t):e===Cn?pt.push(t):e===Ln?gt.push(t):e===_n?Kt.push(t):e===dn?ht.push(t):e===cn?St.push(t):"EXT"===e&&Mt.push(t)},oe=function(e){var t,n,i,o={},l=[],a=[];for(t=0,n=e.length;t<n;t+=1)(o={}).name=e[t],-1!==(i=$.inArray(o.name,Nt))?(o.enabled=1,o.freq=xt[i]):(o.enabled=0,o.freq=-1),(l="CPUCLK"===o.name?$e:"LIRC"===o.name||o.name===tn?He:o.name===en?De:o.name===Jt?Xe:o.name===Qt?we:"MIRC"===o.name?Be:"MIRC1P2M"===o.name?ze:"RTC32k"===o.name?We:o.name===Yt?Ve:o.name===Gt?Ge:o.name===jt?Ye:"PLL2"===o.name?je:"PLL480M"===o.name?Ze:o.name===Zt?Je:"PLLFN"===o.name?Qe:"HSUSB_OTG_PHY"===o.name?tt:o.name===nn?nt:o.name===on?it:o.name===ln?ot:o.name===an?Ct:o.name===rn?Ot:o.name===sn?ft:o.name===Cn?pt:o.name===Ln?gt:o.name===_n?Kt:o.name===dn?ht:o.name===cn?St:"EXT"===o.name?Mt:{}).length>0&&(o.children=oe(l)),(Fe&&o.enabled||!Fe)&&a.push(o);return a},le=function(e,t){t?re(e):ae(e,!0)},ae=function(e,t){var n,l=!0;if(void 0===t&&(t=!1),d3.selectAll("g.node").each(function(t){t.name===e&&(n=t)}),!function(e){if(void 0!==e.parent)return Rn(e.parent)?1:(-1!==L.indexOf("Simplified")?bt("因前面的时脉源是关闭状态，所以"+e.name+" 不能被开启。"):-1!==L.indexOf("Traditional")?bt("因前面的時脈源是關閉狀態，所以"+e.name+" 不能被開啟。"):bt("Since the preceding clock source is disabled, "+e.name+" cannot be enabled."),0)}(n))return l=!1;if(void 0!==NUTOOL_CLOCK.g_Module[e]){if(e===wt?(re(Dt),re("CLKO_1Hz")):e===Dt&&(re(wt),re("CLKO_1Hz")),e===qt?re(Bt):e===Bt?re(qt):"CLKO_1Hz"==e&&(re(wt),re(Dt)),t?($("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide()),e===wt||e===Dt||e===qt||e===Bt?function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,T,u,p,g,h,S,M,x,E,P,b,U,v,k,I,R,A,y,m,F,H,X,w,D,q,B,z=[],W="",V=[],G=0,Y=!0,j=20,Z=20,J=20,Q=0,ee=45,te=30,ne=[],ie=[],oe=0,le=0,ae=[],re="#C62A39",se="#DF630E",Ce="#BC8484";F=function(){for((p=K.getContext(u[0])).font="18px Arial",p.fillStyle="black",g=j,Q=0,ne=[],l=0,r=V.length;l<r;l+=1)ne.push(V[l]+": "+et(V[l]).toHzString()),p.measureText(ne[ne.length-1]).width>Q&&(Q=p.measureText(ne[ne.length-1]).width),-1!==$.inArray(V[l].slicePriorToX("/").toString(),Ne)?ie[l]="black":ie[l]=Ce;if(Q+=30,V.length>1?"none"===o?(oe=j+Q+te+ee+p.measureText(t).width+j,le=2*Z+22*(V.length-1)+2*J):(S=ee+p.measureText("1/2^("+o+": 0 + 1)").width,oe=j+Q+te+S+ee+p.measureText(t).width+j,le=2*Z+22*(V.length-1)+2*J):"none"===o?(oe=j+Q+p.measureText(t).width+j,le=2*Z+2*J):(oe=j+Q+p.measureText("1/2^("+o+" + 1)").width+ee+p.measureText(t).width+j,le=2*Z+2*J),u[0].setAttribute("width",oe),u[0].setAttribute("height",le),p.font="18px Arial",p.fillStyle="black",g=j,ae=[],(b={}).name="",V.length>1){for(l=0,r=V.length;l<r;l+=1)h=Z+22*l+J,p.fillStyle=ie[l],p.fillText(ne[l],g,h),new ut(g,h+2,g+Q,h+2).drawWithArrowheads(p),ae.push({name:ne[l],x:g,y:h,textLength:p.measureText(ne[l]).width,color:ie[l],lastColor:ie[l]});p.beginPath(),p.moveTo(j+Q,Z),p.lineTo(j+Q,Z+22*(V.length-1)+2*J),p.lineTo(j+Q+te,Z+22*(V.length-1)+J),p.lineTo(j+Q+te,Z+J),p.lineTo(j+Q,Z),p.stroke(),S=0,"none"!==o&&(new ut(j+Q+te,Z+22*(V.length-1)/2+J,j+Q+te+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(p),S+=ee,g=j+Q+te+ee,h=Z+22*(V.length-1)/2+J+9-2,p.fillText("1/2^("+o+": 0 + 1)",g,h),S+=p.measureText("1/2^("+o+": 0 + 1)").width,b={name:"1/2^("+o+": 0 + 1)",x:g,y:h,textLength:p.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new ut(j+Q+te+S,Z+22*(V.length-1)/2+J,j+Q+te+S+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(p),p.fillText(t,j+Q+te+S+ee,Z+22*(V.length-1)/2+J+9-2)}else h=Z+J,p.fillText(ne[0],g,h),new ut(g,h+2,g+Q,h+2).drawWithArrowheads(p),ae.push({name:ne[0],x:g,y:h,textLength:p.measureText(ne[0]).width,color:ie[0],lastColor:ie[0]}),S=0,"none"!==o?(g=j+Q,p.fillText("1/2^("+o+": 0 + 1)",g,h+9-2),S+=p.measureText("1/2^("+o+": 0 + 1)").width,b={name:"1/2^("+o+": 0 + 1)",x:g,y:h+9-2,textLength:p.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"},new ut(j+Q+S,h,j+Q+S+ee,h).drawWithArrowheads(p),p.fillText(t,j+Q+S+ee,h+9-2)):p.fillText(t,j+Q,h+9-2);_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*oe/3+2)+"px;height:"+(20+le+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; top:"+(70+le+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE"),H()},X=function(e,t){return M=e.getBoundingClientRect(),x=t.clientX-M.left,E=t.clientY-M.top,this},w=function(){for(P=!1,l=0,r=ae.length;l<r;l+=1)x>=ae[l].x&&x<=ae[l].x+ae[l].textLength&&E>=ae[l].y-18-3&&E<=ae[l].y?ae[l].color!==se&&(ae[l].lastColor=ae[l].color,ae[l].color=se,P=!0):ae[l].color!==ae[l].lastColor&&(ae[l].color=ae[l].lastColor,P=!0);if(P)for(l=0,r=ae.length;l<r;l+=1)p.fillStyle="#FFFFFF",p.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),p.fillStyle=ae[l].color,p.fillText(ae[l].name,ae[l].x,ae[l].y);P=!1,b.name&&(x>=b.x&&x<=b.x+b.textLength&&E>=b.y-18&&E<=b.y?b.color!==se&&(b.lastColor=b.color,b.color=se,P=!0):b.color!==b.lastColor&&(b.color=b.lastColor,P=!0)),P&&(p.fillStyle="#FFFFFF",p.fillRect(b.x,b.y-18,b.textLength,25),p.fillStyle=b.color,p.fillText(b.name,b.x,b.y))},q=function(){var e,n;for(I=0,e=0,n=ae.length;e<n;e+=1){if(ae[e].color===re){c=ae[e].name,I=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(b.name){if(b.color!==re)return this;I/=Math.pow(2,a+1)}return $("#"+t+"_span_showRealFreq").text(I.toHzString()),this},B=function(e){for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),l=0,r=N.length;l<r;l+=1)for(d=N[l],s=0,C=NUTOOL_CLOCK.g_register_map[d].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][s]).indexOf(e)&&c.indexOf(":")===e.length){G=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),G=Math.pow(2,G)-1;break}-1!==L.indexOf("Simplified")?(U="请设置值给除频器"+e+"。合理的范围从0到"+G+"。",v="设置值给除频器",k="确认"):-1!==L.indexOf("Traditional")?(U="請設置值給除頻器"+e+"。合理的範圍從0到"+G+"。",v="設置值給除頻器",k="確認"):(U="Please configure a value to "+e+". The feasible range is from 0 to "+G+".",v="Configure a value to the divider",k="Confirm"),$('<div id="dividerConfigureDialog"><p>'+U+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:v,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:k,click:function(){a=parseInt($("#"+e+"_input_dialog").val(),10),b.name="1/2^("+e+": "+a+" + 1)",p.fillStyle="#FFFFFF",b.textLength=p.measureText(b.name).width,p.fillRect(b.x,b.y-18,b.textLength,25),p.fillStyle=b.lastColor=b.color=re,b.x=b.x+(b.textLength-p.measureText(b.name).width)/2,p.fillText(b.name,b.x,b.y),y=It(NUTOOL_CLOCK.g_Module[t][2]),Lt(e,a),q(),ve.selectAll("g.node").on("updateFromDividerDialog")(t,!0,y),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),"none"!==NUTOOL_CLOCK.g_Module[t][2]&&$("#"+e+"_input_dialog").val(It(NUTOOL_CLOCK.g_Module[t][2])).width(35),$("#"+e+"_input_dialog").width(35).change(function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>G||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val(It(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again."))})},H=function(){if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=It(NUTOOL_CLOCK.g_Module[t][2]),b.name="1/2^("+o+": "+a+" + 1)",p.fillStyle="#FFFFFF",b.textLength=p.measureText(b.name).width,p.fillRect(b.x,b.y-18,b.textLength,25),p.fillStyle=b.lastColor=b.color=re,b.x=b.x+(b.textLength-p.measureText(b.name).width)/2,p.fillText(b.name,b.x,b.y)),R="",c=NUTOOL_CLOCK.g_Module[t][0],-1!==(A=It(c).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===A){R=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}if(A=ae.length,""!==R)for(l=0,r=ae.length;l<r;l+=1)if(-1!==(c=ae[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(R)&&c.indexOf(":")===R.length&&ae[l].color!==Ce){A=l;break}D(A),Y=!1},D=function(e){if(-1!==Ue&&100!==Ue&&(e=Ue),void 0===e&&(e=-1),-1===e)for(l=0,r=ae.length;l<r;l+=1)x>=ae[l].x&&x<=ae[l].x+ae[l].textLength&&E>=ae[l].y-18-3&&E<=ae[l].y&&(e=l);if(e===ae.length)for(l=0,r=ae.length;l<r;l+=1)if(ae[l].color!==Ce){e=l;break}if(y=m=-1,-1!==e&&-1===ae[e].name.indexOf("Disabled"))for(l=0,r=ae.length;l<r;l+=1){if(l===e){if(ae[l].lastColor=ae[l].color=re,-1!==(f=ae[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==f.indexOf(":")&&(f=(T=f).slicePriorToX(":")+"+"+T.sliceAfterX("+")),i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(f)&&c.indexOf(":")===f.length){y=It(i),m=parseInt(c.sliceAfterX(":"),10),Lt(i,m);break}q(),Y||ve.selectAll("g.node").on("updateFromCanvas")(t,f.slicePriorToX("/").toString(),!0,y,m)}else ae[l].color!==Ce&&(ae[l].lastColor=ae[l].color="black");p.fillStyle="#FFFFFF",p.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),p.fillStyle=ae[l].color,p.fillText(ae[l].name,ae[l].x,ae[l].y)}b.name&&(x>=b.x&&x<=b.x+b.textLength&&E>=b.y-18&&E<=b.y||100===Ue)&&B(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),V=[],W=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(W))for(z=NUTOOL_CLOCK.g_CLKSEL[W],l=0,r=z.length;l<r;l+=1)i=-1===(i=z[l]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),V.push(z[l].slicePriorToX(":"));$("#"+e)[0].appendChild(ct("canvas",t+"_canvas")),u=$("#"+t+"_canvas"),u[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),K.addEvent(u[0],"mousemove",function(e){X(u[0],e),w()}),K.addEvent(u[0],"click",function(){D()}),F()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]):function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,T,p,g,h,S,M,x,E,P,b,U,v,k,I,R,A,y,m,F,H,X,w,D,q,B,z,W,V,G,Y,j,Z=[],J="",Q=[],ee=0,te=!0,ne=20,ie=20,oe=20,le=0,ae=45,re=30,se=[],Ce=[],Le=0,_e=0,de=[],ce="#C62A39",Oe="#DF630E",fe="#BC8484",Te="STCLK_S".toEquivalent().toString(),ue="SYST_CSR".toEquivalent().toString(),pe="HXT".toEquivalent().toString(),ge="LXT".toEquivalent().toString(),Ke="PLL".toEquivalent().toString(),he="APLL".toEquivalent().toString(),Se="HIRC".toEquivalent().toString(),Me="HIRC2".toEquivalent().toString(),xe="LIRC".toEquivalent().toString(),Ee="HCLK".toEquivalent().toString(),Pe="HCLK0".toEquivalent().toString(),be="HCLK1".toEquivalent().toString(),ke="HCLK2".toEquivalent().toString(),Ie="ACLK".toEquivalent().toString(),Re="PCLK".toEquivalent().toString(),Ae="PCLK0".toEquivalent().toString(),ye="PCLK1".toEquivalent().toString(),me="PCLK2".toEquivalent().toString(),$e="PCLK3".toEquivalent().toString(),Fe="PCLK4".toEquivalent().toString();B=function(){const n=function(e,t,n){E=ie+22*e+oe,M.fillStyle=Ce[e],M.fillText(se[e],x,E),new ut(t,E+2,n,E+2).drawWithArrowheads(M),de.push({name:se[e],x:t,y:E,textLength:M.measureText(se[e]).width,color:Ce[e],lastColor:Ce[e]})},i=function(e,t){M.beginPath(),M.moveTo(e,ie),M.lineTo(e,ie+t+2*oe),M.lineTo(e+re,ie+t+oe),M.lineTo(e+re,ie+oe),M.lineTo(e,ie),M.stroke()},a=function(e,t,n,i,o){i&&(new ut(e,t,e+ae,t).drawWithArrowheads(M),P+=ae),M.fillText("1/("+n+": 0 + 1)",e+P,t+9-2),I={name:"1/("+n+": 0 + 1)",x:e+P,y:t+9-2,textLength:M.measureText("1/("+n+": 0 + 1)").width,color:"black",lastColor:"black"},P+=I.textLength,o&&(new ut(e+P,t,e+P+ae,t).drawWithArrowheads(M),P+=ae)},s=function(e,n){new ut(e,n,e+ae,n).drawWithArrowheads(M),M.fillText(t,e+ae,n+9-2)};for((M=K.getContext(S[0])).font="18px Arial",M.fillStyle="black",x=ne,le=0,se=[],Ce=[],l=0,r=Q.length;l<r;l+=1){let e=Tt(et(Q[l]))?et(Q[l]).toHzString():"";se.push(Q[l]+": "+e),M.measureText(se[se.length-1]).width>le&&(le=M.measureText(se[se.length-1]).width),-1!==$.inArray(Q[l].slicePriorToX("/").toString(),Ne)||"CPUCLK"===Q[l]?Ce[l]="black":Ce[l]=fe}if(le+=30,Q.length>1?"none"===o?(Le=ne+le+re+ae+M.measureText(t).width+ne,_e=2*ie+22*(Q.length-1)+2*oe):(P=ae+M.measureText("1/("+o+": 0 + 1)").width,Le=ne+le+re+P+ae+M.measureText(t).width+ne,0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||"SYSTICK"!==t||(Le+=ae+re),_e=2*ie+22*(Q.length-1)+2*oe):"none"===o?(Le=ne+le+M.measureText(t).width+ne,_e=2*ie+2*oe):(Le=ne+le+M.measureText("1/("+o+": 0 + 1)").width+ae+M.measureText(t).width+ne,_e=2*ie+2*oe),S[0].setAttribute("width",Le),S[0].setAttribute("height",_e),M.font="18px Arial",M.fillStyle="black",x=ne,de=[],(I={}).name="",0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||"SYSTICK"!==t)if(Q.length>1){for(l=0,r=Q.length;l<r;l+=1)n(l,ne,ne+le);i(ne+le,22*(Q.length-1)),P=0,"none"!==o&&a(ne+le+re,ie+22*(Q.length-1)/2+oe,o,!0,!1),s(ne+le+re+P,ie+22*(Q.length-1)/2+oe)}else E=ie+oe,n(0,ne,ne+le),P=0,"none"!==o?(a(ne+le,ie+oe,o,!1,!1),s(ne+le+P,ie+oe)):M.fillText(t,ne+le,E+9-2);else{for(l=0,r=Q.length-1;l<r;l+=1)n(l,ne,ne+le);i(ne+le,22*(Q.length-2)),P=0,a(ne+le+re,ie+22*(Q.length-2)/2+oe,o,!0,!0),n(Q.length-1,ne,ne+le+re+P),i(ne+le+re+P,22*(Q.length-1)),s(ne+le+2*re+P,ie+22*(Q.length-1)/2+oe)}rt(t)&&(_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of 11 </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*Le/3+2)+"px;height:"+(20+_e+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; left:30px; top:"+(70+_e+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE")),z()},W=function(e,t){return b=e.getBoundingClientRect(),U=t.clientX-b.left,v=t.clientY-b.top,this},V=function(){for(k=!1,l=0,r=de.length;l<r;l+=1)U>=de[l].x&&U<=de[l].x+de[l].textLength&&v>=de[l].y-18-3&&v<=de[l].y?de[l].color!==Oe&&(de[l].lastColor=de[l].color,de[l].color=Oe,k=!0):de[l].color!==de[l].lastColor&&(de[l].color=de[l].lastColor,k=!0);if(k)for(l=0,r=de.length;l<r;l+=1)M.fillStyle="#FFFFFF",M.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),M.fillStyle=de[l].color,M.fillText(de[l].name,de[l].x,de[l].y);k=!1,I.name&&(U>=I.x&&U<=I.x+I.textLength&&v>=I.y-18&&v<=I.y?I.color!==Oe&&(I.lastColor=I.color,I.color=Oe,k=!0):I.color!==I.lastColor&&(I.color=I.lastColor,k=!0)),k&&(M.fillStyle="#FFFFFF",M.fillRect(I.x,I.y-18,I.textLength,25),M.fillStyle=I.color,M.fillText(I.name,I.x,I.y))},Y=function(){var e,n;for(m=0,e=0,n=de.length;e<n;e+=1){if(de[e].color===ce){c=de[e].name,m=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(I.name&&(0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||-1===c.indexOf("CPUCLK"))){if(I.color!==ce)return this;m/=It(NUTOOL_CLOCK.g_Module[t][2])+1}let i=Tt(m)?m.toHzString():"";return $("#"+t+"_span_showRealFreq").text(i),Tt(m)?$("#"+t+"_div_showRealFreq").show():$("#"+t+"_div_showRealFreq").hide(),this},j=function(e){var n,i,o,l,r=!1;for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),n=0,i=N.length;n<i;n+=1)for(d=N[n],o=0,l=NUTOOL_CLOCK.g_register_map[d].length;o<l;o+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][o]).indexOf(e)&&c.indexOf(":")===e.length){ee=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),ee=Math.pow(2,ee)-1;break}-1!==L.indexOf("Simplified")?(R="请设置值给除频器"+e+"。合理的范围从0到"+ee+"。",A="设置值给除频器",y="确认"):-1!==L.indexOf("Traditional")?(R="請設置值給除頻器"+e+"。合理的範圍從0到"+ee+"。",A="設置值給除頻器",y="確認"):(R="Please configure a value to "+e+". The feasible range is from 0 to "+ee+".",A="Configure a value to the divider",y="Confirm"),$('<div id="dividerConfigureDialog"><p>'+R+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:A,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:y,click:function(){for(a=parseInt($("#"+e+"_input_dialog").val(),10),r=!1,n=0,i=de.length;n<i;n+=1)if(-1!==de[n].name.indexOf(e)){r=!0;break}if(r){for(n=0,i=de.length;n<i;n+=1)if(-1!==(c=de[n].name).indexOf(e)){de[n].name=c.slicePriorToX(":")+":"+a+"+1):"+(et(c.slicePriorToX("/"))/(a+1)).toHzString(),M.fillStyle="#FFFFFF",de[n].textLength=M.measureText(c).width,M.fillRect(de[n].x,de[n].y-18,de[n].textLength,20),M.fillStyle=de[n].lastColor=de[n].color=ce,M.fillText(de[n].name,de[n].x,de[n].y);break}X=-1}else I.name="1/("+e+": "+a+" + 1)",M.fillStyle="#FFFFFF",I.textLength=M.measureText(I.name).width,M.fillRect(I.x,I.y-18,I.textLength,25),M.fillStyle=I.lastColor=I.color=ce,I.x=I.x+(I.textLength-M.measureText(I.name).width)/2,M.fillText(I.name,I.x,I.y),X=It(NUTOOL_CLOCK.g_Module[t][2]);Lt(e,a),Y(),ve.selectAll("g.node").on("updateFromDividerDialog")(t,!0,X),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val(It(e)).width(35),$("#"+e+"_input_dialog").width(35).change(function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>ee||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val(It(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again."))})},z=function(){if(0===u.indexOf("KM1M7CF")&&"SYSTICK"===t){"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=It(NUTOOL_CLOCK.g_Module[t][2]),I.name="1/("+o+": "+a+" + 1)",M.fillStyle="#FFFFFF",I.textLength=M.measureText(I.name).width,M.fillRect(I.x,I.y-18,I.textLength,25),M.fillStyle=I.lastColor=I.color=ce,I.x=I.x+(I.textLength-M.measureText(I.name).width)/2,M.fillText(I.name,I.x,I.y));var e=It("CLKSRC").toString(),n=It("STCKSEL").toString();G(H=1==e&&0==n?0:0==e&&0==n?1:2),te=!1}else{if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=It(NUTOOL_CLOCK.g_Module[t][2]),I.name="1/("+o+": "+a+" + 1)",M.fillStyle="#FFFFFF",I.textLength=M.measureText(I.name).width,M.fillRect(I.x,I.y-18,I.textLength,25),M.fillStyle=I.lastColor=I.color=ce,I.x=I.x+(I.textLength-M.measureText(I.name).width)/2,M.fillText(I.name,I.x,I.y)),F="","SYSTICK"!==t){if(c=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(c)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[c][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),H=It(c)+(It(f)<<T)>>>0):H=It(c),-1!==H&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===H.toString()){F=hn(NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":"));break}}else if(Ut("CLKSRC"))F="CPUCLK";else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Te)){if(H=It(c=Te).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===H){F=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}}else F=NUTOOL_CLOCK.g_Module[t][0];if(H=de.length,""!==F)for(l=0,r=de.length;l<r;l+=1)if(-1!==(c=de[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(F)&&c.indexOf(":")===F.length&&de[l].color!==fe){H=l;break}G(H),te=!1}},G=function(e){var n=!1;if(-1!==Ue&&100!==Ue&&(e=Ue),void 0===e&&(e=-1),-1===e)for(l=0,r=de.length;l<r;l+=1)U>=de[l].x&&U<=de[l].x+de[l].textLength&&v>=de[l].y-18-3&&v<=de[l].y&&(e=l,-1!==de[l].name.indexOf("DIV:")&&(n=!0));if(e===de.length)for(l=0,r=de.length;l<r;l+=1)if(de[l].color!==fe){e=l;break}if(X=w=-1,-1!==e&&-1===de[e].name.indexOf("Disabled"))for(l=0,r=de.length;l<r;l+=1){if(l===e){if(de[l].lastColor=de[l].color=ce,-1!==(g=de[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==g.indexOf(":")&&(g=(h=g).slicePriorToX(":")+"+"+h.sliceAfterX("+")),"SYSTICK"!==t){if(i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=hn(NUTOOL_CLOCK.g_CLKSEL[i][s])).indexOf(g)&&c.indexOf(":")===g.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),X=It(i)+(It(f)<<T)>>>0,w=parseInt(c.sliceAfterX(":"),10),p=Math.pow(2,T)-1,q=w-(D=w&p)>>T>>>0,Lt(i,D),Lt(f,q)):(X=It(i),w=parseInt(c.sliceAfterX(":"),10),Lt(i,w));break}}else if(0===u.indexOf("KM1M7CF")){for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.CLKSRC.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.CLKSRC[s]).indexOf(g)&&c.indexOf(":")===g.length){Lt("CLKSRC",parseInt(c.sliceAfterX(":"),10),"",!1);break}for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.STCKSEL.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.STCKSEL[s]).indexOf(g)&&c.indexOf(":")===g.length){Lt("STCKSEL",parseInt(c.sliceAfterX(":"),10),"",!1);break}}else if(-1!==g.indexOf("CPUCLK"))Lt("CLKSRC",1,ue);else{const e=1===It("CLKSRC");if(Lt("CLKSRC",0,ue),i=Te,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(g)&&c.indexOf(":")===g.length){X=e?-1:It(i),w=parseInt(c.sliceAfterX(":"),10),Lt(i,parseInt(c.sliceAfterX(":"),10),"",!1);break}}Y(),te||ve.selectAll("g.node").on("updateFromCanvas")(t,g.slicePriorToX("/").toString(),!0,X,w),n&&(F=de[l].name,H=(H=F.sliceAfterX("(")).slicePriorToX(":"),j(H))}else de[l].color!==fe&&(de[l].lastColor=de[l].color="black");M.fillStyle="#FFFFFF",M.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),M.fillStyle=de[l].color,M.fillText(de[l].name,de[l].x,de[l].y)}I.name&&(U>=I.x&&U<=I.x+I.textLength&&v>=I.y-18&&v<=I.y||100===Ue)&&j(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),Q=[],J=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(-1!==J.indexOf("DIV+"))H=(H=(F=J).sliceAfterX("(")).slicePriorToX("+"),J=F.slicePriorToX("+")+":"+It(H)+"+1)",Q.push(J);else if(0===J.indexOf(Ee)||0===J.indexOf("RTC32k")||0===J.indexOf(Pe)||0===J.indexOf(be)||0===J.indexOf(ke)||0===J.indexOf(Ie)||0===J.indexOf("LIRC")||0===J.indexOf(xe)||0===J.indexOf(Se)||0===J.indexOf(Me)||0===J.indexOf("MIRC")||0===J.indexOf(ge)||0===J.indexOf(pe)||0===J.indexOf(Ke)||0===J.indexOf("PLL2")||0===J.indexOf("PLL480M")||0===J.indexOf(he)||0===J.indexOf("PLLFN")||0===J.indexOf("HSUSB_OTG_PHY")||0===J.indexOf(Re)||0===J.indexOf(Ae)||0===J.indexOf(ye)||0===J.indexOf(me)||0===J.indexOf($e)||0===J.indexOf(Fe))Q.push(J);else if(J==="HCLK_S".toEquivalent())Q.push(Ee);else if(J==="PCLK_S".toEquivalent())Q.push(Re);else if(0===J.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL[Te],l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(0===J.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL.STCKSEL,l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(J))for(Z=NUTOOL_CLOCK.g_CLKSEL[J],l=0,r=Z.length;l<r;l+=1)-1!==(F=Z[l]).indexOf("DIV+")?(H=(H=F.sliceAfterX("(")).slicePriorToX("+"),J=F.slicePriorToX("+")+":"+It(H)+"+1)",Q.push(J)):(F=hn(F),Q.push(F.slicePriorToX(":")));"SYSTICK"===t&&0!==u.indexOf("KM1M7CF")&&Q.push("CPUCLK");$("#"+e)[0].appendChild(ct("canvas",t+"_canvas")),S=$("#"+t+"_canvas"),S[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),K.addEvent(S[0],"mousemove",function(e){W(S[0],e),V()}),K.addEvent(S[0],"click",function(){G()}),B()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]),Ee=e):qe("tab-4",e,"",""),j=NUTOOL_CLOCK.g_Module[e][1],te=[],ne=0,-1===j.indexOf("/"))te.push(j);else{for(;-1!==j.indexOf("/")&&(te.push(j.slicePriorToX("/")),j=j.sliceAfterX("/"),!((ne+=1)>10)););te.push(j)}for(i=0,o=te.length;i<o;i+=1)Lt(te[i],1,"",me);if(Nt.push(e),xt.push($("#"+e+"_span_showRealFreq").text()),d3.selectAll("g.node").each(function(t){t.name===e&&(t.enabled=1,t.freq=$("#"+e+"_span_showRealFreq").text())}),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1===$.inArray("WDT",Nt)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&(ae("WDT")||re("WWDT")):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1===$.inArray("WWDT",Nt)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&(ae("WWDT")||re("WDT")),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1===$.inArray("EWDT",Nt)&&(ae("EWDT")||re("EWWDT")):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1===$.inArray("EWWDT",Nt)&&(ae("EWWDT")||re("EWDT")):"CLKO_1Hz"===e?void 0===NUTOOL_CLOCK.g_Module.RTC&&void 0===NUTOOL_CLOCK.g_Module.RTC0||-1!==$.inArray("RTC".toEquivalent().toString(),Nt)||ae("RTC".toEquivalent().toString())||re("CLKO_1Hz"):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1===$.inArray("HSUSBH",Nt)&&(ae("HSUSBH")||re("USBH")):"HSUSBH"===e?void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1===$.inArray("USBH",Nt)&&(ae("USBH")||re("HSUSBH")):"DMIC0"===e?void 0!==NUTOOL_CLOCK.g_Module.VAD0SEL&&-1===$.inArray("VAD0SEL",Nt)&&(ae("VAD0SEL")||re("DMIC0")):"VAD0SEL"===e&&void 0!==NUTOOL_CLOCK.g_Module.DMIC0&&-1===$.inArray("DMIC0",Nt)&&(ae("DMIC0")||re("VAD0SEL")),u.includes("KM1M0DF")){let t=[];for(var r in NUTOOL_CLOCK.g_Module)r!=e&&NUTOOL_CLOCK.g_Module[r][1]===j&&t.push(r);for(var r of t)-1===$.inArray(r,Nt)&&(ae(r)||re(e))}}return l},re=function(e,t){var n;if(t=void 0!==t?t:[],void 0!==NUTOOL_CLOCK.g_Module[e]){if($("#"+e+"_div").remove(),$("#"+e+"_canvas").remove(),$("#"+e+"_div_protection").remove(),$("#"+e+"_div_showRealFreq").remove(),j=NUTOOL_CLOCK.g_Module[e][1],te=[],ne=0,-1===j.indexOf("/"))te.push(j);else{for(;-1!==j.indexOf("/")&&(te.push(j.slicePriorToX("/")),j=j.sliceAfterX("/"),!((ne+=1)>10)););te.push(j)}for(i=0,o=te.length;i<o;i+=1)Lt(te[i],0,"",me);if(-1!==(n=Nt.indexOf(e))&&(Nt.splice(n,1),xt.splice(n,1)),d3.selectAll("g.node").each(function(t){t.name===e&&(t.enabled=0,t.freq=-1)}),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1!==$.inArray("WDT",Nt)&&-1===$.inArray("WDT",t)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&re("WDT"):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1!==$.inArray("WWDT",Nt)&&-1===$.inArray("WWDT",t)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&re("WWDT"),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1!==$.inArray("EWDT",Nt)&&-1===$.inArray("EWDT",t)&&re("EWDT"):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1!==$.inArray("EWWDT",Nt)&&-1===$.inArray("EWWDT",t)&&re("EWWDT"):e==="RTC".toEquivalent().toString()?void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==$.inArray("CLKO_1Hz",Nt)&&-1===$.inArray("CLKO_1Hz",t)&&re("CLKO_1Hz"):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1!==$.inArray("HSUSBH",Nt)&&-1===$.inArray("HSUSBH",t)&&re("HSUSBH"):"HSUSBH"===e?void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1!==$.inArray("USBH",Nt)&&-1===$.inArray("USBH",t)&&re("USBH"):"DMIC0"===e?void 0!==NUTOOL_CLOCK.g_Module.VAD0SEL&&-1!==$.inArray("VAD0SEL",Nt)&&-1===$.inArray("VAD0SEL",t)&&re("VAD0SEL"):"VAD0SEL"===e&&void 0!==NUTOOL_CLOCK.g_Module.DMIC0&&-1!==$.inArray("DMIC0",Nt)&&-1===$.inArray("DMIC0",t)&&re("DMIC0"),u.includes("KM1M0DF")){let n=[];for(var l in NUTOOL_CLOCK.g_Module)l!=e&&NUTOOL_CLOCK.g_Module[l][1]===j&&n.push(l);for(var l of n)-1!==$.inArray(l,Nt)&&-1===$.inArray(l,t)&&re(l)}}},Ce=function(e,t){var n,i,o,l,a,r,s,C,L,_,d;function c(e){e.name===t&&(_=e)}function O(e){e.name===l&&(d=e)}if(a=function(e,t){var n,i=null,o=null;return""===t||(d3.selectAll("g.node").each(function(e){e.name===t&&(o=e)}),d3.selectAll("g.node").each(function(t){t.name===e&&(i=t)}),null!==i&&null!==o&&(ve.selectAll("path.link").filter(function(e){return e.target.id==i.id}).remove(),(n=i.parent.children.indexOf(i))>-1&&i.parent.children.splice(n,1),void 0!==o.children||void 0!==o._children?void 0!==o.children?o.children.push(i):o._children.push(i):(o.children=[],o.children.push(i)),!0))},void 0===t&&(t=""),r="",s="",void 0!==NUTOOL_CLOCK.g_Module[e]&&(r=NUTOOL_CLOCK.g_Module[e][0],s=NUTOOL_CLOCK.g_Module[e][2]),-1!==r.indexOf(Vt)||"none"!==s)for(n=0,i=Et.length;n<i;n+=1)if((l=Et[n])!==e&&void 0!==NUTOOL_CLOCK.g_Module[l]){const e=It(C=NUTOOL_CLOCK.g_Module[l][0]);if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C.slicePriorToX("/").toString())&&-1!==e)for(const t of NUTOOL_CLOCK.g_CLKSEL[C.slicePriorToX("/").toString()]){const n=t.slicePriorToX(":").slicePriorToX("/").toString(),i=parseInt(t.sliceAfterX(":").toString(),10);if(n===r.slicePriorToX("/").toString()&&e===i){C=n;break}}if(L=NUTOOL_CLOCK.g_Module[l][2],-1!==r.indexOf(Vt)&&C.slicePriorToX("/").toString()===r.slicePriorToX("/").toString()||"none"!==L&&L===s){if("SYSTICK"===l&&1===It("CLKSRC"))continue;d3.selectAll("g.node").each(c),d3.selectAll("g.node").each(O),""!==t?a(l,t)&&_.enabled&&d.enabled?-1!==(o=$.inArray(l,Nt))&&(Nt.splice(o,1),xt.splice(o,1),qe("tab-4",l,"",""),Nt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),xt.push(d.freq)):!_.enabled&&d.enabled&&re(d.name):d.enabled&&-1!==(o=$.inArray(l,Nt))&&(Nt.splice(o,1),xt.splice(o,1),qe("tab-4",l,"",""),Nt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),xt.push(d.freq))}}},d3.selectAll(".d3-tip").remove(),Ut(Pt)&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?Nt.push(tn):Nt.push("LIRC"),xt.push(P.toHzString())),(Ut(kt)||Ut("HIRC1EN"))&&(Nt.push(Jt),xt.push(b.toHzString())),(Ut(Rt)||Ut("HIRC2EN"))&&(Nt.push(Qt),xt.push(U.toHzString())),Ut(mt)&&(Nt.push(en),xt.push(v.toHzString())),Ut("MIRCEN")&&(Nt.push("MIRC"),xt.push(k.toHzString())),Ut("MIRC1P2MEN")&&(Nt.push("MIRC1P2M"),xt.push(I.toHzString())),0!==R&&(Nt.push("RTC32k"),xt.push(R.toHzString())),(Ut(At)||Ut("LIRC32KEN"))&&(Nt.push(Yt),xt.push(A.toHzString())),Ut(yt)&&(Nt.push(Gt),xt.push(y.toHzString())),pn(e)&&(Nt.push("EXT"),xt.push(-1)),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]){if(0===u.indexOf("KM1M7CF"))switch(It("PLL_SRC")){case 0:default:Xe.push(jt);break;case 1:Ge.push(jt)}else if(0===u.indexOf("KM1M0DF"))switch(It("PLLISEL")){case 0:default:Xe.push(jt);break;case 1:Ge.push(jt)}else if(0===u.indexOf("M55M1")||0===u.indexOf("M5531"))switch(It("APLL0SRC")){case 0:Ge.push(jt);break;case 1:Xe.push(jt);break;default:De.push(jt)}else switch(It("PLL_SRC")){case 1:Xe.push(jt);break;case 2:case 3:Be.push(jt);break;case 0:Ge.push(jt);break;default:Ut(Pt)?Xe.push(jt):Ut("MIRCEN")?Be.push(jt):Ge.push(jt)}Ut("PD")&&!Ut("PLLEN")&&Ut("NPLLEN")&&!Ut("APLL0EN")||-1===$.inArray(jt,Ne)||(Nt.push(jt),xt.push(m.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1){switch(It("PLLFNSRC")){case 0:Ge.push("PLLFN");break;case 1:Xe.push("PLLFN")}Ut("PDFN")||-1===$.inArray("PLLFN",Ne)||(Nt.push("PLLFN"),xt.push(w.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(Ge.push("PLL2"),Ut("PLL2CKEN")&&-1!==$.inArray("PLL2",Ne)&&(Nt.push("PLL2"),xt.push(F.toHzString()))),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&(Ge.push("PLL480M"),Ut("PLL2CKEN")&&-1!==$.inArray("PLL480M",Ne)&&(Nt.push("PLL480M"),xt.push(H.toHzString()))),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL||void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL){if(0===u.indexOf("M55M1")||0===u.indexOf("M5531"))switch(It("APLL1SRC")){case 0:Ge.push(Zt);break;case 1:Xe.push(Zt);break;default:De.push(Zt)}else Ge.push(Zt);Ut("APD")&&!Ut("APLL1EN")||-1===$.inArray(Zt,Ne)||(Nt.push(Zt),xt.push(X.toHzString()))}if(0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&un(e)&&(Ge.push("HSUSB_OTG_PHY"),Ut(yt)&&-1!==$.inArray("HSUSB_OTG_PHY",Ne)&&(Nt.push("HSUSB_OTG_PHY"),xt.push(D.toHzString()))),C=Ft,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)if(M=NUTOOL_CLOCK.g_CLKSEL[C][t],f=It(C),T=parseInt(M.sliceAfterX(":"),10),f===T){M=M.slicePriorToX(":").slicePriorToX("/").toString();const e=0===u.indexOf("M2L31")?on:nn;ie(M,e);break}if(Nt.push(nn),xt.push(B.toHzString()),0===u.indexOf("M55M1")||0===u.indexOf("M5531"))nt.push(on,ln,an,rn),Nt.push(on,ln,an,rn),xt.push(z.toHzString(),W.toHzString(),V.toHzString(),q.toHzString());else if(0===u.indexOf("M2L31")){for(Nt.push(on),xt.push(z.toHzString()),it.push(nn),ot.push(an),t=0,n=NUTOOL_CLOCK.g_CLKSEL[Ht].length;t<n;t+=1)if(M=NUTOOL_CLOCK.g_CLKSEL[Ht][t],f=It(Ht),T=parseInt(M.sliceAfterX(":"),10),f===T){ie(M=M.slicePriorToX(":").slicePriorToX("/").toString(),ln);break}Ut("HCLK1EN")&&(Nt.push(ln,an),xt.push(W.toHzString(),V.toHzString()))}if("CPUCLK"!==nn&&"SYSCLK"!==nn&&(0===u.indexOf("M55M1")||0===u.indexOf("M5531")?Ot.push("CPUCLK"):nt.push("CPUCLK"),Nt.push("CPUCLK"),xt.push(B.toHzString())),0===u.indexOf("KM1M0DF")){switch(It(On)){case 1:Ge.push(Cn);break;case 2:Ye.push(Cn);break;default:Xe.push(Cn)}if(Y>0&&Nt.push(Cn),xt.push(Y.toHzString()),ie(nn,Ln),Nt.push(Ln),xt.push(Z.toHzString()),1===It(Tn))Ve.push(_n);else He.push(_n);J>0&&Nt.push(_n),xt.push(J.toHzString())}else 0===u.indexOf("M55M1")||0===u.indexOf("M5531")?(Nt.push(Cn,Ln,_n,dn,cn),xt.push(Y.toHzString(),Z.toHzString(),J.toHzString(),Q.toHzString(),ee.toHzString()),it.push(Cn,Ln,_n,dn),Ct.push(cn)):0===u.indexOf("M2L31")?(Nt.push(Cn,Ln),xt.push(Y.toHzString(),Z.toHzString()),nt.push(Cn,Ln),Ct.push(_n),Ut("HCLK1EN")&&(Nt.push(_n),xt.push(J.toHzString()))):(G>0&&(ie(nn,sn),Nt.push(sn),xt.push(G.toHzString())),Y>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(On)&&(ie(nn,Cn),Nt.push(Cn),xt.push(Y.toHzString())),Z>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(fn)&&(ie(nn,Ln),Nt.push(Ln),xt.push(Z.toHzString())),J>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Tn)&&(ie(nn,_n),Nt.push(_n),xt.push(J.toHzString())));for(ye=[],0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?ye.push(tn):ye.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&ye.push(Jt),0!==NUTOOL_CLOCK.g_HIRC2frequency&&ye.push(Qt),0!==NUTOOL_CLOCK.g_HIRC48frequency&&ye.push(en),0!==NUTOOL_CLOCK.g_MIRCfrequency&&ye.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&ye.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&ye.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[$t],function(e){return-1!==e.indexOf(At+":")}).length&&ye.push(Yt),0!==_.filter(NUTOOL_CLOCK.g_register_map[$t],function(e){return-1!==e.indexOf(yt+":")}).length&&ye.push(Gt),pn(e)&&ye.push("EXT"),l=0,r=e.length;l<r;l+=1){if(S=e[l],C="SYSTICK"!==S?NUTOOL_CLOCK.g_Module[S][0]:Ut("CLKSRC")?"CPUCLK":NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Xt)?Xt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){if(NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C)?(c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=It(C)+(It(c)<<O)>>>0):f=It(C),M=NUTOOL_CLOCK.g_CLKSEL[C][t],T=parseInt(M.sliceAfterX(":"),10),f===T){ie(M=Kn(M.slicePriorToX(":").slicePriorToX("/").toString()),S),C=M;break}t===n-1&&(M=NUTOOL_CLOCK.g_CLKSEL[C][0],T=parseInt(M.sliceAfterX(":"),10),Lt(C,T,!1,!1),ie(M=M.slicePriorToX(":").slicePriorToX("/").toString(),S),C=M)}else ie(C=C.slicePriorToX("/").toString(),S);if(j=NUTOOL_CLOCK.g_Module[S][1],te=[],ne=0,-1===j.indexOf("/"))te.push(j);else{for(;-1!==j.indexOf("/")&&(te.push(j.slicePriorToX("/")),j=j.sliceAfterX("/"),!((ne+=1)>10)););te.push(j)}for(E=!0,i=0,o=te.length;i<o;i+=1)if(!vt(te[i])){E=!1;break}E&&(-1!==$.inArray(C,Nt)?(Nt.push(S),qe("tab-4",S,"",""),xt.push($("#"+S+"_span_showRealFreq").text())):re(S))}Ae.name=g.slicePriorToX("("),Ae.enabled=1,Ae.freq=-1,Ae.children=oe(ye),ye.push(jt,"PLL2","PLL480M",Zt,"PLLFN","HSUSB_OTG_PHY",nn,on,ln,an,rn,sn,Cn,Ln,_n,dn,cn,"CPUCLK","EXT"),Le=0,_e=null,de=null,ce=750,Te=!1,ue=window.screen.width-250,pe=window.screen.height-250,ge=d3.layout.tree().size([pe,ue]).nodeSize([15,70]);var Sn,Mn,Nn,xn,En=d3.svg.line().x(function(e){return e.y}).y(function(e){return e.x}).interpolate("linear");function Pn(){ge.sort(function(e,t){return t.name.toLowerCase()<e.name.toLowerCase()?1:-1})}function bn(){_e=null,d3.selectAll(".ghostCircle").attr("class","ghostCircle"),d3.select(se).select(".ghostCircle").attr("pointer-events",""),Re(),$n(Oe),xe.hide()}function Un(e){var t,n;t=-Oe.y,t*=e,n=(n=-Oe.x)*e+3*pe/4,d3.select("g").transition().duration(ce).attr("transform","translate("+t+","+n+")scale("+e+")"),he.scale(e),he.translate([t,n])}function vn(e){ve.selectAll("path.selected").data([]).exit().remove(),ve.selectAll("path.selected").data(e).enter().append("svg:path").attr("class","selected").attr("d",Ke)}function kn(e){var t,n,i;if(dt(),e.enabled){for(e.name==="RTC".toEquivalent().toString()&&void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==NUTOOL_CLOCK.g_Module.CLKO_1Hz[0].indexOf("RTC")&&-1!==$.inArray("CLKO_1Hz",Nt)?re(e.name,["CLKO_1Hz"]):re(e.name),ae(e.name,!0),t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],ve.selectAll("path.link").filter(function(e){return _.any(t,function(t){return t===e.target})}).each(function(e){i.push(e)}),vn(i)}}function In(e){var t,n,i;if(dt(),gn=!0,-1===$.inArray(e.name,ye)){if(le(e.name,e.enabled),$n(e),e.enabled){for(t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],ve.selectAll("path.link").filter(function(e){return _.any(t,function(t){return t===e.target})}).each(function(e){i.push(e)}),vn(i)}else ve.selectAll("path.selected").data([]).exit().remove();xe.hide(e),$("#tabs").tabs("option","active")+1==x&&xe.show(e)}else 0===e.name.indexOf("LIRC")||0===e.name.indexOf(tn)||0===e.name.indexOf(Jt)||0===e.name.indexOf(Qt)||0===e.name.indexOf("HIRC48")||0===e.name.indexOf("MIRC")||0===e.name.indexOf(Yt)||0===e.name.indexOf(Gt)||0===e.name.indexOf("RTC32k")?$("#tabs").tabs({active:0}):-1!==e.name.indexOf("PLL")?$("#tabs").tabs({active:1}):0!==e.name.indexOf(nn)&&0!==e.name.indexOf(sn)&&0!==e.name.indexOf("CPUCLK")&&0!==e.name.indexOf(Cn)&&0!==e.name.indexOf(Ln)&&0!==e.name.indexOf(_n)||$("#tabs").tabs({active:$("#tabs").tabs("option","active")-1}),xe.hide(e)}function Rn(e){return void 0===e.parent||Rn(e.parent)?e.enabled:0}function An(e){var t,n,i,o;for(0,d3.selectAll("g.node").each(function(n){n.name.toLowerCase()===e.toLowerCase()&&(t=n)}),n=[],i=t;!_.isUndefined(i);)n.push(i),i=i.parent;o=[],ve.selectAll("path.link").filter(function(e){return _.any(n,function(t){return t===e.target})}).each(function(e){o.push(e)}),vn(o)}function yn(e,t,n,i,o){var l,a={},r={};void 0===n&&(n=!1),t=Kn(t),d3.selectAll("g.node").each(function(e){e.name===t&&(a=e)}),d3.selectAll("g.node").each(function(t){t.name===e&&(r=t)}),ve.selectAll("path.selected").data([]).exit().remove(),ve.selectAll("path.link").filter(function(e){return e.target.id==r.id}).remove(),(l=r.parent.children.indexOf(r))>-1&&r.parent.children.splice(l,1),void 0!==a.children||void 0!==a._children?void 0!==a.children?a.children.push(r):a._children.push(r):(a.children=[],a.children.push(r)),-1!==(l=$.inArray(e,Nt))&&(Nt.splice(l,1),xt.splice(l,1),Nt.push(e),r.freq=$("#"+e+"_span_showRealFreq").text(),xt.push(r.freq)),o!==i&&Ce(e,t),n&&$n(Oe)}function mn(e,t,n){var i,o={};void 0===t&&(t=!1),d3.selectAll("g.node").each(function(t){t.name===e&&(o=t)}),-1!==(i=$.inArray(e,Nt))&&(Nt.splice(i,1),xt.splice(i,1),Nt.push(e),o.freq=$("#"+e+"_span_showRealFreq").text(),xt.push(o.freq)),S=e,-1!==n&&a!==n&&Ce(S),t&&$n(Oe)}function $n(e){var n,i,o,l,a=ge.nodes(Oe).reverse(),r=ge.links(a);a.forEach(function(e){e.y=e.depth*(10*(Le+3))}),(i=(n=ve.selectAll("g.node").data(a,function(e){return e.id||(e.id=++t)})).enter().append("g").call(be).attr("class","node").attr("id",function(e){return e.name}).attr("transform",function(){return"translate("+e.y0+","+e.x0+")"}).on("click",kn).on("dblclick",In).on("updateFromCanvas",yn).on("updateFromDividerDialog",mn).on("zoomFromToolbar",Un).on("searchFromInput",An).on("mouseover",function(e){d3.select(this).classed("hover",!0),e==Oe||-1!==$.inArray(e.name,ye)?d3.select(this).classed("notDraggable",!0):d3.select(this).classed("notDraggable",!1),xe.hide(e),$("#tabs").tabs("option","active")+1!=x||Te||e===Oe||xe.show(e)}).on("mouseout",function(e){d3.select(this).classed("hover",!1),xe.hide(e)})).append("circle").attr("class","nodeCircle"),i.append("text").attr("x",function(){return 10}).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",function(){return"start"}).text(function(e){return e.enabled&&-1!==e.freq&&""!==e.freq?e.name+":"+e.freq:e.name}).style("fill-opacity",0),i.append("circle").attr("class","ghostCircle").attr("r",30).attr("opacity",.2).style("fill","lightyellow").attr("pointer-events","mouseover").on("mouseover",function(e){ke(e)}).on("mouseout",function(e){Ie(e)}),n.select("text").attr("x",function(){return 10}).attr("text-anchor",function(){return"start"}).attr("font-weight",function(e){return e.children||e._children?"bold":"normal"}).text(function(e){return e.enabled&&-1!==e.freq&&""!==e.freq?e.name+":"+e.freq:e.name}),n.select("circle.nodeCircle").attr("r",4.5).style("fill",function(e){return e.enabled?"#41AF88":"#fff"}),n.transition().duration(ce).attr("transform",function(e){return"translate("+e.y+","+e.x+")"}).select("text").style("fill-opacity",1),(o=n.exit().transition().duration(ce).attr("transform",function(){return"translate("+e.y+","+e.x+")"}).remove()).select("circle").attr("r",0),o.select("text").style("fill-opacity",0),(l=ve.selectAll("path.link").data(r,function(e){return e.target.id})).enter().insert("path","g").attr("class","link").style("stroke",function(){return"LightSteelBlue"}).attr("d",function(){var t={x:e.x0,y:e.y0};return Ke({source:t,target:t})}),l.transition().duration(ce).attr("d",Ke),l.exit().transition().duration(ce).attr("d",function(){var t={x:e.x,y:e.y};return Ke({source:t,target:t})}).remove(),a.forEach(function(e){e.x0=e.x,e.y0=e.y})}Ke=function(e){return En([{x:e.source.x,y:e.source.y},{x:e.source.x,y:e.source.y+4*(e.target.y-e.source.y)/5},{x:e.target.x,y:e.source.y+4*(e.target.y-e.source.y)/5},{x:e.target.x,y:e.target.y}])},function e(t,n,i){var o,l,a=i(t);if(t&&(n(t),a))for(l=a.length,o=0;o<l;o++)e(a[o],n,i)}(Ae,function(e){Le=Math.max(e.name.length,Le)},function(e){return e.children&&e.children.length>0?e.children:null}),Pn(),he=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",function(){ve.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}),Se=d3.behavior.drag().on("dragstart",function(){$("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide())}),Me=d3.select("#tab-4").append("svg").attr("width",ue).attr("height",pe).attr("class","overlay").call(Se).call(he).on("dblclick.zoom",null).on("mouseover",function(){d3.select(this).classed("baseDraggable",!0)}).on("mouseout",function(){d3.select(this).classed("baseDraggable",!1)}),$("html").hasClass("ie10+")&&$("#tab-4").dblclick(function(){gn||zt("reviewReport"),gn=!1}),xe=d3.tip().attr("class","d3-tip").html(function(e){var l,a,r,s,_,c,O,f="",T="",p="",g=[];if(!Te){if(-1!==L.indexOf("Simplified")?(l="启用中。",a="停用中。",r="启用器: ",s="选择器: ",_="除法器: ",c="汇流排频率",O="引擎频率"):-1!==L.indexOf("Traditional")?(l="啟用中。",a="停用中。",r="啟用器: ",s="選擇器: ",_="除法器: ",c="匯流排頻率",O="引擎頻率"):(l=" is enabled.",a=" is disabled.",r="Activator: ",s="Selector: ",_="Divider: ",c="Bus Clock",O="Engine Clock"),"SYSTICK"!==(S=e.name))if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Vt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)T=NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(T,g)&&g.push(T);else C!==S+Vt&&g.push(C);else{if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Xt))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[Xt].length;t<n;t+=1)T=NUTOOL_CLOCK.g_CLKSEL[Xt][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(T,g)&&g.push(T);else g.push(NUTOOL_CLOCK.g_Module[S][0].slicePriorToX("/").toString());0!=u.indexOf("KM1M7CF")&&g.push("CPUCLK")}if(f=S+(e.enabled?l:a)+"</br>",NUTOOL_CLOCK.g_Module.hasOwnProperty(S)){if(f+="<hr>",j=NUTOOL_CLOCK.g_Module[S][1],te=[],ne=0,-1===j.indexOf("/"))te.push(j);else{for(;-1!==j.indexOf("/")&&(te.push(j.slicePriorToX("/")),j=j.sliceAfterX("/"),!((ne+=1)>10)););te.push(j)}for(f+=r,i=0,o=te.length;i<o;i+=1)T=lt(te[i]),0!==i&&""!==T&&(f+=" / "),f+=T;if(f+="</br>",d=[],-1!==NUTOOL_CLOCK.g_Module[S][0].indexOf(Vt)){if(C=NUTOOL_CLOCK.g_Module[S][0],ne=0,-1===C.indexOf("/"))d.push(C);else{for(;-1!==C.indexOf("/")&&(d.push(C.slicePriorToX("/")),C=C.sliceAfterX("/"),!((ne+=1)>10)););d.push(C)}for(f+=s,i=0,o=d.length;i<o;i+=1)0===i||Tt(d[i])||(f+=" / "),f+=lt(d[i]),NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(d[i])&&(f=f+" / "+lt(NUTOOL_CLOCK.g_CLKSEL_EXTENDED[d[i]][0].slicePriorToX(":")));f+="</br>"}0===d.length&&"SYSTICK"===S&&(f=f+s+Wt+"[2]</br>"),"none"!==NUTOOL_CLOCK.g_Module[S][2]&&(f=f+_+lt(NUTOOL_CLOCK.g_Module[S][2])+"</br>")}else if(S===jt||S===Zt||"PLLFN"===S){for(f=f+"<hr>"+r,i=0,o=(te=["PD","OE","PLLEN","PDFN","OEFN","PLLFN","NPLLEN","APLL0EN","APLL1EN"]).length;i<o;i+=1)f.lastIndexOf(r)+r.length!==f.length&&""!==lt(te[i])&&(f+=" / "),f+=lt(te[i]);for(i=0,o=(d=["PLL_SRC","PLL_SRC","PLLISEL","APLL0SRC","APLL1SRC"]).length;i<o;i+=1)if(""!==lt(d[i])){f+="</br>",f+=s,f+=lt(d[i]);break}f+="</br>"}else{switch(T="",p="",S){case"LIRC":T=lt(Pt);break;case Jt:T=lt(kt),""!==lt("HIRC1EN")&&(T=T+" / "+lt("HIRC1EN"));break;case Qt:T=lt(Rt),""!==lt("HIRC2EN")&&(T=T+" / "+lt("HIRC2EN"));break;case en:T=lt(mt);break;case"MIRC":T=lt("MIRCEN");break;case"MIRC1P2M":T=lt("MIRC1P2MEN");break;case Yt:T=lt(At);break;case Gt:T=lt(yt);break;case"PLL2":case"PLL480M":T=lt("PLL2CKEN");break;case"HSUSB_OTG_PHYOTGPHY":T=lt(yt)}""!==T&&(p=p+r+T+"</br>"),""!==(T=lt(S+Vt))&&(p=p+s+T+"</br>"),""!==(T=lt(S+"DIV"))&&(p=p+_+T+"</br>"),""!==p&&(f=f+"<hr>"+p)}}return e.enabled&&NUTOOL_CLOCK.g_Module.hasOwnProperty(S)&&rt(S)&&(f=(f+="<hr>")+c+" "+at(S)+"</br>",st(S)&&(f=f+O+" ("+S+"): "+e.freq+"</br>")),Pe=f,f}),Me.call(xe),xe.direction("e").offset([0,5]),be=d3.behavior.drag().on("dragstart",function(e){e!=Oe&&-1===$.inArray(e.name,ye)&&(d3.event.sourceEvent.stopPropagation(),$("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide()),ve.selectAll("path.selected").data([]).exit().remove(),fe=!0,ge.nodes(e))}).on("drag",function(e){Te=!0,e!=Oe&&-1===$.inArray(e.name,ye)&&(fe&&function(e,i){var o=[];if(dt(),de=e,ve.selectAll("g.node").sort(function(e){return e.id!=de.id?1:-1}),ve.selectAll("path.link").filter(function(e){return e.target.id==de.id}).remove(),"SYSTICK"!==(S=de.name)){if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Vt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){const e=Kn(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString());o.push(e)}}else{if(C=NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Xt)?Xt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)o.push(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString());else o.push(C.slicePriorToX("/").toString());0!=u.indexOf("KM1M7CF")&&o.push("CPUCLK")}ve.selectAll("g.node").data(ge.nodes(Oe),function(e){return e.id||(e.id=++t)}).select("circle.nodeCircle").style("fill",function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"blue":"#41AF88"}),d3.select(i).select(".ghostCircle").attr("pointer-events","none"),d3.selectAll(".ghostCircle").data(ge.nodes(Oe),function(e){return e.id||(e.id=++t)}).attr("class",function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"ghostCircle show":"ghostCircle"}),d3.select(i).attr("class","node activeDrag"),fe=!1}(e,se=this),e.x0+=d3.event.dy,e.y0+=d3.event.dx,d3.select(this).attr("transform","translate("+e.y0+","+e.x0+")"),Re())}).on("dragend",function(e){var t,n,l,a;if(Te=!1,e!=Oe&&-1===$.inArray(e.name,ye))if(se=this,_e){if((t=de.parent.children.indexOf(de))>-1&&de.parent.children.splice(t,1),void 0!==_e.children||void 0!==_e._children?void 0!==_e.children?_e.children.push(de):_e._children.push(de):(_e.children=[],_e.children.push(de)),T=f=-1,l=_e.name,"SYSTICK"!==(a=de.name)){if(C=NUTOOL_CLOCK.g_Module[a][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if(Kn((M=NUTOOL_CLOCK.g_CLKSEL[C][i]).slicePriorToX(":").slicePriorToX("/").toString())===l){if(NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C))c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=It(C)+(It(c)<<O)>>>0,T=parseInt(M.sliceAfterX(":"),10),s=Math.pow(2,O)-1,h=T-(p=T&s)>>O>>>0,Lt(C,p),Lt(c,h);else{if(f=It(C),T=parseInt(M.sliceAfterX(":"),10),("CM2U51"===u||"M2U51"===u)&&"LCDCP"===a&&f!==T)continue;Lt(C,T)}break}}else if(-1!==l.indexOf("CPUCLK"))Lt("CLKSRC",1,Wt);else{const e=1===It("CLKSRC");if(Lt("CLKSRC",0,Wt),C=Xt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if(-1!==(M=NUTOOL_CLOCK.g_CLKSEL[C][i]).indexOf(l)){f=e?-1:It(Xt),T=parseInt(M.sliceAfterX(":"),10),Lt(C,parseInt(M.sliceAfterX(":"),10),"",!1);break}}_e.enabled?-1!==(n=$.inArray(a,Nt))&&(Nt.splice(n,1),xt.splice(n,1),qe("tab-4",a,"",""),Nt.push(a),e.freq=$("#"+a+"_span_showRealFreq").text(),xt.push(e.freq)):re(a),T!==f&&Ce(a,l),Pn(),bn()}else bn()}),ke=function(e){var i=[];if(_e=null,de){if("SYSTICK"!==(S=de.name)?(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Vt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C)&&(i=NUTOOL_CLOCK.g_CLKSEL[C].slice())):(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Xt)?i=NUTOOL_CLOCK.g_CLKSEL[Xt].slice():i.push(NUTOOL_CLOCK.g_Module[S][0]),0!=u.indexOf("KM1M7CF")&&i.push("CPUCLK")),i.length>0){for(t=0,n=i.length;t<n;t+=1)if(M=Kn(i[t].slicePriorToX(":").slicePriorToX("/").toString()),e.name===M){_e=e;break}}else e.name===C&&(_e=e);Re()}},Ie=function(){_e=null,Re()},Re=function(){var e,t=[];null!==de&&null!==_e&&(t=[{source:{x:_e.y0,y:_e.x0},target:{x:de.y0,y:de.x0}}]),(e=ve.selectAll(".templink").data(t)).enter().append("path").attr("class","templink").attr("d",function(e){return En([{x:e.source.y,y:e.source.x},{x:e.source.y+2*(e.target.y-e.source.y)/3,y:e.source.x},{x:e.source.y+2*(e.target.y-e.source.y)/3,y:e.target.x},{x:e.target.y,y:e.target.x}])}).attr("pointer-events","none"),e.attr("d",function(e){return En([{x:e.source.y,y:e.source.x},{x:e.source.y+2*(e.target.y-e.source.y)/3,y:e.source.x},{x:e.source.y+2*(e.target.y-e.source.y)/3,y:e.target.x},{x:e.target.y,y:e.target.x}])}),e.exit().remove()},ve=Me.append("g").attr("id","g_svgGroup"),(Oe=Ae).x0=pe/2,Oe.y0=ue/2,$n(Oe),Sn=Oe,xn=he.scale(),Mn=-Sn.y0,Mn*=xn,Nn=(Nn=-Sn.x0)*xn+3*pe/4,d3.select("g").transition().duration(ce).attr("transform","translate("+Mn+","+Nn+")scale("+xn+")"),he.scale(xn),he.translate([Mn,Nn])}function qe(e,t,n,i){var o,l,r,s,C,L,_,d,c,O,f,T,p,g,K,h=[],S=[],M="HXT".toEquivalent().toString(),N="LXT".toEquivalent().toString(),x="PLL".toEquivalent().toString(),E="HIRC".toEquivalent().toString(),P="HIRC2".toEquivalent().toString(),b=("HIRC48".toEquivalent().toString(),"LIRC".toEquivalent().toString()),U="HCLK".toEquivalent().toString(),v="HCLK0".toEquivalent().toString(),k="HCLK1".toEquivalent().toString(),I="HCLK2".toEquivalent().toString(),R="ACLK".toEquivalent().toString(),A="PCLK".toEquivalent().toString(),y="PCLK0".toEquivalent().toString(),m="PCLK1".toEquivalent().toString(),F="PCLK2".toEquivalent().toString(),H="PCLK3".toEquivalent().toString(),X="PCLK4".toEquivalent().toString();if(0===(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i).indexOf(U)||0===C.indexOf("RTC32k")||0===C.indexOf(v)||0===C.indexOf(k)||0===C.indexOf(I)||0===C.indexOf("LIRC")||0===C.indexOf(b)||0===C.indexOf(R)||0===C.indexOf(E)||0===C.indexOf(P)||0===C.indexOf("MIRC")||0===C.indexOf(N)||0===C.indexOf(M)||0===C.indexOf(x)||0===C.indexOf("PLL2")||0===C.indexOf("PLL480M")||0===C.indexOf("APLL")||0===C.indexOf("PLLFN")||0===C.indexOf("HSUSB_OTG_PHY")||0===C.indexOf(y)||0===C.indexOf(m)||0===C.indexOf(F)||0===C.indexOf(H)||0===C.indexOf(X))h.push(C);else if(C==="HCLK_S".toEquivalent())h.push(U);else if(C==="PCLK_S".toEquivalent()||C===A)h.push(A);else if(0===C.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL["STCLK_S".toEquivalent()]).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,Ne)&&h.push(S[o].slicePriorToX(":"));else if(0===C.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL.STCKSEL).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,Ne)&&h.push(S[o].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL[C]).length;o<l;o+=1){const e=hn(S[o]);i=-1===(i=e).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,Ne)&&h.push(e.slicePriorToX(":"))}if("SYSTICK"===t&&0!==u.indexOf("KM1M7CF")&&h.push("CPUCLK"),a=0,"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=It(NUTOOL_CLOCK.g_Module[t][2])),L="","SYSTICK"!==t){if(L=d=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(L)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[L][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),_=It(L)+(It(f)<<T)>>>0):_=It(L),-1!==_&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d))for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===_.toString()){L=hn(NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":"));break}}else if(0===u.indexOf("KM1M7CF"))L=1==(_=It("CLKSRC").toString())?"CPUCLK":0==(_=It("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(Ut("CLKSRC"))L="CPUCLK";else if(_=It(d="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d)){for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===_){L=NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":");break}}else L=NUTOOL_CLOCK.g_Module[t][0];if(-1===$.inArray(L,h)&&(L=h[0],i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i)))for(r=0,s=NUTOOL_CLOCK.g_CLKSEL[i].length;r<s;r+=1)if(-1!==(d=NUTOOL_CLOCK.g_CLKSEL[i][r]).indexOf(L)&&d.indexOf(":")===L.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),It(i)+(It(f)<<T)>>>0,K=(p=parseInt(d.sliceAfterX(":"),10))-(g=p&Math.pow(2,T)-1)>>T>>>0,Lt(i,g),Lt(f,K)):(It(i),Lt(i,p=parseInt(d.sliceAfterX(":"),10)));break}O=t==="CLKO_Divider".toEquivalent().toString()||t==="CLKO1_Divider".toEquivalent().toString()?et(L)/Math.pow(2,a+1):et(L)/(a+1),rt(t)&&!$("#"+t+"_div_showRealFreq")[0]&&(c="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(c));let w=Tt(O)?O.toHzString():"";$("#"+t+"_span_showRealFreq").text(w),$("#"+t+"_div_showRealFreq").hide()}function Be(){var e=$("#tabs");dt(),$("#tabs ul").append("<li id='li-4'><a href='#tab-4'><span id=module_span>Modules</span></a></li>"),$("#tabs").append("<div id='tab-4'></div>"),-1!==L.indexOf("Simplified")?$("#module_span").text("模块"):-1!==L.indexOf("Traditional")?$("#module_span").text("模組"):$("#module_span").text("Modules"),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),$("#tab-4").css("width",n-f-8+"px")):(e.css("width",n-8+"px"),$("#tab-4").css("width",n-8+"px")),e.css("height",o-8+"px"),$("#tab-4").css("height",o-8+"px"),De(_t(NUTOOL_CLOCK.g_Module)),$("#tabs")[0].style.visibility="visible","none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}function ze(e){var t,i,l,a,r,s,C,_,d,c,O,T,p,h,S,M,E,j,te,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe,Te,ue,pe,ge=$("#tabs"),Ke="Select one of the following frequencies to be the frequency of HCLK.",he="",Se=[],Me=[],xe=20,Ee=20,Pe=0,be=45,ve=30,ke=20,Ie=[],Ae="#C62A39",ye="#DF630E",me="#BC8484",$e="HXT".toEquivalent().toString(),Fe="LXT".toEquivalent().toString(),He="PLL".toEquivalent().toString(),Xe="APLL".toEquivalent().toString(),we="HIRC".toEquivalent().toString(),De="HIRC2".toEquivalent().toString(),qe="HIRC48".toEquivalent().toString(),ze="LIRC".toEquivalent().toString(),We="HCLK".toEquivalent().toString(),Ve="HCLK0".toEquivalent().toString(),Ge="HCLK1".toEquivalent().toString(),Ye="HCLK2".toEquivalent().toString(),je="PCLK".toEquivalent().toString(),Ze="PCLK0".toEquivalent().toString(),Je="PCLK1".toEquivalent().toString(),Qe="PCLK2".toEquivalent().toString(),tt="PCLK3".toEquivalent().toString(),nt="PCLK4".toEquivalent().toString(),it="HCLK_N".toEquivalent().toString(),ot="PCLK_N".toEquivalent().toString(),lt="HCLK_S".toEquivalent().toString(),at="HCLK2_S".toEquivalent().toString(),rt="PCLK_S".toEquivalent().toString(),st="PCLK0SEL".toEquivalent().toString(),Ct="PCLK1SEL".toEquivalent().toString(),Ot="PCLK2SEL".toEquivalent().toString(),ft="XTL32K_EN".toEquivalent().toString(),pt="XTL12M_EN".toEquivalent().toString();if(Oe=function(e,t,n,i){he=i?"<div id='hclk_"+t+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable hclk-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable hclk-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'hclk_"+t+"_p div_clock_composite'>"+n+"</p><br /></div>":"<div id='hclk_"+t+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable hclk-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable hclk-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'hclk_"+t+"_p div_clock_composite'>"+n+"</p><br /></div>",e.append(he),-1!==L.indexOf("Simplified")?($(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text("")):-1!==L.indexOf("Traditional")?($(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text("")):($(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".specificRealOutput_before_span").text("The clock of "))},fe=function(e,t){if(e.appendChild(ct("canvas","HCLK_canvas2")),(M=$("#HCLK_canvas2"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:452px; top:"+t+"px; border: 1px solid black;"),Ie=[],_="HCLK1SEL",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));Te(M[0],Ge,"",Ie)},Te=function(e,n,o,f,g){var S,M,x,E,P=K.getContext(e),b=[],U={},v=function(e){if(-1!==Ue&&100!==Ue&&(e=Ue),void 0===e&&(e=-1),-1===e)for(t=0,i=b.length;t<i;t+=1)de>=b[t].x&&de<=b[t].x+b[t].textLength&&ce>=b[t].y-18-3&&ce<=b[t].y&&(e=t);if(e===b.length)for(t=0,i=b.length;t<i;t+=1)if(b[t].color!==me){e=t;break}if(-1!==e&&b[e]&&-1===b[e].name.indexOf("Disabled"))for(t=0,i=b.length;t<i;t+=1){if(t===e){if(b[t].lastColor=b[t].color=Ae,0===n.indexOf("BASECLK")?(_=0===u.indexOf("KM1M0DF")?"SYSCLKSEL":"BASESEL",d=b[t].name.slicePriorToLastX(":")):-1!==n.indexOf(We)?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")?(_="SYSDIV",d=b[t].name):NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?(_="CPUCKDIV",d=b[t].name):(_=lt,d=b[t].name.slicePriorToLastX(":")):-1!==n.indexOf(Ye)?(_=at,d=b[t].name):-1!==n.indexOf(Ze)?(_=st,d=b[t].name):-1!==n.indexOf(Je)?(_=Ct,d=b[t].name):-1!==n.indexOf(Qe)?(_=Ot,d=b[t].name):(_=rt,d=b[t].name),-1!==d.indexOf("DIV")&&-1!==d.indexOf(":")&&(d=(c=d).slicePriorToX(":")+"+"+c.sliceAfterX("+")),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_CLKSEL[_][l]).indexOf(d.slicePriorToX(":"))&&O.indexOf(":")===d.slicePriorToX(":").length){Lt(_,parseInt(O.sliceAfterX(":"),10));break}k()}else b[t].color!==me&&(b[t].lastColor=b[t].color="black");P.fillStyle="white",P.fillRect(b[t].x,b[t].y-18,b[t].textLength+10,18),P.fillStyle=b[t].color,P.fillText(b[t].name,b[t].x,b[t].y)}U.name&&de>=U.x&&de<=U.x+U.textLength&&ce>=U.y-18&&ce<=U.y&&I(o)},k=function(){for(M=0,t=0,i=b.length;t<i;t+=1){if(b[t].color===Ae){-1===(O=b[t].name).indexOf(We)&&-1===O.indexOf("BASECLK")&&-1===n.indexOf("HPCLK")&&-1===n.indexOf("LPCLK")&&-1===O.indexOf("HCLK")&&(M=-1!==O.indexOf("MHz")?1e6*parseFloat(O.sliceAfterX(":"),O.length-3):-1!==O.indexOf("kHz")?1e3*parseFloat(O.sliceAfterX(":"),O.length-3):parseFloat(O.sliceAfterX(":"),O.length-2));break}if(t===i-1)return this}if(0===M&&(_=0===u.indexOf("M2L31")&&-1!==n.indexOf(Ye)?at:lt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_)))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)if(O=NUTOOL_CLOCK.g_CLKSEL[_][l],It(_)===parseInt(O.sliceAfterX(":"),10)){M=et(O.slicePriorToLastX(":"));break}if(-1!==It(it))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(it)){for(E=It(it).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[it].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[it][l].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[it][l].slicePriorToX(":");break}-1!==x.indexOf("/")&&(M/=parseInt(x.sliceAfterX("/"),10))}else M/=It(it)+1;if(0!==M&&(0===u.indexOf("M2L31")?-1!==n.indexOf(We)?(z=M,B=M/(It("HCLK0DIV")+1)):-1!==n.indexOf(Ye)&&(W=M,V=M/(It("HCLK1DIV")+1)):B=M,0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||(q=M,z=M,W=M,V=M/(It("HCLK2DIV")+1)),$("#HCLK_span_showRealFreq").text(B.toHzString()),$("#HCLK2_span_showRealFreq").text(V.toHzString())),O=$("#HCLK_span_showRealFreq").text(),T=$("#HCLK2_span_showRealFreq").text(),""!==O)if(""===T||0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531"))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(st))if(0===u.indexOf("KM1M0DF"))n===Ze&&(E=It(st),O=b[E].name,Y=O.sliceAfterX(":").toFloat(),$("#PCLK0_span_showRealFreq").text(Y.toHzString())),Z=B/Math.pow(2,It(Ct)),$("#PCLK1_span_showRealFreq").text(Z.toHzString()),n===Qe&&(E=It(Ot),O=b[E].name,J=O.sliceAfterX(":").toFloat(),$("#PCLK2_span_showRealFreq").text(J.toHzString())),G=0;else{Y=It(st)>0?O.toFloat()/Math.pow(2,It(st)):O.toFloat(),$("#PCLK0_span_showRealFreq").text(Y.toHzString()),Z=It(Ct)>0?O.toFloat()/Math.pow(2,It(Ct)):O.toFloat(),$("#PCLK1_span_showRealFreq").text(Z.toHzString());var e=0===u.indexOf("M2L31")?T:O;J=It(Ot)>0?e.toFloat()/Math.pow(2,It(Ot)):e.toFloat(),$("#PCLK2_span_showRealFreq").text(J.toHzString()),G=0}else{if(-1!==It(rt))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(rt)){for(E=It(rt).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[rt].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[rt][l].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[rt][l].slicePriorToX(":");break}M=-1===x.indexOf("/")?O.toFloat():O.toFloat()/parseInt(x.sliceAfterX("/"),10)}else M=O.toFloat()/Math.pow(2,It(rt));else M=O.toFloat();-1!==It(ot)&&(M/=It(ot)+1),G=M,$("#PCLK_span_showRealFreq").text(G.toHzString()),Y=0,Z=0,J=0}else Y=O.toFloat()/(It("PCLK0DIV")+1),$("#PCLK0_span_showRealFreq").text(Y.toHzString()),Z=O.toFloat()/(It("PCLK1DIV")+1),$("#PCLK1_span_showRealFreq").text(Z.toHzString()),J=O.toFloat()/(It("PCLK2DIV")+1),$("#PCLK2_span_showRealFreq").text(J.toHzString()),Q=O.toFloat()/(It("PCLK3DIV")+1),$("#PCLK3_span_showRealFreq").text(Q.toHzString()),ee=T.toFloat()/(It("PCLK4DIV")+1),$("#PCLK4_span_showRealFreq").text(ee.toHzString()),G=0;return ht(),this},I=function(e){if($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(e)){for(h=[],l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)h.push(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/"));for(-1!==L.indexOf("Simplified")?(Ke="请设置值给除频器"+e+"。合理的数值应该为"+h+"的其中一个。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(Ke="請設置值給除頻器"+e+"。合理的數值應該為"+h+"的其中一個。",s="設置值給除頻器"+e,C="確認"):(Ke="Please configure a value to "+e+". The feasible value should be one of "+h+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+Ke+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){for(re=parseInt($("#"+e+"_input_dialog").val(),10).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/")===re){x=NUTOOL_CLOCK.g_CLKSEL[e][l];break}U.name="1/("+e+": "+re+")",P.fillStyle="#FFFFFF",U.textLength=P.measureText(U.name).width,P.fillRect(U.x,U.y-18,U.textLength,25),P.fillStyle=U.lastColor=U.color=Ae,U.x=U.x+(U.textLength-P.measureText(U.name).width)/2,P.fillText(U.name,U.x,U.y),Lt(e,x.sliceAfterX(":")),k(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),re=It(e).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].sliceAfterX(":")===re){x=NUTOOL_CLOCK.g_CLKSEL[e][l];break}$("#"+e+"_input_dialog").val(x.slicePriorToX(":").sliceAfterX("/")).width(35).change(function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||-1===h.indexOf(this.value))&&($("#"+e+"_input_dialog").val("1"),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again."))})}else{for(t=0,i=N.length;t<i;t+=1)for(p=N[t],l=0,a=NUTOOL_CLOCK.g_register_map[p].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_register_map[p][l]).indexOf(e)&&O.indexOf(":")===e.length){h=-1!==O.indexOf("-")?parseInt(O.sliceBetweenXandX(":","-"),10)-parseInt(O.sliceAfterX("-"),10)+1:parseInt(O.sliceAfterX(":"),10),h=Math.pow(2,h)-1;break}-1!==L.indexOf("Simplified")?(Ke="请设置值给除频器"+e+"。合理的范围从0到"+h+"。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(Ke="請設置值給除頻器"+e+"。合理的範圍從0到"+h+"。",s="設置值給除頻器"+e,C="確認"):(Ke="Please configure a value to "+e+". The feasible range is from 0 to "+h+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+Ke+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){re=parseInt($("#"+e+"_input_dialog").val(),10),U.name="1/("+e+": "+re+" + 1)",P.fillStyle="#FFFFFF",U.textLength=P.measureText(U.name).width,P.fillRect(U.x,U.y-18,U.textLength,25),P.fillStyle=U.lastColor=U.color=Ae,U.x=U.x+(U.textLength-P.measureText(U.name).width)/2,P.fillText(U.name,U.x,U.y),Lt(e,re),k(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val(It(e)).width(35).change(function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>h||parseInt(this.value,10)<0)&&($("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again."))})}};for(P.font="18px Arial",P.fillStyle="black",Pe=f.length,ie=0,Se=[],Me=[],t=0,i=Pe;t<i;t+=1)-1===f[t].indexOf(We)&&-1===f[t].indexOf("BASECLK")&&-1===f[t].indexOf("HCLK")?Se.push(f[t]+": "+et(f[t]).toHzString()):Se.push(f[t]),P.measureText(Se[Se.length-1]).width>ie&&(ie=P.measureText(Se[Se.length-1]).width),-1!==$.inArray(f[t].slicePriorToX("/").toString(),Ne)?Me[t]="black":Me[t]=me;if(ie+=30,Pe>1?(ae=""!==o?be+P.measureText("1/("+o+": 0 + 1)").width:0,se=xe+ie+ve+ae+be+P.measureText(n).width+xe,Ce=40+22*(f.length-1)+40):(se=""!==o?xe+ie+P.measureText("1/("+o+": 0 + 1)").width+be+P.measureText(n).width+xe:xe+ie+P.measureText(n).width+xe,Ce=80),void 0!==g&&0!==g.length&&(Ce=40+22*(g.length-1)+40),e.setAttribute("width",se),e.setAttribute("height",Ce),P.font="18px Arial",P.fillStyle="black",oe=xe,b=[],(U={}).name="",Pe>1){for(t=0,i=Pe;t<i;t+=1)le=Ee+22*t+ke,P.fillStyle=Me[t],P.fillText(Se[t],oe,le),new ut(oe,le+2,oe+ie,le+2).drawWithArrowheads(P),b.push({name:Se[t],x:oe,y:le,textLength:P.measureText(Se[t]).width,color:Me[t],lastColor:Me[t]});P.beginPath(),P.moveTo(xe+ie,Ee),P.lineTo(xe+ie,Ee+22*(Pe-1)+40),P.lineTo(xe+ie+ve,Ee+22*(Pe-1)+ke),P.lineTo(xe+ie+ve,40),P.lineTo(xe+ie,Ee),P.stroke(),ae=0,""!==o&&(new ut(xe+ie+ve,Ee+22*(Pe-1)/2+ke,xe+ie+ve+be,Ee+22*(Pe-1)/2+ke).drawWithArrowheads(P),ae+=be,oe=xe+ie+ve+be,le=Ee+22*(Pe-1)/2+ke+9-2,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(P.fillText("1/("+o+": 0)",oe,le),ae+=P.measureText("1/("+o+": 0)").width,U={name:"1/("+o+": 0)",x:oe,y:le,textLength:P.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(P.fillText("1/("+o+": 0 + 1)",oe,le),ae+=P.measureText("1/("+o+": 0 + 1)").width,U={name:"1/("+o+": 0 + 1)",x:oe,y:le,textLength:P.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"})),new ut(xe+ie+ve+ae,Ee+22*(Pe-1)/2+ke,xe+ie+ve+ae+be,Ee+22*(Pe-1)/2+ke).drawWithArrowheads(P),P.fillText(n,xe+ie+ve+ae+be,Ee+22*(Pe-1)/2+ke+9-2)}else le=40,P.fillText(Se[0],oe,le),new ut(oe,le+2,oe+ie,le+2).drawWithArrowheads(P),b.push({name:Se[0],x:oe,y:le,textLength:P.measureText(Se[0]).width,color:Me[0],lastColor:Me[0]}),ae=0,""!==o&&(oe=xe+ie,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(P.fillText("1/("+o+": 0)",oe,le+9-2),ae+=P.measureText("1/("+o+": 0)").width,U={name:"1/("+o+": 0)",x:oe,y:le+9-2,textLength:P.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(P.fillText("1/("+o+": 0 + 1)",oe,le+9-2),ae+=P.measureText("1/("+o+": 0 + 1)").width,U={name:"1/("+o+": 0 + 1)",x:oe,y:le+9-2,textLength:P.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new ut(xe+ie+ae,le,xe+ie+ae+be,le).drawWithArrowheads(P),ae+=be),P.fillText(n,xe+ie+ae,le+9-2);K.addEvent(e,"mousemove",function(n){ue(e,n),function(){for(S=!1,t=0,i=b.length;t<i;t+=1)de>=b[t].x&&de<=b[t].x+b[t].textLength&&ce>=b[t].y-18-3&&ce<=b[t].y?b[t].color!==ye&&(b[t].lastColor=b[t].color,b[t].color=ye,S=!0):b[t].color!==b[t].lastColor&&(b[t].color=b[t].lastColor,S=!0);if(S)for(t=0,i=b.length;t<i;t+=1)P.fillStyle="#FFFFFF",P.fillRect(b[t].x,b[t].y-18,b[t].textLength+10,18),P.fillStyle=b[t].color,P.fillText(b[t].name,b[t].x,b[t].y);S=!1,U.name&&(de>=U.x&&de<=U.x+U.textLength&&ce>=U.y-18&&ce<=U.y?U.color!==ye&&(U.lastColor=U.color,U.color=ye,S=!0):U.color!==U.lastColor&&(U.color=U.lastColor,S=!0)),S&&(P.fillStyle="#FFFFFF",P.fillRect(U.x,U.y-18,U.textLength,25),P.fillStyle=U.color,P.fillText(U.name,U.x,U.y))}()}),K.addEvent(e,"click",function(){v()}),0===n.indexOf(We)?(he="<div id='HCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+We+"<span class=realOutput_after_span>: </span><span id='HCLK_span_showRealFreq'></span></p></div>",r.append(he),$("#HCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(85+Ce+30)+"px; width: 90%;"),$("#HCLK_div_showRealFreq").css("border-bottom","8px solid black"),$("#HCLK_span_showRealFreq").css("color","#2E2EFE")):0===n.indexOf(Ye)?(he="<div id='HCLK2_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Ye+"<span class=realOutput_after_span>: </span><span id='HCLK2_span_showRealFreq'></span></p></div>",r.append(he),$("#HCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:255px; width: 90%;"),$("#HCLK2_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Ze)?(he="<div id='PCLK0_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Ze+"<span class=realOutput_after_span>: </span><span id='PCLK0_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK0_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px;"),$("#PCLK0_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Je)?(he="<div id='PCLK1_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Je+"<span class=realOutput_after_span>: </span><span id='PCLK1_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK1_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+60)+"px;"),$("#PCLK1_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Qe)?(he="<div id='PCLK2_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Qe+"<span class=realOutput_after_span>: </span><span id='PCLK2_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+90)+"px;"),$("#PCLK2_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(tt)?(he="<div id='PCLK3_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+tt+"<span class=realOutput_after_span>: </span><span id='PCLK3_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK3_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px; left:"+se+"px;"),$("#PCLK3_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(nt)?(he="<div id='PCLK4_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+nt+"<span class=realOutput_after_span>: </span><span id='PCLK4_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK4_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+60)+"px; left:"+se+"px;"),$("#PCLK4_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(je)&&(he="<div id='PCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+je+"<span class=realOutput_after_span>: </span><span id='PCLK_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px;"),$("#PCLK_span_showRealFreq").css("color","#2E2EFE")),-1!==L.indexOf("Simplified")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: ")):($(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),function(){if(""!==o){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(E=It(o).toString(),t=0,i=NUTOOL_CLOCK.g_CLKSEL[o].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[o][t].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[o][t].slicePriorToX(":");break}-1===x.indexOf("/")?U.name="1/("+o+": 1)":U.name="1/("+o+": "+x.sliceAfterX("/")+")"}else U.name="1/("+o+": "+It(o)+" + 1)";P.fillStyle="#FFFFFF",U.textLength=P.measureText(U.name).width,P.fillRect(U.x,U.y-18,U.textLength,25),P.fillStyle=U.lastColor=U.color=Ae,U.x=U.x+(U.textLength-P.measureText(U.name).width)/2,P.fillText(U.name,U.x,U.y)}if(x="",O="BASECLK"===n?0===u.indexOf("KM1M0DF")?"SYSCLKSEL":"BASESEL":n===We?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")?"SYSDIV":NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?"CPUCKDIV":0===u.indexOf("M2L31")&&-1!==n.indexOf(Ye)?at:lt:n===Ze?st:n===Je?Ct:n===Qe?Ot:rt,-1!==(E=It(O).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(O))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[O].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[O][t].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[O][t].slicePriorToX(":");break}if(E=b.length,""!==x)for(t=0,i=b.length;t<i;t+=1)if(-1!==(O=b[t].name).indexOf("DIV")&&-1!==O.indexOf(":")&&(O=(T=O).slicePriorToX(":")+"+"+T.sliceAfterX("+")),-1!==O.indexOf(":")){if(-1!==O.indexOf(x)&&O.indexOf(":")===x.length&&b[t].color!==me){E=t;break}}else if(-1!==O.indexOf(x)){E=t;break}v(E)}()},ue=function(e,t){return _e=e.getBoundingClientRect(),de=t.clientX-_e.left,ce=t.clientY-_e.top,this},pe=function(){var e;if(e=Tt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[g.slicePriorToX("(")],10),Re)Re=!1;else if("none"!==$("#add-tab-3").css("display")){if(B>e)return void(-1!==L.indexOf("Simplified")?bt("CPU频率上限为"+e.toHzString()+"。 "+We+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?bt("CPU頻率上限為"+e.toHzString()+"。 "+We+"頻率不應超過其限制。"):bt("The upper limit of CPU frequency is "+e.toHzString()+". The "+We+" frequency should not run beyond the limit."));$("#tab-4")[0]||Be(),$("#add-tab-3").hide(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1)}},dt(),$("#tab-4")[0]?($("<li id='li-3'><a href='#tab-3'>"+We+"/"+je+"</a></li>").insertBefore("#li-4"),$("<div id='tab-3'></div>").insertBefore("#tab-4")):($("#tabs ul").append("<li id='li-3'><a href='#tab-3'>"+We+"/"+je+"</a></li>"),$("#tabs").append("<div id='tab-3'></div>")),r=$("#tab-3"),P=0,b=0,U=0,v=0,k=0,I=0,R=0,A=0,y=0,Ne=[],Ut("OSC10K_EN".toEquivalent())&&(P=NUTOOL_CLOCK.g_LIRCfrequency,0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?Ne.push(ze):Ne.push("LIRC")),(Ut("OSC22M_EN".toEquivalent())||Ut("HIRC1EN"))&&(b=NUTOOL_CLOCK.g_HIRCfrequency,Ne.push(we)),(Ut("OSC22M2_EN".toEquivalent())||Ut("HIRC2EN"))&&(U=NUTOOL_CLOCK.g_HIRC2frequency,Ne.push(De)),Ut("HIRC48EN".toEquivalent())&&(v=NUTOOL_CLOCK.g_HIRC48frequency,Ne.push(qe)),Ut("MIRCEN")){const e=It("MIRCFSEL");k=-1!==e&&e<NUTOOL_CLOCK.g_MIRCfreeuncyArray.length?NUTOOL_CLOCK.g_MIRCfreeuncyArray[e]:NUTOOL_CLOCK.g_MIRCfrequency,Ne.push("MIRC")}if(Ut("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency,Ne.push("MIRC1P2M")),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(R=NUTOOL_CLOCK.g_RTC32kfrequency,Ne.push("RTC32k")),Ut(ft)&&(A=32768,Ne.push(Fe)),Ut("LIRC32KEN")&&(A=32e3,Ne.push("LXT")),Ut(pt)&&(y=1e6*parseFloat($("#"+pt+"_input").val()),D=NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency,Ne.push($e),Ne.push("HSUSB_OTG_PHY")),(!Ut("PD")||Ut("PLLEN")||!Ut("NPLLEN")||Ut("APLL0EN"))&&m>0&&Ne.push(He),(!Ut("APD")||Ut("APLL1EN"))&&X>0&&Ne.push(Xe),Ut("PLL2CKEN")&&F>0&&Ne.push("PLL2"),Ut("PLL2CKEN")&&H>0&&Ne.push("PLL480M"),!Ut("PDFN")&&w>0&&Ne.push("PLLFN"),(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")||NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL"))&&Ne.push("BASECLK"),pn(_t(NUTOOL_CLOCK.g_Module))&&Ne.push("EXT"),Ne.push(We),Ie=[],_=lt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?r[0].appendChild(ct("button","add-tab-3","下一步")):r[0].appendChild(ct("button","add-tab-3","Next Step"));var gt=85;if(0===u.indexOf("M2L31")&&(Oe(r,"HCLK1EN","SRHCLK1/HCLK1/PCLK2",!1),gt+=30),r[0].appendChild(ct("canvas","HCLK_canvas")),(S=$("#HCLK_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+gt+"px; border: 1px solid black;"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(Te(S[0],"BASECLK","",Ie,NUTOOL_CLOCK.g_CLKSEL.CPUCKDIV),Ie=[],_="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));r[0].appendChild(ct("canvas","HCLK_canvas1")),(M=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:400px; top:85px; border: 1px solid black;"),Te(M[0],We,"",Ie)}else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")){if(Te(S[0],"BASECLK","",Ie,NUTOOL_CLOCK.g_CLKSEL.SYSDIV),Ie=[],_="SYSDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));r[0].appendChild(ct("canvas","HCLK_canvas1")),(M=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:400px; top:85px; border: 1px solid black;"),Te(M[0],We,"",Ie)}else 0===u.indexOf("M55M1")||0===u.indexOf("M5531")?(Ne.push("ACLK","HCLK0","HCLK1","HCLK2"),Te(S[0],We,it,Ie),r[0].appendChild(ct("canvas","HCLK_canvas1")),(M=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:920px; top:85px; border: 1px solid black;"),Te(M[0],"ACLK","",[We]),r[0].appendChild(ct("canvas","HCLK_canvas2")),(M=$("#HCLK_canvas2"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:568px; top:85px; border: 1px solid black;"),Te(M[0],Ve,"",[We]),r[0].appendChild(ct("canvas","HCLK_canvas3")),(M=$("#HCLK_canvas3"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:745px; top:85px; border: 1px solid black;"),Te(M[0],Ge,"",[We]),r[0].appendChild(ct("canvas","HCLK_canvas4")),(M=$("#HCLK_canvas4"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:568px; top:170px; border: 1px solid black;"),Te(M[0],Ye,"HCLK2DIV",[We])):0===u.indexOf("M2L31")?(Ne.push(Ve,Ge,Ye),Te(S[0],Ve,"",Ie),r[0].appendChild(ct("canvas","HCLK_canvas1")),(M=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+(gt+Ce+3)+"px; border: 1px solid black;"),Te(M[0],We,"HCLK0DIV",[Ve]),fe(r[0],gt),r[0].appendChild(ct("canvas","HCLK_canvas3")),(M=$("#HCLK_canvas3"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:452px; top:"+(gt+Ce+3)+"px; border: 1px solid black;"),Te(M[0],Ye,"HCLK1DIV",[Ge]),$("#HCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(gt+300)+"px; width: 90%;"),$("#HCLK_div_showRealFreq").css("border-bottom","8px solid black"),$("#HCLK_span_showRealFreq").css("color","#2E2EFE"),$("#HCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(gt+300)+"px; left:452px; width: 90%;"),$("#HCLK2_span_showRealFreq").css("color","#2E2EFE")):Te(S[0],We,it,Ie);if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(st)){const e=parseInt(document.getElementById("HCLK_div_showRealFreq").style.top,10);if(Le=e+60,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(st)){for(Ie=[],Ne.push(Ze),l=0,a=NUTOOL_CLOCK.g_CLKSEL[st].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[st][l].slicePriorToX(":"));r[0].appendChild(ct("canvas","PCLK0_canvas")),(j=$("#PCLK0_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+Le+"px; border: 1px solid black;"),Te(j[0],Ze,"",Ie)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ct)){for(Ie=[],Ne.push(Je),l=0,a=NUTOOL_CLOCK.g_CLKSEL[Ct].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[Ct][l].slicePriorToX(":"));r[0].appendChild(ct("canvas","PCLK1_canvas")),te=$("#PCLK1_canvas");let e=35+j[0].width;te[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:"+e+"px; top:"+Le+"px; border: 1px solid black;"),Te(te[0],Je,"",Ie)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ot)){for(Ie=[],Ne.push(Qe),l=0,a=NUTOOL_CLOCK.g_CLKSEL[Ot].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[Ot][l].slicePriorToX(":"));r[0].appendChild(ct("canvas","PCLK2_canvas")),ne=$("#PCLK2_canvas");let e=40+j[0].width+te[0].width;ne[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:"+e+"px; top:"+Le+"px; border: 1px solid black;"),Te(ne[0],Qe,"",Ie)}NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ot)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:720px; top:"+(Le+Ce+30)+"px;"):NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ct)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:450px; top:"+(Le+Ce+30)+"px;"):$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30+40)+"px;")}else if(NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV")){const e=parseInt(document.getElementById("HCLK_div_showRealFreq").style.top,10);Le=e+60,Ne.push(Ze,Je,Qe,tt,nt);[{id:"PCLK0",div:"PCLK0DIV",left:30,top:Le,realFreqTop:Le+240+30,source:["HCLK0"]},{id:"PCLK1",div:"PCLK1DIV",left:30,top:Le+82,realFreqTop:Le+240+60,source:["HCLK0"]},{id:"PCLK2",div:"PCLK2DIV",left:30,top:Le+164,realFreqTop:Le+240+90,source:["HCLK0"]},{id:"PCLK3",div:"PCLK3DIV",left:430,top:Le,realFreqTop:Le+240+30,source:["HCLK0"]},{id:"PCLK4",div:"PCLK4DIV",left:430,top:Le+82,realFreqTop:Le+240+60,source:["HCLK2"]}].forEach(({id:e,div:t,left:n,top:i,realFreqTop:o,source:l})=>{r[0].appendChild(ct("canvas",`${e}_canvas`));const a=$(`#${e}_canvas`);a[0].setAttribute("style",`z-index:1; position:absolute; background-color: #FFFFFF; left:${n}px; top:${i}px; border: 1px solid black;`),Te(a[0],e,t,l),$(`#${e}_div_showRealFreq`).css("top",`${o}px`)}),$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+240+90+40)+"px;")}else{if(Ne.push(je),Ie=[],_=rt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(rt))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Ie.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));else Ie=[We];r[0].appendChild(ct("canvas","PCLK_canvas")),E=$("#PCLK_canvas"),Le=85+Ce+30+60,E[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+Le+"px; border: 1px solid black;"),-1===It(ot)?Te(E[0],je,"",Ie):Te(E[0],je,ot,Ie),$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30+40)+"px;")}$("#add-tab-3").addClass("css_btn_class"),K.addEvent($("#add-tab-3")[0],"click",pe),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:2}),2!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:1}),$(".hclk-enable").click(function(){currentHtmlFor=this.htmlFor,parent=$(this).parents(".switch"),$(".cb-disable",parent).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",parent).attr("checked",!0),0===W&&(fe(r[0],gt),$("#HCLK_canvas3").show(),$("#PCLK2_canvas").show()),currentHtmlFor=currentHtmlFor.sliceBetweenXandX("radio_","_enable"),$(".ref_"+currentHtmlFor+"_p").css("color","black"),Lt(currentHtmlFor,1),ht()}),$(".hclk-disable").click(function(){currentHtmlFor=this.htmlFor,parent=$(this).parents(".switch"),$(".cb-enable",parent).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",parent).attr("checked",!1),currentHtmlFor=currentHtmlFor.sliceBetweenXandX("radio_","_disable"),$(".ref_"+currentHtmlFor+"_p").css("color","#BC8484"),$("#HCLK_canvas2").remove(),$("#HCLK_canvas3").hide(),$("#PCLK2_canvas").hide(),$("#HCLK2_span_showRealFreq").text(""),$("#PCLK2_span_showRealFreq").text(""),W=0,V=0,J=0,Lt(currentHtmlFor,0),ht()}),"none"!==$("#clockRegsTree").css("display")?(ge.css("width",n-f-8+"px"),$("#tab-3").css("width",n-f-8+"px")):(ge.css("width",n-8+"px"),$("#tab-3").css("width",n-8+"px")),ge.css("height",o-8+"px"),$("#tab-3").css("height",o-8+"px"),Ut("HCLK1EN")?$("label[for='radio_HCLK1EN_enable']").click():$("label[for='radio_HCLK1EN_disable']").click(),"single"!==e&&x>$("#tabs").tabs("option","active")+1&&pe(),$("#tab-4")[0]&&$("#add-tab-3").hide()}function We(e){var t,i,l,a,r,s,C,_,d,c,O,T,p,g,S,M,N,E,P,b,U,v,k,I,R,A,y,D,q,B,z,W,V,G,Y,j,Z,J,Q,ee,te,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe=$("#tabs"),Te=0,ue=0,pe=0,ge=0,Ke=0,he={},Se=[],Me=[],Ne=!1,xe=6,Ee=[],Pe=!1,be="",Ue="",ve="",ke="",Ie="",Ae="",ye="",me="",$e="",Fe="",He="HXT".toEquivalent().toString(),Xe="LXT".toEquivalent().toString(),we="PLL".toEquivalent().toString(),De="APLL".toEquivalent().toString(),qe="HIRC".toEquivalent().toString(),Be="HIRC2".toEquivalent().toString(),We="HIRC48".toEquivalent().toString(),Ve="LIRC".toEquivalent().toString(),Ge="HCLK".toEquivalent().toString(),Ye="HCLK_S".toEquivalent().toString(),je="PLLCON".toEquivalent().toString(),Ze="APLLCTL".toEquivalent().toString(),Je="OSC10K_EN".toEquivalent().toString(),Qe="OSC22M_EN".toEquivalent().toString(),et="OSC22M2_EN".toEquivalent().toString(),tt="XTL32K_EN".toEquivalent().toString(),nt="XTL12M_EN".toEquivalent().toString(),it="HIRC48EN".toEquivalent().toString();_e=0,de=0,"NUC400"===u?(xe=4,0===m&&(Te=84e6),0===F&&(ue=24e7)):"CM2052"===u||"CM2053"===u||0===u.indexOf("M25")?(ie=4e6,oe=8e6,re=64e6,se=1e8,_e=16e6,de=1e8,0===m&&(Te=48e6)):0===u.indexOf("M2L31")?(le=1e6,ae=8e6,Ce=144e6,Le=5e8,ce=36e6,Oe=144e6,_e=36e6,de=144e6,0===m&&(Te=144e6)):"M2351"===u||"M2354"===u||"M261"===u?(ie=2e6,oe=8e6,re=96e6,se=2e8,_e=24e6,de=144e6,0===m&&(Te=48e6)):0===u.indexOf("M3331")||0===u.indexOf("CM303")?(ie=1e6,oe=8e6,re=2e8,se=5e8,_e=5e7,de=5e8,0===m&&(Te=16e7)):"M451"===u||"NUC1262"===u||"NUC1263"===u||0===u.indexOf("M030")||0===u.indexOf("M031")?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=2e8,se=5e8,0===m&&(Te=0===u.indexOf("M030")||0===u.indexOf("M031")?96e6:"NUC1262"===u||"NUC1263"===u?144e6:72e6)):0===u.indexOf("M460")?(xe=2,ie=4e6,oe=8e6,re=2e8,se=5e8,_e=5e7,de=5e8,le=1e6,ae=8e6,Ce=2e8,Le=5e8,ce=5e7,Oe=5e8,0===m&&(Te=192e6),0===w&&(ge=18e7)):0===u.indexOf("M433")||0===u.indexOf("M480")?(ie=4e6,oe=8e6,re=2e8,se=5e8,_e=5e7,de=5e8,0===m&&(Te=72e6)):0===u.indexOf("M55M1")||0===u.indexOf("M5531")?(xe=2,ie=4e6,oe=8e6,re=144e6,se=5e8,_e=36e6,de=5e8,ce=36e6,Oe=5e8,0===m&&(Te=22e7),0===X&&(pe=22e7)):0===u.indexOf("KM1M0DF")?(te=4e6,ne=2e7,re=12e7,se=192e6,_e=0,de=4e7,0===m&&(Te=4e7)):0===u.indexOf("KM1M4")?(te=4e6,ne=2e7,re=12e7,se=24e7,_e=6e7,de=12e7,0===m&&(Te=1e8)):0===u.indexOf("KM1M7")?(te=4e6,ne=2e7,re=12e7,se=24e7,_e=6e7,de=16e7,0===m&&(Te=1e8)):"NUC100AN"===u||"NUC100BN"===u||"NUC100CN"===u||"M051AN"===u||"M0519"===u||"NM1500"===u?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=1e8,se=2e8,0===m&&(Te=48e6)):"NUC100DN"===u||"NUC131"===u||"NUC1311"===u||"M0518"===u||"NUC200AN"===u||"NUC200AE"===u||"NUC2201"===u||"NUC029xDE"===u||"NUC029xEE"===u?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=2e8,0===m&&(Te=48e6)):"NUC122AN"===u?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=5e8,0===m&&(Te=48e6)):"NUC121AE"===u?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=2e8,se=5e8,0===m&&(Te=96e6)):"NUC123AN_AE"===u||"M0564"===u||0===u.indexOf("NUC126")||"NUC029xGE"===u?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=1e8,se=2e8,0===m&&(Te=48e6)):"MINI58"===u?(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===m&&(Te=5e7)):"NANO100AN"===u?(te=0,ne=0,ie=0,oe=0,_e=re=0,de=se=12e7,0===m&&(Te=96e6)):"NANO100BN"===u?(te=0,ne=0,ie=0,oe=0,_e=re=48e6,de=se=96e6,0===m&&(Te=96e6)):"NANO112"===u?(te=8e5,ne=2e6,ie=0,oe=0,_e=re=16e6,de=se=32e6,0===m&&(Te=16e6)):"NANO103"===u?(te=8e5,ne=2e6,ie=0,oe=0,_e=re=16e6,de=se=36e6,0===m&&(Te=16e6)):"NUC505"===u?(xe=2,te=0,ne=0,ie=5e6,oe=8e7,re=3e8,se=1e9,le=25e5,ae=8e7,Ce=2e8,Le=5e8,0===m&&(Te=24e7),0===X&&(pe=24e7)):(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===m&&(Te=48e6)),Z=function(e,n,i,o,l,r,s){if(a=s?r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>",e.append(a),a="<div id='"+i+"_div_showRealFreq'><br /><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+i+"<span class=realOutput_after_span>: </span><span id='"+i+"_span_showRealFreq'></span></p></div><br /><br />",e.append(a),s){for(T=$("#"+i+"_inaccuracy_select"),t=0;t<11;t+=1){he=window.document.createElement("option");try{he.innerHTML=he.value=t+"%",he.id=i+"_inaccuracy_"+t+"%"}catch(e){}T[0].appendChild(he)}T.val("0%"),T.on("change",function(){i===we?J($("#PD_input").val(),!1,T.val(),je):i===De?J($("#APD_input").val(),!1,T.val(),Ze):"PLLFN"===i&&J($("#PDFN_input").val(),!1,T.val(),"PLLFNCTL0")})}-1!==L.indexOf("Simplified")?($("#pll_clocks_span").text(we),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: "),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#pll_clocks_span").text(we),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: "),$("[title]").prop("title","輸入期望值")):($("#pll_clocks_span").text(we),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": "),$("[title]").prop("title","Input the expected value")),$("#"+i+"_span_showRealFreq").css("color","#2E2EFE"),$("#"+n+"_input").width(55),$("#"+n+"_input").height(20),$("#PLL2CKEN_input").width(78)},J=function(e,n,o,l){var a,r,s,C="General",_=null;if(void 0!==o){for(l===je?$("#PLLCTLtable").dataTable().fnDestroy():l===Ze?$("#APLLCTLtable").dataTable().fnDestroy():"PLLFNCTL0"===l&&$("#PLLFNCTLtable").dataTable().fnDestroy(),o=parseInt(o.slice(0,o.length-1),10),e=1e6*parseFloat(e,10),Se=[],0===u.indexOf("KM1M7CF")?Ut(nt)?Se.push(He):Se.push(qe):0===u.indexOf("KM1M0DF")?(Ut(nt)&&Se.push(He),Ut(Qe)&&Se.push(qe)):((Ut(Qe)||Ut("HIRC1EN"))&&-1===u.indexOf("KM1M7")&&-1===u.indexOf("KM1M4")&&("NUC121AE"===u||"NUC1262"===u||"NUC1263"===u?Se.push(qe+"/2"):"CM2052"===u||"CM2053"===u||0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")||0===u.indexOf("M3331")||0===u.indexOf("CM3031")?Se.push(qe+"/4"):Se.push(qe)),!Ut(it)||0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||Se.push(We+"/4"),!Ut("MIRCEN")||"CM2052"!==u&&"CM2053"!==u&&0!==u.indexOf("M25")&&"NANO103"!==u||Se.push("MIRC"),Ut(nt)&&Se.push(He)),C="General",t=0,i=NUTOOL_CLOCK.g_register_map[l].length;t<i;t+=1){if("FB_DV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO100AN_BN";break}if("PLL_MLP:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO112_103";break}if("PLLREMAP:20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC400";break}if("FBDIV:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(PLL)";break}if("FRAC:31-20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(APLL)";break}if("FBDIV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="M251";break}if("MUL_PLL:7-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M0DF";break}if("PLLMUL:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M4";break}if("PLLMUL:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M7";break}if("STBSEL:23"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLL)";break}if("FRDIV:27-16"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLLFN)";break}if("PLLFEN:31"===NUTOOL_CLOCK.g_register_map[l][t]){C="M55M1";break}}if(0!==u.indexOf("M433")&&0!==u.indexOf("M480")&&"M2351"!==u&&"M2354"!==u&&"M261"!==u||(C="M480"),0!==u.indexOf("M3331")&&0!==u.indexOf("CM3031")||(C="M3331"),Me=[],n)if(Pe=!1,R=h[l]&Math.pow(2,16)-1,I=1048576&h[l]?1:0,1===It("PLL_SRC"))A="NUC121AE"===u||"NUC1262"===u||"NUC1263"===u?qe+"/2":"CM2052"===u||"CM2053"===u||0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")||0===u.indexOf("CM3031")||0===u.indexOf("M3331")?qe+"/4":qe;else if(2===It("PLL_SRC"))A="MIRC";else if(3===It("PLL_SRC"))A="MIRC";else if("M460(PLL)"===C&&1===It("PLL_SRC"))A=qe;else if("M460(PLLFN)"===C&&1===It("PLLFNSRC"))A=qe;else if("KM1M0DF"===C&&0===It("PLLISEL"))A=qe;else if("M55M1"===C)switch(It(l.substring(0,5)+"SRC")){case 0:A=He;break;case 1:A=qe;break;case 2:A="HIRC48M/4"}else A=He;else Pe=!0;if("NANO100AN_BN"===C)for(t=0,i=Se.length;t<i;t+=1)for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,6);M<k;M+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)for(g=0,U=Math.pow(2,1);g<U;g+=1)P=g+1,(q=y*(M+32)/Math.pow(2,S+1)/P)>=re&&q<=se&&(B=Math.abs(q-e)/e*100)<=o&&((g<<12)+(S<<8)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((g<<12)+(S<<8)+M,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((g<<12)+(S<<8)+M,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"));else if("NANO112_103"===C)for(t=0,i=Se.length;t<i;t+=1)for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:"MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),0!==NUTOOL_CLOCK.g_MIRCfrequency?(a=6,r=36):(a=4,r=32),M=1,k=r;M<=k;M+=1)for(S=0,v=Math.pow(2,a);S<v;S+=1)q=(D=y/(S+1))*M,D>=te&&D<=ne&&q>=re&&q<=se&&(B=Math.abs(q-e)/e*100)<=o&&((S<<8)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((S<<8)+M,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((S<<8)+M,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"));else if("NUC400"===C)for(t=0,i=Se.length;t<i;t+=1){if(s=Se[t],(y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()))>32e5&&y<15e7)for(p=0,b=Math.pow(2,1);p<b;p+=1)for(M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}Ne=!1,0===p?y/2/(S+2)>8e5&&y/2/(S+2)<8e6&&y*(M+2)/(S+2)>1e8&&y*(M+2)/(S+2)<2e8&&(Ne=!0):y/2/(S+2)>8e5&&y/2/(S+2)<8e6&&y*(M+2)/(S+2)>2e8&&y*(M+2)/(S+2)<5e8&&(Ne=!0),Ne&&(q=y*(M+2)/(S+2)/P,(B=Math.abs(q-e)/e*100)<=o&&(p===I&&(g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]=p,Me[0][3]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][4]=s,Me[0][5]=(q/1e6).toFixed(4)+"MHz",Me[0][6]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]=p,Me[Me.length-1][3]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][4]=s,Me[Me.length-1][5]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][6]=B.toFixed(4)+"%")))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xX",Me[0][3]="0xXXXX",Me[0][4]=s,Me[0][5]=(q/1e6).toFixed(4)+"MHz",Me[0][6]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xX",Me[Me.length-1][3]="0xXXXX",Me[Me.length-1][4]=s,Me[Me.length-1][5]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][6]=B.toFixed(4)+"%"))}else if("NUC505(PLL)"===C){for(s=Se[0],y=1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,7);M<k;M+=1)for(S=0,v=Math.pow(2,6);S<v;S+=1)for(g=0,U=Math.pow(2,3);g<U;g+=1)P=g+1,y/(S+1)>=ie&&y/(S+1)<=oe&&y*(M+1)/(S+1)>=re&&y*(M+1)/(S+1)<=se&&(q=y*(M+1)/(S+1)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<13)+(S<<7)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<13)+(S<<7)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<13)+(S<<7)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%")));q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("NUC505(APLL)"===C)for(s=Se[0],y=1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,7);M<k;M+=1)for(S=0,v=Math.pow(2,6);S<v;S+=1)for(g=0,U=Math.pow(2,3);g<U;g+=1)P=g+1,y/(S+1)>=le&&y/(S+1)<=ae&&y*(M+1)/(S+1)>=Ce&&y*(M+1)/(S+1)<=Le&&(q=y*(M+1)/(S+1)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<13)+(M<<6)+S===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((g<<13)+(M<<6)+S,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((g<<13)+(M<<6)+S,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%")));else if("M460(PLL)"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/(S+1)>=ie&&y/(S+1)<=oe&&2*y*(M+2)/(S+1)>=re&&2*y*(M+2)/(S+1)<=se&&(q=2*y*(M+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("M460(PLLFN)"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/(S+1)>=le&&y/(S+1)<=ae&&2*y*(M+2)/(S+1)>=Ce&&2*y*(M+2)/(S+1)<=Le&&M+2>=12&&M+2<=255&&(q=2*y*(M+2)/(S+1)/P)>=ce&&q<=Oe&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("M480"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/(S+1)>=ie&&y/(S+1)<=oe&&2*y*(M+2)/(S+1)>=re&&2*y*(M+2)/(S+1)<=se&&(q=2*y*(M+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("KM1M0DF"===C)for(t=0,i=Se.length;t<i;t+=1)(s=Se[t])===qe?y=NUTOOL_CLOCK.g_HIRCfrequency:s===He&&(y=1e6*parseFloat($("#"+nt+"_input").val())),[0,32,40,64].forEach(t=>{for(S=0,v=Math.pow(2,3);S<v;S+=1)for(g=0,U=Math.pow(2,1);g<U;g+=1)if(q=(D=y*(0===t?1:t)/(N=S<4?S+1:5))/(P=0===g?4:6),D>=re&&D<=se&&q<=de){B=Math.abs(q-e)/e*100;let n=It("PLLISEL");B<=o&&((g<<12)+(n<<11)+(S<<8)+t===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((g<<12)+(n<<11)+(S<<8)+t,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((g<<12)+(n<<11)+(S<<8)+t,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"))}});else if("KM1M4"===C)for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===He&&(y=1e6*parseFloat($("#"+nt+"_input").val())),M=10,k=81;M<k;M+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)q=(D=y*M/(2*(N=0===S?1:S)))/2,1!==S&&y/N>=te&&y/N<=ne&&D>=re&&D<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((S<<8)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((S<<8)+M,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((S<<8)+M,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"));else if("KM1M7"===C)if("PLLIDIV:9-8"===NUTOOL_CLOCK.g_register_map.CHIPPLLCTR2[0])for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===He&&(y=1e6*parseFloat($("#"+nt+"_input").val())),M=10,k=Math.pow(2,6);M<k;M+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)for(g=0,U=Math.pow(2,1);g<U;g+=1)q=(D=y*M/(N=0===S?1:S))/(P=g+1),1!==S&&y/N>=te&&y/N<=ne&&D>=re&&D<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<6)+(S<<8)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((g<<6)+(S<<8)+M,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((g<<6)+(S<<8)+M,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"));else for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===qe?y=NUTOOL_CLOCK.g_HIRCfrequency:s===He&&(y=1e6*parseFloat($("#"+nt+"_input").val())),M=10,k=Math.pow(2,6);M<k;M+=1)for(S=0,v=Math.pow(2,1);S<v;S+=1)for(g=0,U=Math.pow(2,1);g<U;g+=1)q=(D=y*M/(N=0===S?1:1===S?2:S))/(P=g+1),y/N>=te&&y/N<=ne&&D>=re&&D<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<6)+(S<<8)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0x"+ft((g<<6)+(S<<8)+M,4).toUpperCase(),Me[0][2]=s,Me[0][3]=(q/1e6).toFixed(4)+"MHz",Me[0][4]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0x"+ft((g<<6)+(S<<8)+M,4).toUpperCase(),Me[Me.length-1][2]=s,Me[Me.length-1][3]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][4]=B.toFixed(4)+"%"));else if("M251"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y="MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:s===qe+"/4"?NUTOOL_CLOCK.g_HIRCfrequency/4:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,6);M<k;M+=1)for(S=0,v=Math.pow(2,4);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:P=2;break;case 2:case 3:P=4}E=0!==M?M:64,y/(N=0!==S?S:16)>=ie&&y/N<=oe&&y*E/N>=re&&y*E/N<=se&&(q=y*E/N/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("M55M1"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:"HIRC48M/4"===s?NUTOOL_CLOCK.g_HIRC48frequency/4:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/(S+1)>=ie&&y/(S+1)<=oe&&2*y*(M+2)/(S+1)>=re&&2*y*(M+2)/(S+1)<=se&&M+2>=12&&M+2<=255&&(q=2*y*(M+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else if("M3331"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],y=s===qe+"/4"?NUTOOL_CLOCK.g_HIRCfrequency/4:1e6*parseFloat($("#"+nt+"_input").val()),M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/(S+1)>=ie&&y/(S+1)<=oe&&2*y*(M+2)/(S+1)>=re&&2*y*(M+2)/(S+1)<=se&&M+2>=12&&M+2<=255&&(q=2*y*(M+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}else for(t=0,i=Se.length;t<i;t+=1){if(s=Se[t],y=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:0===s.indexOf(qe)&&"/"===s.charAt(4)?NUTOOL_CLOCK.g_HIRCfrequency/parseInt(s.sliceAfterX("/"),10):1e6*parseFloat($("#"+nt+"_input").val()),console.log(`buildPLLCTLtable ${s}: ${y}`),y>te&&y<ne)for(M=0,k=Math.pow(2,9);M<k;M+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(g=0,U=Math.pow(2,2);g<U;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}y/2/(S+2)>ie&&y/2/(S+2)<oe&&y*(M+2)/(S+2)>re&&y*(M+2)/(S+2)<se&&(q=y*(M+2)/(S+2)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+M===R&&s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="0",Me[0][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="0",Me[Me.length-1][2]="0x"+ft((g<<14)+(S<<9)+M,4).toUpperCase(),Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%")))}q=y,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Me.unshift([]),Me[0][0]="",Me[0][1]="1",Me[0][2]="0xXXXX",Me[0][3]=s,Me[0][4]=(q/1e6).toFixed(4)+"MHz",Me[0][5]=B.toFixed(4)+"%"):(Me[Me.length]=[],Me[Me.length-1][0]="",Me[Me.length-1][1]="1",Me[Me.length-1][2]="0xXXXX",Me[Me.length-1][3]=s,Me[Me.length-1][4]=(q/1e6).toFixed(4)+"MHz",Me[Me.length-1][5]=B.toFixed(4)+"%"))}if(l===je?$("#PLL_tableWrapper")[0]||$("<span id='PLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLCTLtable'></table></span>'").insertAfter($("#PD_div")):l===Ze?$("#APLL_tableWrapper")[0]||$("<span id='APLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='APLLCTLtable'></table></span>'").insertAfter($("#APD_div")):"PLLFNCTL0"===l&&($("#PLLFN_tableWrapper")[0]||$("<span id='PLLFN_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLFNCTLtable'></table></span>'").insertAfter($("#PDFN_div"))),-1!==L.indexOf("Simplified")?(be="输入",Ue="实际输出",ve="误差率",ke="没有可用的候选者。",Ie="列出从_START_到_END_。共有_TOTAL_候选者。",Ae="列出从0到0。共0候选者。",ye="前一页",me="下一页",$e="搜寻:",Fe="点击使得向上排序"):-1!==L.indexOf("Traditional")?(be="輸入",Ue="實際輸出",ve="誤差率",ke="沒有可用的候選者。",Ie="列出從_START_到_END_。共有_TOTAL_候選者。",Ae="列出從0到0。共0候選者。",ye="前一頁",me="下一頁",$e="搜尋:",Fe="點擊使得向上排序"):(be="Input",Ue="Real Output",ve="Inaccuracy",ke="No candidate is available.",Ie="Showing _START_ to _END_ of _TOTAL_ candidates",Ae="Showing 0 to 0 of 0 candidates",ye="Previous",me="Next",$e="Search:",Fe="Click to sort ascending"),"NANO100AN_BN"===C||"NANO112_103"===C||"KM1M0DF"===C||"KM1M4"===C||"KM1M7"===C)_=$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:Me,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:Ue},{sTitle:ve}],oLanguage:{sZeroRecords:ke,sInfo:Ie,sInfoEmpty:Ae,oPaginate:{sPrevious:ye,sNext:me},sSearch:$e,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});else if("NUC505(APLL)"===C)_=$("#APLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:Me,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:Ue},{sTitle:ve}],oLanguage:{sZeroRecords:ke,sInfo:Ie,sInfoEmpty:Ae,oPaginate:{sPrevious:ye,sNext:me},sSearch:$e,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});else if("M460(PLLFN)"===C||"M55M1"===C&&0===l.indexOf("APLL1")){var d=0===u.indexOf("M2L31")?"PLLCTLtable":"M460(PLLFN)"===C?"PLLFNCTLtable":"APLLCTLtable";_=$("#"+d).dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:Me,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:Ue},{sTitle:ve}],oLanguage:{sZeroRecords:ke,sInfo:Ie,sInfoEmpty:Ae,oPaginate:{sPrevious:ye,sNext:me},sSearch:$e,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}})}else _="NUC400"===C?$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:4,aaSorting:[[6,"asc"]],pagingType:"simple",aaData:Me,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:"PLLREMAP"},{sTitle:"PLLCTL[15:0]"},{sTitle:be},{sTitle:Ue},{sTitle:ve}],oLanguage:{sZeroRecords:ke,sInfo:Ie,sInfoEmpty:Ae,oPaginate:{sPrevious:ye,sNext:me},sSearch:$e,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:Me,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:Ue},{sTitle:ve}],oLanguage:{sZeroRecords:ke,sInfo:Ie,sInfoEmpty:Ae,oPaginate:{sPrevious:ye,sNext:me},sSearch:$e,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});let c="";l===je?($("#PLLCTLtable tbody").delegate("tr td:first-child","click",function(e){for($(_.fnSettings().aoData).each(function(){$(this.nTr).removeClass("row_selected")}),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)if($(Ee[t]).hasClass("row_selected")){if("NANO100AN_BN"===C||"NANO112_103"===C)V=Ee[t].childNodes[1].textContent,G=Ee[t].childNodes[2].textContent,m=Ee[t].childNodes[3].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),Y=393216,j=h[l]&Y,j=h[l]-j,h[l]=G===qe?j+(1<<17)>>>0:"MIRC"===G?j+(2<<17)>>>0:j;else if("KM1M0DF"===C){if(V=Ee[t].childNodes[1].textContent,m=Ee[t].childNodes[3].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V){j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16),j=h.PLLCTR1&Math.pow(2,16)-1,j=h.PLLCTR1-j,Lt("PLLSTART","00000000"===parseInt(V,16).toString(2).slice(-8)?0:1)}}else"KM1M4"===C||"KM1M7"===C?(V=Ee[t].childNodes[1].textContent,m=Ee[t].childNodes[3].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16))):"NUC400"===C?(W=Ee[t].childNodes[1].textContent,z=Ee[t].childNodes[2].textContent,V=Ee[t].childNodes[3].textContent,G=Ee[t].childNodes[4].textContent,m=Ee[t].childNodes[5].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xX"!==z&&(Y=1048576,j=h.PLLCTL&Y,j=h.PLLCTL-j,z=(z=parseInt(z,10))<<20>>>0,h.PLLCTL=j+z),"0xXXXX"!==V&&(j=h.PLLCTL&Math.pow(2,16)-1,j=h.PLLCTL-j,h.PLLCTL=j+parseInt(V.slice(2),16)),Y=524288,j=h.PLLCTL&Y,j=h.PLLCTL-j,h.PLLCTL=G===qe?j+(1<<19)>>>0:j,Y=131072,j=h.PLLCTL&Y,j=h.PLLCTL-j,h.PLLCTL="1"===W?j+(1<<17)>>>0:j,Ct("PLLCTL")):"NUC505(PLL)"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,m=Ee[t].childNodes[4].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),Y=65536,j=h[l]&Y,j=h[l]-j,h[l]="1"===W?j+65536>>>0:j):"M251"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,m=Ee[t].childNodes[4].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),Y=1572864,j=h[l]&Y,j=h[l]-j,0===G.indexOf(qe)?h[l]=j+(1<<19)>>>0:0===G.indexOf("MIRC")?h[l]=j+(3<<19)>>>0:h[l]=j,Y=131072,j=h[l]&Y,j=h[l]-j,h[l]="1"===W?j+(1<<17)>>>0:j):"M55M1"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,m=Ee[t].childNodes[4].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),c=l.substring(0,5)+"SEL",j=3&h[c],j=h[c]-j,0===G.indexOf(We)?h[c]=j+2>>>0:0===G.indexOf(qe)?h[c]=j+1>>>0:h[c]=j,Y=1<<30>>>0,j=h[l]&Y,j=h[l]-j,h[l]="1"===W?j+(1<<30)>>>0:j,Ct(c)):(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,m=Ee[t].childNodes[4].textContent,m=1e6*parseFloat(m.slicePriorToX("MHz")),c="M460(PLLFN)"===C?"PLLCTL":l,"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),Y=524288,j=h[c]&Y,j=h[c]-j,0===G.indexOf(qe)?h[c]=j+(1<<19)>>>0:h[c]=j,Y=131072,j=h[c]&Y,j=h[c]-j,h[c]="1"===W?j+(1<<17)>>>0:j,Ct(c));Ct(l),$("#"+we+"_span_showRealFreq").text(m.toHzString()),$("label[for='radio_PD_enable']").click()}}),m=0,0!==Me.length&&$("#PLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLCTLtable thead").each(function(){this.setAttribute("title",Fe)})):l===Ze?($("#APLLCTLtable tbody").delegate("tr","click",function(e){for($(_.fnSettings().aoData).each(function(){$(this.nTr).removeClass("row_selected")}),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),c=l.substring(0,5)+"SEL",t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&("M55M1"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,X=Ee[t].childNodes[4].textContent,X=1e6*parseFloat(X.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),j=3&h[c],j=h[c]-j,0===G.indexOf(We)?h[c]=j+2>>>0:0===G.indexOf(qe)?h[c]=j+1>>>0:h[c]=j,Y=1<<30>>>0,j=h[l]&Y,j=h[l]-j,h[l]="1"===W?j+(1<<30)>>>0:j,Ct(c)):(V=Ee[t].childNodes[1].textContent,G=Ee[t].childNodes[2].textContent,X=Ee[t].childNodes[3].textContent,X=1e6*parseFloat(X.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16))),Ct(l),$("#"+De+"_span_showRealFreq").text(X.toHzString()),$("label[for='radio_APD_enable']").click())}),X=0,0!==Me.length&&$("#APLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#APLLCTLtable thead").each(function(){this.setAttribute("title",Fe)})):"PLLFNCTL0"===l&&($("#PLLFNCTLtable tbody").delegate("tr","click",function(e){for($(_.fnSettings().aoData).each(function(){$(this.nTr).removeClass("row_selected")}),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,w=Ee[t].childNodes[4].textContent,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(j=h[l]&Math.pow(2,16)-1,j=h[l]-j,h[l]=j+parseInt(V.slice(2),16)),Y=1<<31>>>0,j=Math.abs(h.PLLFNCTL1&Y),j=h.PLLFNCTL1-j,0===G.indexOf(qe)?h.PLLFNCTL1=j+(1<<31)>>>0:h.PLLFNCTL1=j,Y=536870912,j=h.PLLFNCTL1&Y,j=h.PLLFNCTL1-j,h.PLLFNCTL1="1"===W?j+(1<<29)>>>0:j,Ct(),$("#PLLFN_span_showRealFreq").text(w.toHzString()),$("label[for='radio_PDFN_enable']").click())}),w=0,0!==Me.length&&$("#PLLFNCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLFNCTLtable thead").each(function(){this.setAttribute("title",Fe)})),_.$("td").tooltip({delay:0,track:!0,fade:0})}},ee=function(e){!Ut(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10)?($("#PLL2_span_showRealFreq").text(""),F=0,H=0):(e>240?Ke=240:e<0?Ke=0:(C=Math.floor(240/e-1),_=Math.ceil(240/e-1),d=240/(C+1),c=240/(_+1),Math.abs(e-d)>Math.abs(e-c)?(O=_,Ke=c):(O=C,Ke=d)),Ke=1e6*parseFloat(Ke),$("#PLL2_span_showRealFreq").text(Ke.toHzString()),Lt("PLL2DIV",O),F=1e6*parseFloat($("#PLL2_span_showRealFreq").text()),H=48e7)},Q=function(){var e,t,n=!1;if(Re)Re=!1;else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&Ut("PLL2CKEN")&&Ut(nt)&&12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10))Et("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous.");else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&Ut("PLL2CKEN")&&!Ut(nt))Et("请启用HXT，否则PLL2及PLL480M将不能工作正常。","請啟用HXT，否則PLL2及PLL480M將不能工作正常。","Please enable HXT, or PLL2 and PLL480M cannot work properly.");else if(Ut(Je)||Ut(Qe)||Ut("HIRC1EN")||Ut(et)||Ut("HIRC2EN")||Ut(it)||Ut("MIRCEN")||Ut("MIRC1P2MEN")||Ut(nt)||Ut(tt)||Ut("LIRC32KEN")||Ut("PLL2CKEN")){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ye))for(e=0,t=NUTOOL_CLOCK.g_CLKSEL[Ye].length;e<t;e++){switch(NUTOOL_CLOCK.g_CLKSEL[Ye][e].slicePriorToX(":").slicePriorToX("/").toString()){case He:Ut(nt)&&(n=!0);break;case Xe:(Ut(tt)||Ut("LIRC32KEN"))&&(n=!0);break;case we:(!Ut("PD")||Ut("PLLEN")||!Ut("NPLLEN")||Ut("APLL0EN"))&&m>0&&(n=!0);break;case"PLL2":Ut("PLL2CKEN")&&F>0&&(n=!0);break;case qe:(Ut(Qe)||Ut("HIRC1EN"))&&(n=!0);break;case Be:(Ut(et)||Ut("HIRC2EN"))&&(n=!0);break;case Ve:case"LIRC":Ut(Je)&&(n=!0);break;default:case"MIRC":Ut("MIRCEN")&&(n=!0);break;case"MIRC1P2M":Ut("MIRC1P2MEN")&&(n=!0);break;case"HIRC48":Ut(it)&&(n=!0)}if(n)break}n?"none"!==$("#add-tab-2").css("display")&&($("#tab-3")[0]||ze(),$("#add-tab-2").hide(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1)):-1!==L.indexOf("Simplified")?bt("请至少为"+Ge+"启用一个时脉源。"):-1!==L.indexOf("Traditional")?bt("請至少為"+Ge+"啟用一個時脈源。"):bt("Please enable at least one clock source for "+Ge+".")}else-1!==L.indexOf("Simplified")?bt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?bt("請至少啟用一個時脈源。"):bt("Please enable at least one clock source.")},dt(),$("#tab-3")[0]?($("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+we+"</span></a></li>").insertBefore("#li-3"),$("<div id='tab-2'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+we+"</span></a></li>"),fe.append("<div id='tab-2'></div>")),l=$("#tab-2"),Lt("PD",1),Lt("OE",1),Lt("PLLEN",0),Lt("NPLLEN",1),Lt("APLL0EN",0),Z(l,"PD",we,"",0!==_e&&0!==de?"MHz ("+_e.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(Lt("PLL2CKEN",0),Z(l,"PLL2CKEN","PLL2","","MHz",!1,!1),$("#PD_div")[0]&&$("#PLL2CKEN_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&(Lt("APLL1EN",0),Z(l,"APD","APLL1","","MHz ("+ce.toHzString().slicePriorToX("MHz")+"~"+Oe.toHzString()+")",!1,!0),$("#PD_div")[0]&&$("#APD_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&(Lt("APD",0),Z(l,"APD","APLL","","MHz",!1,!0),$("#PD_div")[0]&&$("#APD_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1&&(Lt("PDFN",1),Lt("OEFN",1),Z(l,"PDFN","PLLFN","",0!==ce&&0!==Oe?"MHz ("+_e.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),$("#PD_div")[0]&&$("#PDFN_div").css("border-top","8px solid black")),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ct("button","add-tab-2","下一步")):l[0].appendChild(ct("button","add-tab-2","Next Step")),$("#add-tab-2").addClass("css_btn_class"),K.addEvent($("#add-tab-2")[0],"click",Q),fe.tabs("refresh"),fe.tabs({active:1}),"none"!==$("#clockRegsTree").css("display")?fe.css("width",n-f-8+"px"):fe.css("width",n-8+"px"),fe.css("height",o-8+"px"),$("#tab-2").css("height",o-8+"px"),$(".cb-enable").click(function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),-1!==s.indexOf("PLL2CKEN")?(Lt("PLL2CKEN",1),0!==F||!Ut(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10)?(!Ut(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10))&&(Et("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous."),$("#PLL2CKEN_input").change()):$("#PLL2CKEN_input").change()):-1!==s.indexOf("APD")?(0===X&&$("#APD_input").change(),Lt("APLL1EN",1),Lt("APD",0)):-1!==s.indexOf("PDFN")?(0===w&&$("#PDFN_input").change(),Lt("PDFN",0),Lt("OEFN",0)):(0===u.indexOf("KM1M7CF")?Ut(nt)?Lt("PLL_SRC",1):Lt("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&(Ut(nt)?Lt("PLLISEL",1):Lt("PLLISEL",0)),0===m&&$("#PD_input").change(),Lt("PD",0),Lt("OE",0),Lt("PLLEN",1),Lt("NPLLEN",0),Lt("APLL0EN",1)),-1!==(s=s.sliceBetweenXandX("radio_","_enable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","black"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","black"):$(".PLL_"+s+"_p").css("color","black"),ht())}),$(".cb-disable").click(function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),-1!==s.indexOf("PLL2CKEN")?(Lt("PLL2CKEN",0),F=0,H=0,$("#PLL2_span_showRealFreq").text("")):-1!==s.indexOf("APD")?(Lt("APLL1EN",0),Lt("APD",1),$("#APLLCTLtable").dataTable().fnDestroy(),$("#APLL_tableWrapper").remove(),$("#"+De+"_span_showRealFreq").text(""),X=0):-1!==s.indexOf("PDFN")?(Lt("PDFN",1),Lt("OEFN",1),$("#PLLFNCTLtable").dataTable().fnDestroy(),$("#PLLFN_tableWrapper").remove(),$("#PLLFN_span_showRealFreq").text(""),w=0):(Lt("PD",1),Lt("OE",1),Lt("APLL0EN",0),null!=h.CHIPPLLCTR2&&(h.CHIPPLLCTR2=NUTOOL_CLOCK.g_register_map_default.CHIPPLLCTR2),Lt("PLLEN",0),0===u.indexOf("KM1M7CF")?Lt("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&(Lt("PLLSTART",0),Lt("NPLLEN",1),null!=h.PLLCTR2&&(h.PLLCTR2=NUTOOL_CLOCK.g_register_map_default.PLLCTR2),Ut(nt)?Lt("PLLISEL",1):Lt("PLLISEL",0)),$("#PLLCTLtable").dataTable().fnDestroy(),$("#PLL_tableWrapper").remove(),$("#"+we+"_span_showRealFreq").text(""),m=0),-1!==(s=s.sliceBetweenXandX("radio_","_disable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","#BC8484"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","#BC8484"):$(".PLL_"+s+"_p").css("color","#BC8484"),ht())}),$("#PD_input").change(function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#"+we+"_inaccuracy_select").val(),je):-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again.")}),$("#PLL2CKEN_input").change(function(){void 0!==this.value&&""!==this.value&&parseInt(this.value,10)>0&&/^\d*\.?\d*$/.test(this.value)?(ee(this.value),""!==$("#PLL2_span_showRealFreq").text()?$("label[for='radio_PLL2CKEN_enable']").click():$("label[for='radio_PLL2CKEN_disable']").click()):($("#PLL2CKEN_input").val(""),$("label[for='radio_PLL2CKEN_disable']").click(),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again."))}),$("#APD_input").change(function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#"+De+"_inaccuracy_select").val(),Ze):-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again.")}),$("#PDFN_input").change(function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"):-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。請再試一次。"):bt("The inputted content is incorrect. Please try again.")}),(Ut(nt)||Ut(Qe)||Ut("HIRC1EN")||Ut(et)||Ut("HIRC2EN")||Ut(it)||Ut("MIRCEN"))&&(m>0||X>0||w>0||1===x||"undefined"!=typeof NUTOOL_PER)?(1===x&&0===m&&(m=Te),1===x&&0===X&&(X=pe),1===x&&0===w&&(w=ge),m>0&&($("#PD_input").val(m/1e6),J(m/1e6,!0,$("#"+we+"_inaccuracy_select").val(),je)),X>0&&($("#APD_input").val(X/1e6),J(X/1e6,!0,$("#"+De+"_inaccuracy_select").val(),Ze)),w>0&&($("#PDFN_input").val(w/1e6),J(w/1e6,!0,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"))):(m=0,X=0,w=0),Ut(nt)&&("12"===$("#"+nt+"_input").val()||"24"===$("#"+nt+"_input").val())&&(F>0||1===x)?(1===x&&0===F&&(F=ue),$("#PLL2CKEN_input").val(F/1e6),$("#PLL2CKEN_input").change()):(F=0,H=0),"single"!==e&&x>2&&(Ut(Je)||Ut(Qe)||Ut("HIRC1EN")||Ut(et)||Ut("HIRC2EN")||Ut(it)||Ut("MIRCEN")||Ut("MIRC1P2MEN")||Ut(nt)||Ut(tt)||Ut("LIRC32KEN")||Ut("PLL2CKEN"))&&Q(),$("#tab-3")[0]&&$("#add-tab-2").hide()}function Ve(e){var t,n,i,o,l,a,r,s,C,d,c,O,T,p=$("#tabs"),g="",h="HXT".toEquivalent().toString(),S="LXT".toEquivalent().toString(),M="HXTWAIT".toEquivalent().toString(),N="HIRC".toEquivalent().toString(),E="HIRC2".toEquivalent().toString(),m="HIRC48".toEquivalent().toString(),F="LIRC".toEquivalent().toString(),H="PWRCON".toEquivalent().toString(),X="OSC10K_EN".toEquivalent().toString(),w="OSC22M_EN".toEquivalent().toString(),D="OSC22M2_EN".toEquivalent().toString(),q="XTL32K_EN".toEquivalent().toString(),B="XTL12M_EN".toEquivalent().toString(),z="HIRC48EN".toEquivalent().toString(),W="C32KS".toEquivalent().toString(),V=!1,G=!1,Y=!1,j=!1,Z=!1;if(C=function(e,t,n,i,o,l,r){"input"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"input_select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"text"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable' selected><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"alwaysEnabled"===l?a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"RTC32k"===l&&(a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+"(from </p><select id='"+t+"_select' title='Select a clock source' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>): 32.768"+o+"</p></div><br />"),e.append(a)},c=function(){if(Re)Re=!1;else if(Ut(X)||Ut(w)||Ut("HIRC1EN")||Ut(D)||Ut("HIRC2EN")||Ut(z)||Ut("MIRCEN")||Ut("MIRC1P2MEN")||Ut(B)||Ut(q)||Ut("LIRC32KEN")){if("none"!==$("#add-tab-1").css("display")){if($("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||ze():We(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1),$("#add-tab-1").hide(),Ut(X)&&(P=NUTOOL_CLOCK.g_LIRCfrequency),(Ut(w)||Ut("HIRC1EN"))&&(b=NUTOOL_CLOCK.g_HIRCfrequency),(Ut(D)||Ut("HIRC2EN"))&&(U=NUTOOL_CLOCK.g_HIRC2frequency),Ut(z)&&(v=NUTOOL_CLOCK.g_HIRC48frequency),Ut("MIRCEN")){const e=It("MIRCFSEL");k=-1!==e&&e<NUTOOL_CLOCK.g_MIRCfreeuncyArray.length?NUTOOL_CLOCK.g_MIRCfreeuncyArray[e]:NUTOOL_CLOCK.g_MIRCfrequency}Ut("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency),Ut(q)&&(A=32768),Ut("LIRC32KEN")&&(A=32e3),Ut(B)&&(y=1e6*parseFloat($("#"+B+"_input").val())),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(R=NUTOOL_CLOCK.g_RTC32kfrequency)}}else-1!==L.indexOf("Simplified")?bt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?bt("請至少啟用一個時脈源。"):bt("Please enable at least one clock source.")},O=function(){var e=_t(NUTOOL_CLOCK.g_CLKSEL),l="",a="";for(Ut(q)?(l=S,a=h):(l=h,a=S),t=0,n=e.length;t<n;t+=1)for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[e[t]].length;i<o;i+=1)-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf(a)&&(-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf("HXTorLXT")?NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace("HXTorLXT",l):NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace(a,l))},T=function(){Ut(q)?NUTOOL_CLOCK.g_Module.RTC[0]=S:0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?NUTOOL_CLOCK.g_Module.RTC[0]=F:NUTOOL_CLOCK.g_Module.RTC[0]="LIRC"},dt(),p[0].setAttribute("style","border: 1px solid white; position:absolute; margin-top: 55px; left:"+(f+8)+"px; top:0px;"),$("#tab-2")[0]||$("#tab-3")[0]?void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-2"),$("<div id='tab-1'></div>").insertBefore("#tab-2")):($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-3"),$("<div id='tab-1'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-1'><a href='#tab-1'><span id=base_clocks_span>Base Clocks</span></a></li>"),$("#tabs").append("<div id='tab-1'></div>")),l=$("#tab-1"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf(X+":")}).length?0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?C(l,X,F,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):C(l,X,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?C(l,X,F,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0):C(l,X,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0)),0!==NUTOOL_CLOCK.g_HIRCfrequency)if(0===NUTOOL_CLOCK.g_HIRCfrequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf(w+":")}).length?C(l,w,N,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","text",!0):C(l,w,N,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","alwaysEnabled",!0);else{for(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("HIRCSEL")?(C(l,w,"HIRC0",0,"MHz","select",!0),C(l,"HIRC1EN","HIRC1",36,"MHz","text",!0)):C(l,w,N,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRCfrequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRCfrequencyArray[t]/1e6}catch(e){}$("#"+w+"_select")[0].appendChild(d)}Ut("HIRC_FSEL")?$("#"+w+"_select").val(16):$("#"+w+"_select").val(12),$("#"+w+"_select").on("change",function(){"16"===$(this).val()?Lt("HIRC_FSEL",1):Lt("HIRC_FSEL",0),Ut(w)&&(NUTOOL_CLOCK.g_HIRCfrequency=parseInt(1e6*$(this).val(),10),ht())})}if(0!==NUTOOL_CLOCK.g_HIRC2frequency)if(0===NUTOOL_CLOCK.g_HIRC2frequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf(D+":")}).length?C(l,D,E,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","text",!0):C(l,D,E,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","alwaysEnabled",!0);else{for(C(l,D,E,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRC2frequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRC2frequencyArray[t]/1e6}catch(e){}$("#"+D+"_select")[0].appendChild(d)}Ut("HIRC_FSEL")?$("#"+D+"_select").val(16):$("#"+D+"_select").val(12),$("#"+D+"_select").on("change",function(){"16"===$(this).val()?Lt("HIRC_FSEL",1):Lt("HIRC_FSEL",0),Ut(D)&&(NUTOOL_CLOCK.g_HIRC2frequency=parseInt(1e6*$(this).val(),10),ht())})}if(0!==NUTOOL_CLOCK.g_HIRC48frequency&&C(l,z,m,NUTOOL_CLOCK.g_HIRC48frequency/1e6,"MHz","text",!0),0!==NUTOOL_CLOCK.g_MIRCfrequency)if(-1!==It("MIRCFSEL")){for(C(l,"MIRCEN","MIRC",0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_MIRCfreeuncyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=NUTOOL_CLOCK.g_MIRCfreeuncyArray[t]/1e6,d.value=t}catch(e){}$("#MIRCEN_select")[0].appendChild(d)}$("#MIRCEN_select").val(It("MIRCFSEL")),$("#MIRCEN_select").on("change",function(){Lt("MIRCFSEL",parseInt($(this).val(),10)),Ut("MIRCEN")&&(k=NUTOOL_CLOCK.g_MIRCfreeuncyArray[parseInt($(this).val(),10)],ht())})}else C(l,"MIRCEN","MIRC",NUTOOL_CLOCK.g_MIRCfrequency/1e6,"MHz","text",!0);if(0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf("MIRC1P2MEN:")}).length?C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","text",!0):C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","alwaysEnabled",!0)),0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf(q+":")}).length&&C(l,q,S,"32.768","kHz","text",!0),-1!==It("LIRC32KEN")&&C(l,"LIRC32KEN","LIRC32K","32","kHz","text",!0),0!==NUTOOL_CLOCK.g_RTC32kfrequency){C(l,"RTC32kEN","RTC32k",NUTOOL_CLOCK.g_RTC32kfrequency/1e3,"kHz","RTC32k",!0),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=S}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value="LIRC"}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),Ut("RTCSEL")?$("#RTC32kEN_select").val("LIRC"):$("#RTC32kEN_select").val(S),$("#RTC32kEN_select").on("change",function(){"LIRC"===$(this).val()?Lt("RTCSEL",1):Lt("RTCSEL",0)})}if(0!==_.filter(NUTOOL_CLOCK.g_register_map[H],function(e){return-1!==e.indexOf(B+":")}).length)if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(M)){for(C(l,B,h,y>0?y/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input_select",!0),t=0,n=NUTOOL_CLOCK.g_CLKSEL[M].length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_CLKSEL[M][t].slicePriorToX(":")}catch(e){}$("#"+B+"_select")[0].appendChild(d)}for(g=It(M).toString(),t=0,n=NUTOOL_CLOCK.g_CLKSEL[M].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[M][t].sliceAfterX(":")===g&&$("#"+B+"_select").val(NUTOOL_CLOCK.g_CLKSEL[M][t].slicePriorToX(":"));$("#"+B+"_select").on("change",function(){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[M].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[M][t].slicePriorToX(":")===$(this).val()&&Lt(M,NUTOOL_CLOCK.g_CLKSEL[M][t].sliceAfterX(":"))})}else C(l,B,h,y>0?y/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input",!0);l.append("<br />"),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ct("button","add-tab-1","下一步")):l[0].appendChild(ct("button","add-tab-1","Next Step")),$("#add-tab-1").addClass("css_btn_class"),K.addEvent($("#add-tab-1")[0],"click",c),p.tabs({heightStyle:"auto"}),p.tabs("refresh"),p.tabs({activate:function(){pt(),null===ve?$("#searchModule").hide():"none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}}),$(".cb-enable").click(function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),""===$("#"+B+"_input").val()&&$("#"+B+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),s=s.sliceBetweenXandX("radio_","_enable"),$(".ref_"+s+"_p").css("color","black"),Lt(s,1),0===u.indexOf("KM1M7CF")?Lt("PLL_SRC",1):0===u.indexOf("KM1M0DF")&&Lt("PLLISEL",1),V?(0===s.indexOf(B)?(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Lt(q,0)):0===s.indexOf(q)&&(r=$("label[for='radio_"+B+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+B+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+B+"_p").css("color","#BC8484"),Lt(B,0)),O()):G?0===s.indexOf(w)?(r=$("label[for='radio_HIRC1EN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_HIRC1EN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_HIRC1EN_p").css("color","#BC8484"),Lt("HIRC1EN",0),Lt("HIRCSEL",0),Ut("HIRC_FSEL")?NUTOOL_CLOCK.g_HIRCfrequency=16e6:NUTOOL_CLOCK.g_HIRCfrequency=12e6):0===s.indexOf("HIRC1EN")&&(r=$("label[for='radio_"+w+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+w+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+w+"_p").css("color","#BC8484"),Lt(w,0),Lt("HIRCSEL",1),NUTOOL_CLOCK.g_HIRCfrequency=36e6):Y&&0===s.indexOf(q)?T():j?0===s.indexOf(B)?(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Lt(q,0)):0===s.indexOf(q)&&(r=$("label[for='radio_"+B+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+B+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+B+"_p").css("color","#BC8484"),Lt(B,0)):Z&&(0===s.indexOf(q)?(r=$("label[for='radio_LIRC32KEN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_LIRC32KEN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_LIRC32KEN_p").css("color","#BC8484"),Lt("LIRC32KEN",0),Lt(W,0)):0===s.indexOf("LIRC32KEN")&&(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Lt(q,0),Lt(W,1))),ht()}),$(".cb-disable").click(function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),s=s.sliceBetweenXandX("radio_","_disable"),$(".ref_"+s+"_p").css("color","#BC8484"),Lt(s,0),0===u.indexOf("KM1M7CF")?Lt("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&Lt("PLLISEL",0),Y&&0===s.indexOf(q)&&T(),ht()}),$("#"+B+"_input").change(function(){void 0===this.value||""===this.value||parseInt(this.value,10)<parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(this.value,10)>parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10)?($("#"+B+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),-1!==L.indexOf("Simplified")?bt("所输入的内容是不正确的。它应为"+NUTOOL_CLOCK.g_HXTRange+"。请再试一次。"):-1!==L.indexOf("Traditional")?bt("所輸入的內容是不正確的。它應為"+NUTOOL_CLOCK.g_HXTRange+"。請再試一次。"):bt("The inputted content is incorrect. It should be "+NUTOOL_CLOCK.g_HXTRange+". Please try again.")):Ut(B)&&(y=1e6*parseFloat($("#"+B+"_input").val()),ht())}),-1!==L.indexOf("Simplified")?($("#base_clocks_span").text("基础时脉源"),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("周期"),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#base_clocks_span").text("基礎時脈源"),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("週期"),$("[title]").prop("title","輸入期望值")):($("#base_clocks_span").text("Base Clocks"),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".wait_span").text("Wait"),$(".cycles_span").text("cycles"),$("[title]").prop("title","Input the expected value")),$("#"+B+"_input").width(55),$("#"+B+"_input").height(20),"MINI51AN"===u||"MINI51DE"===u||"MINI55"===u||"MINI57"===u||"MINI58"===u||"NM1200"===u||"NUC029AE"===u?(V=!0,Xe=!0,O()):"NANO103"===u?(G=!0,Xe=!1):"NUC400"===u?(Y=!0,Xe=!1,T()):"NUC121AE"===u?(j=!0,Xe=!1):"M2351"===u||"M2354"===u||"M261"===u||"M55M1"===u||"M5531"===u?(Z=!0,Xe=!1):Xe=!1,"single"!==e&&x>1&&c(),($("#tab-2")[0]||$("#tab-3")[0])&&$("#add-tab-1").hide(),Ut(X)?$("label[for='radio_"+X+"_enable']").click():$("label[for='radio_"+X+"_disable']").click(),Ut(w)?$("label[for='radio_"+w+"_enable']").click():$("label[for='radio_"+w+"_disable']").click(),Ut("HIRC1EN")?$("label[for='radio_HIRC1EN_enable']").click():$("label[for='radio_HIRC1EN_disable']").click(),Ut(D)?$("label[for='radio_"+D+"_enable']").click():$("label[for='radio_"+D+"_disable']").click(),Ut("HIRC2EN")?$("label[for='radio_HIRC2EN_enable']").click():$("label[for='radio_HIRC2EN_disable']").click(),Ut(z)?$("label[for='radio_"+z+"_enable']").click():$("label[for='radio_"+z+"_disable']").click(),Ut("MIRCEN")?$("label[for='radio_MIRCEN_enable']").click():$("label[for='radio_MIRCEN_disable']").click(),Ut("MIRC1P2MEN")?$("label[for='radio_MIRC1P2MEN_enable']").click():$("label[for='radio_MIRC1P2MEN_disable']").click(),Ut(q)?$("label[for='radio_"+q+"_enable']").click():$("label[for='radio_"+q+"_disable']").click(),Ut("LIRC32KEN")?$("label[for='radio_LIRC32KEN_enable']").click():$("label[for='radio_LIRC32KEN_disable']").click(),Ut(B)?$("label[for='radio_"+B+"_enable']").click():$("label[for='radio_"+B+"_disable']").click()}function Ge(){var e,t,n=$("#MCUselect"),i={},o=[],l=!1;for(n.children().length>0&&n.children().remove(),e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)try{o.push(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")")}catch(e){}for(o.sort(Ot),e=0,t=o.length;e<t;e+=1)(i=window.document.createElement("option")).id=i.innerHTML=i.value=o[e],n[0].appendChild(i);for(e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)if(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")"===g){l=!0;break}l?n.val(g):n.val($("#MCUselect option:first-child").val()).change(),n.on("change",function(){p!==$(this).val()&&(p=$(this).val(),window.setTimeout(Ze,0))})}function Ye(){var e,t,n,i,o,l,a,r,s,C,c="",O=[],T=[],p=_t(NUTOOL_CLOCK.g_Module).slice(),g={},K=$("#rootTree_Clock"),S=$("#clockRegsTree"),M="HXT".toEquivalent().toString(),x="LXT".toEquivalent().toString(),P="PLL".toEquivalent().toString(),b="HIRC".toEquivalent().toString(),U="HIRC2".toEquivalent().toString(),v="HIRC48".toEquivalent().toString(),k="LIRC".toEquivalent().toString(),I="HCLK".toEquivalent().toString(),R="HCLK0".toEquivalent().toString(),A="HCLK1".toEquivalent().toString(),y="HCLK2".toEquivalent().toString(),m="PCLK".toEquivalent().toString(),F="PCLK0".toEquivalent().toString(),H="PCLK1".toEquivalent().toString(),X="PCLK2".toEquivalent().toString(),w="PWRCON".toEquivalent().toString(),D="XTL32K_EN".toEquivalent().toString(),q="XTL12M_EN".toEquivalent().toString(),B="PCLK0SEL".toEquivalent().toString();for(p.push(I),0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")||p.push("HCLK0","HCLK1","HCLK2","HCLK3","ACLK"),0===u.indexOf("M2L31")&&p.push(R,A,y),"CPUCLK"!==I&&p.push("CPUCLK"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?p.push(k):p.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&p.push(b),0!==NUTOOL_CLOCK.g_HIRC2frequency&&p.push(U),0!==NUTOOL_CLOCK.g_HIRC48frequency&&p.push(v),0!==NUTOOL_CLOCK.g_MIRCfrequency&&p.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&p.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&p.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[w],function(e){return-1!==e.indexOf(D+":")}).length&&p.push(x),0!==_.filter(NUTOOL_CLOCK.g_register_map[w],function(e){return-1!==e.indexOf(q+":")}).length&&p.push(M),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]&&p.push(P),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&p.push("PLL2"),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&p.push("PLL480M"),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&p.push("APLL"),void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&p.push("APLL1"),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL0&&p.push("PLLFN"),0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&un(_t(NUTOOL_CLOCK.g_Module))&&p.push("HSUSB_OTG_PHY"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(B)||0===u.indexOf("M55M1")||0===u.indexOf("M5531")?(p.push(F),p.push(H),p.push(X),p.push("PCLK3"),p.push("PCLK4")):p.push(m),p.sort(),e=0,t=N.length;e<t;e+=1)T[e]=N[e];for(T.sort(),e=0,t=T.length;e<t;e+=1)T[e].length>E&&(E=T[e].length);for(10*(E+1+2+8)+50>(f=250)&&(f=10*(E+1+2+8)+40,$("#ChipType").width(f-16),$("#MCU").width(f-16)),e=0,t=T.length;e<t;e+=1){if((c=T[e]).length<E)for(n=0,i=E-c.length;n<i;n+=1)c+=d;o={},(l={}).id=T[e],o.data=c+":0x"+ft(h[T[e]]).toUpperCase(),o.attr=l,O[e]=o}(l={}).id="clock_tree",At(),g.data="Simplified Chinese"===L?"Clock寄存器":"Traditional Chinese"===L?"Clock暂存器":"Clock Registers",g.attr=l,g.state="open",g.children=O,0===S.length&&(K[0].appendChild(ct("div","clockRegsTree","Loading...")),S=$("#clockRegsTree")),0===u.indexOf("M460")?S[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+f+"px; height: "+14*T.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"):0===u.indexOf("M55M1")||0===u.indexOf("M5531")?S[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+f+"px; height: "+4*T.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"):S[0].setAttribute("style","background-color: #FFFFFF; float:left; width:"+(f-16)+"px; height: "+20*T.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),S.hover(function(){$(this).css("background-color","#FAFAFA")},function(){$(this).css("background-color","#FFFFFF")}),S.jstree({json_data:{data:g},themes:{theme:"default",icons:!1,dots:!0},core:{animation:0},plugins:["themes","json_data","ui","crrm"]}).bind("hover_node.jstree",function(e,t){var n,i=t.rslt.obj.attr("id");NUTOOL_CLOCK.g_register_map_description.hasOwnProperty(i)&&(n="Simplified Chinese"===L||"Traditional Chinese"===L?"位址: ":"Address: ",n+=NUTOOL_CLOCK.g_register_map_description[i],$("#"+i).simpletip({fixed:!0,offset:[80,-10]}),$("#"+i).eq(0).simpletip().update(n))}).bind("dblclick.jstree",function(e){var t=$(e.target).closest("li")[0].id;"clock_tree"!==t&&-1===NUTOOL_CLOCK.g_register_map_description[t].indexOf("Read Only")&&(S.jstree("rename",$("#"+t)),$("#"+t).eq(0).simpletip().blockShow(),$("#"+t).eq(0).simpletip().hide())}).bind("rename.jstree",function(e,t){var n=t.rslt.obj.attr("id"),i=t.rslt.old_name,o=t.rslt.new_name;-1!==o.indexOf(P)?(-1!==L.indexOf("Simplified")?bt("若要设置"+P+"，请至"+P+"页面。"):-1!==L.indexOf("Traditional")?bt("若要設置"+P+"，請至"+P+"頁面。"):bt("To configure "+P+", please refer to the "+P+" page."),S.jstree("rename_node",$("#"+n),i)):-1!==o.indexOf(":0x")&&o.slicePriorToX(":")===i.slicePriorToX(":")&&o.sliceAfterX(":").length===i.sliceAfterX(":").length&&o!==i?(h[n]=parseInt(o.sliceAfterX(":"),16),pt(),Bt(),NUTOOL_CLOCK.g_readConfigFileContentText=localStorage.getItem("Nu_config"),NUTOOL_CLOCK.g_readConfigFilePath="",gt(),it(),Ae=!0,Kt(),Ae=!1):S.jstree("rename_node",$("#"+n),i)}).bind("loaded.jstree",function(){ln(),Ct(),ye=!0,"undefined"!=typeof NUTOOL_PER&&($e=!0)}).bind("destroy.jstree",function(){}),S.css("font-size","16px"),S.css("font-family",'Monaco, Consolas, "Lucida Console", monospace;'),C="Simplified Chinese"===L?"搜寻模块":"Traditional Chinese"===L?"搜尋模組":"Search Module",K[0].appendChild(ct("div","searchModule","")),(a=$("#searchModule")).append("<span id=searchModule_span></span>"),(r=$("#searchModule_span")).css("font-size","16px"),r.css("font-weight","bold"),a.append("<input id='searchInput' type='text' value=''>"),s=$("#searchInput"),a[0].setAttribute("style","background-color: #FFFFFF; border-right: 16px solid #FFFFFF; float:left; width:"+(f-16)+"px; height: 22px;"),r.text(C),s[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+(r.width()+10)+"px; width:"+(f-16-r.width()-10)+"px; height: 16px;"),s.change(function(){var n,i,o;if(null!==ve&&(ve.selectAll("g.node").on("searchFromInput")(this.value),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2})),n=$(this).val(),a.simpletip({fixed:!0,offset:[100,-7]}),i="",""!==n){for(o=[],e=0,t=p.length;e<t;e+=1)0===p[e].toLowerCase().indexOf(n.toLowerCase())&&o.push(p[e]);if(o.length>0)for(i="Simplified Chinese"===L?"符合的搜寻结果为:<br />":"Traditional Chinese"===L?"符合的搜尋結果為:<br />":"The matched search result is:<br />",e=0,t=o.length;e<t;e+=1)i=i+o[e]+"<br />"}""!==i?(a.eq(0).simpletip().unblockShow(),a.eq(0).simpletip().update(i),a.eq(0).simpletip().show()):(a.eq(0).simpletip().blockShow(),a.eq(0).simpletip().hide())}),a.hide()}function je(e,t,n,i){var o,l,a="js"===n?"script":"css"===n?"link":"none",r="js"===n?"src":"css"===n?"href":"none",s=window.document.getElementsByTagName(a);for("function"==typeof NUTOOL_CLOCK&&NUTOOL_CLOCK.clearVars(),"undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="ClockConfigure/"+e,t="ClockConfigure/"+t),l=function(e,t){var n;return"js"===t?((n=document.createElement("script")).setAttribute("type","text/javascript"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("src",e):dn()?n.setAttribute("src",window.extensionResource+`/src/${e}`):n.setAttribute("src",`./src/${e}`)):"css"===t&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("href",e):dn()?n.setAttribute("href",window.extensionResource+`/src/${e}`):n.setAttribute("href",`./src/${e}`)),n}(t,n),"function"==typeof i&&(l.onload=function(){i()}),o=s.length;o>=0;o-=1)s[o]&&null!==s[o].getAttribute(r)&&(s[o].getAttribute(r)===e||s[o].getAttribute(r)===t)&&s[o].parentNode.removeChild(s[o]);s[0].parentNode.appendChild(l)}function Ze(){if(p!==g){try{window.external.updateCurrentDialogSize()}catch(e){}je("NUC_"+u+"_Content.js","NUC_"+(u=nt(p))+"_Content.js","js",Je)}}function Je(){g=p,gt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",tt(),Kt()}function Qe(e){var t;return t=e,"CM2003"===e?t="CM2003":"CM2052"===e||"CM2053"===e?t="CM2052":"CM2U51"===e?t="CM2U51":"NUC200AN"===e||"NUC200AE"===e||"NUC2201"===e?t="NUC200":"NANO100AN"===e||"NANO100BN"===e||"NANO103"===e||"NANO112"===e?t="NANO100":"NUC100AN"===e||"NUC100BN"===e||"NUC100CN"===e||"NUC100DN"===e||"NUC131"===e||"NUC1311"===e||"NUC121AE"===e||"NUC123AN_AE"===e||"NUC122AN"===e||0===e.indexOf("NUC126")?t="NUC100":"M051BN"===e?t="M051":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?t="M0A21":0===e.indexOf("M030G")?t="M030G":0===e.indexOf("M03")?t="M031":"M051DN"===e||"M051DE"===e||"M051AN"===e||"M058S"===e?t="M051":0===e.indexOf("MINI5")?t="MINI51":0===e.indexOf("NUC029")?t="NUC029":0===e.indexOf("M2354")?t="M2354":0===e.indexOf("M2351")?t="M2351":0==e.indexOf("M2L31")?t="M2L31":0===e.indexOf("M25")?t="M251":0===e.indexOf("M433")?t="M433":0===e.indexOf("M460")?t="M460":0===e.indexOf("M480")?t="M480":0===e.indexOf("KM1M4BF")?t="KM1M4BF":0===e.indexOf("KM1M7AF")?t="KM1M7AF":0===e.indexOf("KM1M7BF")?t="KM1M7BF":0===e.indexOf("KM1M7CF")?t="KM1M7CF":0===e.indexOf("M2003")?t="M2003":0===e.indexOf("M55M1")?t="M55M1":0===e.indexOf("M5531")?t="M5531":0===e.indexOf("M2U5")?t="M2U51":0===e.indexOf("CM303")?t="CM3031":0===e.indexOf("M3331_")&&(t="M3331"),t}function et(e){var t,n,i="HXT".toEquivalent().toString(),o="LXT".toEquivalent().toString(),l="PLL".toEquivalent().toString(),a="APLL".toEquivalent().toString(),r="HIRC".toEquivalent().toString(),s="HIRC2".toEquivalent().toString(),C="HIRC48".toEquivalent().toString(),L="LIRC".toEquivalent().toString(),_="HCLK".toEquivalent().toString(),d="HCLK0".toEquivalent().toString(),c="HCLK1".toEquivalent().toString(),O="HCLK2".toEquivalent().toString(),f="PCLK".toEquivalent().toString(),T="PCLK0".toEquivalent().toString(),u="PCLK1".toEquivalent().toString(),p="PCLK2".toEquivalent().toString();if(n=-1!==e.indexOf("DIV")?It(e.sliceAfterX("(").slicePriorToX(":").slicePriorToX("+"))+1:-1!==e.indexOf("/")?parseInt(e.sliceAfterX("/"),10):1,0===e.indexOf("LIRC")||0===e.indexOf(L))t=P/n;else if(0===e.indexOf(C))t=v/n;else if(0===e.indexOf(r))t=b/n;else if(0===e.indexOf(s))t=U/n;else if(0===e.indexOf("MIRC1P2M"))t=I/n;else if(0===e.indexOf("MIRC"))t=k/n;else if(0===e.indexOf(o))t=A/n;else if(0===e.indexOf(i))t=y/n;else if(0===e.indexOf("RTC32k"))t=R/n;else if(0===e.indexOf("PLL480M"))t=H/n;else if(0===e.indexOf("PLL2"))t=F/n;else if(0===e.indexOf(l))t=m/n;else if(0===e.indexOf(a))t=X/n;else if(0===e.indexOf("PLLFN"))t=w/n;else if(0===e.indexOf("HSUSB_OTG_PHY"))t=D/n;else if(0===e.indexOf("ACLK"))t=q/n;else if(0===e.indexOf(_))t=B/n;else if(0===e.indexOf(d))t=z/n;else if(0===e.indexOf(c))t=W/n;else if(0===e.indexOf(O))t=V/n;else if(0===e.indexOf(T))t=Y/n;else if(0===e.indexOf(u))t=Z/n;else if(0===e.indexOf(p))t=J/n;else if(0===e.indexOf("PCLK3"))t=Q/n;else if(0===e.indexOf("PCLK4"))t=ee/n;else if(0===e.indexOf(f))t=G/n;else if(0===e.indexOf("CPUCLK"))t=B/n;else if(0===e.indexOf("EXT"))t="N/A";else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(e.slicePriorToX("/").toString())){const i=e.slicePriorToX("/").toString(),o=It(i);for(const e of NUTOOL_CLOCK.g_CLKSEL[i]){if(o===parseInt(e.sliceAfterX(":"))){return t=et(e.slicePriorToX(":"))/n}}t="N/A"}return t}function tt(e){var t,n,i,o,l,a,r,s={},C=_t(NUTOOL_CLOCK.g_CLKSEL),L=[],_="XTL32K_EN".toEquivalent().toString(),d="XTL12M_EN".toEquivalent().toString(),c="PWRCON".toEquivalent().toString(),O="PLLCON".toEquivalent().toString(),f="HXT".toEquivalent().toString(),T="LXT".toEquivalent().toString(),u="PLL".toEquivalent().toString();if(void 0!==NUTOOL_CLOCK.g_unusedModule)for(void 0!==NUTOOL_CLOCK.g_unusedModule[g]?s="function"==typeof NUTOOL_CLOCK.g_unusedModule[g]?NUTOOL_CLOCK.g_unusedModule[g]():NUTOOL_CLOCK.g_unusedModule[g]:void 0!==NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]&&(s="function"==typeof NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]?NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]():NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]),L=_t(NUTOOL_CLOCK.g_Module),i=0,a=s.length;i<a;i+=1){for(r=s[i],n=0,l=L.length;n<l;n+=1)if(r.toUpperCase()===L[n].toUpperCase()){delete NUTOOL_CLOCK.g_Module[r];break}if(r.toUpperCase()===T){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(_+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(T+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(T+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===f.toUpperCase()){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(d+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===u.toUpperCase())for(delete NUTOOL_CLOCK.g_register_map[O],delete NUTOOL_CLOCK.g_register_map_default[O],delete NUTOOL_CLOCK.g_register_map_description[O],t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(u+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(u+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}for(t=0,o=(N=_t(NUTOOL_CLOCK.g_register_map_default)).length;t<o;t+=1)"undefined"==typeof NUTOOL_PER&&void 0!==NUTOOL_CLOCK.g_register_map_default[N[t]].NuClockConfig?NUTOOL_CLOCK.g_register_map_default[N[t]]=NUTOOL_CLOCK.g_register_map_default[N[t]].NuClockConfig:"undefined"!=typeof NUTOOL_PER&&!1===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[N[t]].NuCodeGenTool?NUTOOL_CLOCK.g_register_map_default[N[t]]=NUTOOL_CLOCK.g_register_map_default[N[t]].NuCodeGenTool:"undefined"!=typeof NUTOOL_PER&&!0===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[N[t]].NuCodeGenTest&&(NUTOOL_CLOCK.g_register_map_default[N[t]]=NUTOOL_CLOCK.g_register_map_default[N[t]].NuCodeGenTest);if(void 0!==e&&_t(e).length>0)for(t=0,o=N.length;t<o;t+=1)h[N[t]]=e[N[t]];else for(t=0,o=N.length;t<o;t+=1)h[N[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[N[t]],16)}function nt(e){return-1===e.indexOf("(")&&(e+="("),e.startsWith("CM2003")?"CM2003":e.startsWith("CM2052")?"CM2052":e.startsWith("CM2053")?"CM2053":e.startsWith("CM2U5")?"CM2U51":0===e.indexOf("M0564")?"M0564":0===e.indexOf("M433")?"M433":0===e.indexOf("M45")||0===e.indexOf("M4TK")?"M451":0===e.indexOf("M46")?-1!==e.indexOf("CAE")?"M460LD":"M460HD":0===e.indexOf("M48")?-1!==e.indexOf("8AE")||-1!==e.indexOf("CAE")?"M480LD":"M480MD":0===e.indexOf("KM1M0DF")?"KM1M0DF":0===e.indexOf("KM1M4BF")?"KM1M4BF":0===e.indexOf("KM1M7AF")?"KM1M7AF":0===e.indexOf("KM1M7BF")?"KM1M7BF":0===e.indexOf("KM1M7CF")?"KM1M7CF":0===e.indexOf("M2L31")?"M2L31":0===e.indexOf("M251")||0===e.indexOf("M252")?"M251":0===e.indexOf("M253")?"M253":0===e.indexOf("M254")||0===e.indexOf("M256")||0===e.indexOf("M258")?"M258":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?"M0A21":0===e.indexOf("M030G")||0===e.indexOf("M031G")?"M030G_31G":0===e.indexOf("M031BT")?"M031BT":0===e.indexOf("M031")||0===e.indexOf("M032")?"M031":0===e.indexOf("M2U5")?"M2U51":0===e.indexOf("M2351")?"M2351":0===e.indexOf("M2354")?"M2354":0===e.indexOf("M26")?"M261":0===e.indexOf("M0518")?"M0518":0===e.indexOf("M0519")?"M0519":0===e.indexOf("M05")&&-1!==e.indexOf("DN(")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("DE(")?"M051DE":0===e.indexOf("MHC54ZDN")||0===e.indexOf("PL054TDN")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("BN(")||0===e.indexOf("E32")?"M051BN":0===e.indexOf("M058S")?"M058S":0===e.indexOf("M05")&&-1!==e.indexOf("AN(")?"M051AN":0===e.indexOf("MINI57")?"MINI57":0===e.indexOf("MINI58")?"MINI58":0===e.indexOf("MINI5")&&-1!==e.indexOf("AN(")?"MINI51AN":0===e.indexOf("MINI5")&&-1!==e.indexOf("AE(")||0===e.indexOf("MINI54XFHC")||0===e.indexOf("MINI55")||0===e.indexOf("NVS06AL")?"MINI55":0===e.indexOf("MINI5")&&-1!==e.indexOf("DE(")||0===e.indexOf("MINI54FHC")?"MINI51DE":0===e.indexOf("M55M1")?"M55M1":0===e.indexOf("M5531")?"M5531":0===e.indexOf("NUC2201")?"NUC2201":0===e.indexOf("NUC2")&&-1!==e.indexOf("AN(")?"NUC200AN":0===e.indexOf("NUC2")&&-1!==e.indexOf("AE(")?"NUC200AE":0===e.indexOf("NUC029ZAN")?"NUC029ZAN":0===e.indexOf("NUC029LDE")||0===e.indexOf("NUC029SDE")?"NUC029xDE":0===e.indexOf("NUC029LGE")||0===e.indexOf("NUC029SGE")||0===e.indexOf("NUC029KGE")?"NUC029xGE":0===e.indexOf("NUC029LEE")||0===e.indexOf("NUC029SEE")?"NUC029xEE":0===e.indexOf("NUC029TAE")?"NUC029TAE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AE(")?"NUC029AE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AN(")?"NUC029AN":0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO100")||-1===e.indexOf("AN(")?0!==e.indexOf("NANO100")&&0!==e.indexOf("NANO110")&&0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO130")||-1===e.indexOf("BN(")?0===e.indexOf("NANO103")&&-1!==e.indexOf("AE(")?"NANO103":0===e.indexOf("NANO1")&&-1!==e.indexOf("AN(")?"NANO112":0===e.indexOf("NM11")||0===e.indexOf("NM12")?"NM1200":0===e.indexOf("NM15")?"NM1500":0===e.indexOf("NUC121")||0===e.indexOf("NUC125")?"NUC121AE":0===e.indexOf("NUC122")&&-1!==e.indexOf("AN(")?"NUC122AN":0!==e.indexOf("NUC123")||-1===e.indexOf("AE0(")&&-1===e.indexOf("AE1(")&&-1===e.indexOf("AN0(")&&-1===e.indexOf("AN1(")?0===e.indexOf("NUC1")&&-1!==e.indexOf("AN(")?"NUC100AN":0===e.indexOf("NUC1")&&-1!==e.indexOf("BN(")?"NUC100BN":0===e.indexOf("NUC1")&&-1!==e.indexOf("CN(")?"NUC100CN":0===e.indexOf("NUC1")&&-1!==e.indexOf("DN(")?"NUC100DN":0===e.indexOf("NUC1261")?"NUC1261":0===e.indexOf("NUC1262")?"NUC1262":0===e.indexOf("NUC1263")?"NUC1263":0===e.indexOf("NUC126")?"NUC126":0===e.indexOf("NUC1311")?"NUC1311":0===e.indexOf("NUC13")?"NUC131":0===e.indexOf("NUC505")?"NUC505":0===e.indexOf("I91")?"ISD9100":0===e.indexOf("I93")?"ISD9300":0===e.indexOf("M2003")?"M2003":0===e.indexOf("CM303")?"CM3031":0===e.indexOf("M333")?e.endsWith("GAAE")?"M3331_Gx":"M3331_Ix":"NUC400":"NUC123AN_AE":"NANO100BN":"NANO100AN"}function it(){var e,t,n,i,o="",l="",a="",r=[],s=[],C=[],L=0,_="",d="",c="",O="",f="",p="",K="",h="",S=!1,M=function(){e="NUC_"+u+"_Content.js","undefined"==typeof NUTOOL_PER?(u="NUC400",g="NUC442JG8AE(LQFP144)"):(u="M251",g="M251EB2AE(TSSOP28)"),a=nt(g),je(e,"NUC_"+a+"_Content.js","js",tt),window.setTimeout(Ze,0)};if(o=NUTOOL_CLOCK.g_readConfigFileContentText,!o||/^\s*$/.test(o))return M(),S;for(;-1!==o.indexOf("\r")&&o.indexOf("\r")<o.indexOf("MCU:");)o=o.sliceAfterX("\r");if(l=o.sliceBetweenXandX("MCU:","\r"),a=nt(l),-1===$.inArray(Qe(a),T))return Et("从配置档读出的晶片型号 "+a+" 不正确。","從配置檔讀出的晶片型號 "+a+" 不正確。","The chip type of "+a+" read from the config file is incorrect."),M(),S;for(u!=a&&je(e=void 0!==u&&""!==u?"NUC_"+u+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+a+"_Content.js","js");-1!==o.indexOf("Reg:");){if(h=(o=o.sliceAfterX("Reg:")).sliceBetweenXandX("0x","\r"),!/^[0-9A-Fa-f]+$/.test(h)||8!==h.length)return Et("从配置档读出的暂存器"+o.slicePriorToX(" = ")+"的值"+h+"是不正确的。","從配置檔讀出的暫存器"+o.slicePriorToX(" = ")+"的值"+h+"是不正確的。","The value "+h+" of "+o.slicePriorToX(" = ")+" read from the config file is incorrect."),M(),S;if(r[o.slicePriorToX(" = ")]=parseInt(h,16),o=o.slice(1),L>200)break;L+=1}return n="LXT".toEquivalent().toString(),-1!==o.indexOf(n+":")&&"32768"!==(_=(o=o.sliceAfterX(n+":")).slicePriorToX("\r"))&&"32000"!==_?(Et("从配置档读出的"+n+"频率是不正确的。","從配置檔讀出的"+n+"頻率是不正確的。","The frequency of "+n+" read from the config file is incorrect."),M(),S):(t="HXT".toEquivalent().toString(),-1!==o.indexOf(t+":")&&(d=(o=o.sliceAfterX(t+":")).slicePriorToX("\r"),parseInt(d,10)<1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(d,10)>1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10))?(Et("从配置档读出的"+t+"频率是不正确的。","從配置檔讀出的"+t+"頻率是不正確的。","The frequency of "+t+" read from the config file is incorrect."),M(),S):(i="PLL".toEquivalent().toString(),sAPLL="APLL".toEquivalent().toString(),-1!==o.indexOf(i+":")&&(c=(o=o.sliceAfterX(i+":")).slicePriorToX("\r")),-1!==o.indexOf("PLL2:")&&(O=(o=o.sliceAfterX("PLL2:")).slicePriorToX("\r")),-1!==o.indexOf(sAPLL)&&(f=(o=o.sliceAfterX(sAPLL+":")).slicePriorToX("\r")),-1!==o.indexOf("PLLFN:")&&(p=(o=o.sliceAfterX("PLLFN:")).slicePriorToX("\r")),-1!==o.indexOf("Step:")&&(K=(o=o.sliceAfterX("Step:")).slicePriorToX("\r"),parseInt(K,10)<1||parseInt(K,10)>4)?(Et("从配置档读出的最後步骤是不正确的。","從配置檔讀出的最後步驟是不正確的。","The last step read from the config file is incorrect."),M(),S):(u=a,g=l,tt(r),(s=_t(r)).sort(),(C=_t(NUTOOL_CLOCK.g_register_map_default)).sort(),C.compare(s)?($("#ChipTypeSelect").val(Qe(u)),""!==_&&(A=parseInt(_,10)),""!==d&&(y=parseInt(d,10)),""!==c&&(m=parseInt(c,10)),""!==O&&(F=parseInt(O,10)),""!==f&&(X=parseInt(f,10)),""!==p&&(w=parseInt(p,10)),""!==K&&(x=parseInt(K,10)),pt(),S):(Et("从配置档读出的时脉暂存器里至少一个是不正确的。","從配置檔讀出的暫存器裡至少一個時脈是不正確的。","At least one of the clock registers read from the config file is incorrect."),M(),S))))}function ot(){n=1022,t=(o=635)-8,recordedDialogSize=null}function lt(e){var t,n,i,o,l,a,r,s="";if(e.includes("."))for(l=e.split(".")[0],e=e.split(".")[1],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1){if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){s=-1===a.indexOf("-")?l+"["+a.sliceAfterX(":")+"]":l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}if(-1!==a.indexOf(e.slice(1))&&a.indexOf(":")===e.length-1&&"!"===e[0]){s=-1===a.indexOf("-")?"!"+l+"["+a.sliceAfterX(":")+"]":"!"+l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}}else if(-1===e.indexOf("["))for(t=0,n=N.length;t<n;t+=1)for(l=N[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1){if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){s=-1===a.indexOf("-")?l+"["+a.sliceAfterX(":")+"]":l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}if(-1!==a.indexOf(e.slice(1))&&a.indexOf(":")===e.length-1&&"!"===e[0]){s=-1===a.indexOf("-")?"!"+l+"["+a.sliceAfterX(":")+"]":"!"+l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}}else s=e;return s}function at(e){var t,n,i,o,l,a,r,s="HCLK".toEquivalent().toString(),C="HCLK0".toEquivalent().toString(),L="HCLK1".toEquivalent().toString(),_="HCLK2".toEquivalent().toString(),d="ACLK".toEquivalent().toString(),c="PCLK".toEquivalent().toString(),O="PCLK0".toEquivalent().toString(),f="PCLK1".toEquivalent().toString(),T="PCLK2".toEquivalent().toString(),u="PCLK3".toEquivalent().toString(),p="PCLK4".toEquivalent().toString(),g="";if("SYSTICK"!==e&&0!==e.indexOf("CLKO")&&0!==e.indexOf("CKO"))if((l=NUTOOL_CLOCK.g_Module[e][1].slicePriorToX("/").toString()).includes("."))for(a=l.split(".")[0],l=l.split(".")[1],i=0,o=NUTOOL_CLOCK.g_register_map[a].length;i<o;i+=1)-1!==(r=NUTOOL_CLOCK.g_register_map[a][i]).indexOf(l)&&r.indexOf(":")===l.length&&(g="("+c+"):"+G.toHzString());else for(t=0,n=N.length;t<n;t+=1){for(a=N[t],i=0,o=NUTOOL_CLOCK.g_register_map[a].length;i<o;i+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][i]).indexOf(l)&&r.indexOf(":")===l.length){g=0===a.indexOf("AHB")?"("+s+"):"+B.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK0)?"("+C+"):"+z.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK1)?"("+L+"):"+W.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK2)?"("+_+"):"+V.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromACLK)?"("+d+"):"+q.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK1)?"("+f+"):"+Z.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK2)?"("+T+"):"+J.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK3)?"("+u+"):"+Q.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK4)?"("+p+"):"+ee.toHzString():0!==Y?"("+O+"):"+Y.toHzString():"("+c+"):"+G.toHzString();break}if(""!==g)break}else g="("+s+"):"+B.toHzString();return g}function rt(e){return-1===NUTOOL_CLOCK.g_BusNonExistent.indexOf(e)}function st(e){var t,n,i=!0,o="HCLK".toEquivalent().toString(),l="ACLK".toEquivalent().toString(),a="HCLK0".toEquivalent().toString(),r="HCLK1".toEquivalent().toString(),s="HCLK2".toEquivalent().toString(),C="PCLK".toEquivalent().toString(),L="PCLK0".toEquivalent().toString(),_="PCLK1".toEquivalent().toString(),d="PCLK2".toEquivalent().toString(),c="PCLK3".toEquivalent().toString(),O="PCLK4".toEquivalent().toString();return t=NUTOOL_CLOCK.g_Module[e][0],n=NUTOOL_CLOCK.g_Module[e][2],[o,l,a,r,s,C,L,_,d,c,O].includes(t)&&"none"===n&&(i=!1),i}function Ct(...e){var t,n,i,o,l,a;d3.selectAll(".d3-tip").style("visibility","hidden");const r=e.length>0?e:N;for(t=0,n=r.length;t<n;t+=1)if(a=l=r[t],h.hasOwnProperty(l)){if(a.length<E)for(i=0,o=E-a.length;i<o;i+=1)a+=d;$("#clockRegsTree").jstree("rename_node",$("#"+l),a+":0x"+ft(h[l]).toUpperCase())}}function Lt(e,t,n,i){var o,l,a,r,s,C,L,_,d,c,O="";if(e.includes("."))return Lt(e.split(".")[1],t,e.split(".")[0],i);if(n){for(a=0,r=NUTOOL_CLOCK.g_register_map[n].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[n][a]).indexOf(e)&&C.indexOf(":")===e.length){O=n,-1===C.indexOf("-")?(d=1<<(L=parseInt(C.sliceAfterX(":"),10))>>>0,c=(h[n]&d)>>>0,c=h[n]-c,t=t<<L>>>0,h[n]=c+t):(L=parseInt(C.sliceAfterX("-"),10),_=parseInt(C.sliceBetweenXandX(":","-"),10)-L+1,d=Math.pow(2,_)-1<<L>>>0,c=(h[n]&d)>>>0,c=h[n]-c,t=t<<L>>>0,h[n]=c+t);break}}else for(o=0,l=N.length;o<l;o+=1)for(s=N[o],a=0,r=NUTOOL_CLOCK.g_register_map[s].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[s][a]).indexOf(e)&&C.indexOf(":")===e.length){O=s,-1===C.indexOf("-")?(d=1<<(L=parseInt(C.sliceAfterX(":"),10))>>>0,c=(h[s]&d)>>>0,c=h[s]-c,t=t<<L>>>0,h[s]=c+t):(L=parseInt(C.sliceAfterX("-"),10),_=parseInt(C.sliceBetweenXandX(":","-"),10)-L+1,d=Math.pow(2,_)-1<<L>>>0,c=(h[s]&d)>>>0,c=h[s]-c,t=t<<L>>>0,h[s]=c+t);break}i||""===O||Ct(O)}function _t(e){var t,n=[],i=0;for(t in e)e.hasOwnProperty(t)&&(n[i]=t,i+=1);return i=null,t=null,n}function dt(){$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),$("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$("#generateCodeDialog").is(":visible")&&$("#generateCodeDialog").dialog("destroy"),$("#MaxClockDialog").is(":visible")&&$("#MaxClockDialog").dialog("destroy")}function ct(e,t,n,i){var o;return i?((o=window.document.createElement("input")).value=n,o.type=e):(o=window.document.createElement(e)).innerHTML=n,o.id=t,o}function Ot(e,t){var n,i,o,l,a,r=0,s=/(\d+)|(\D+)/g,C=/\d/;if(isFinite(e)&&isFinite(t))return e-t;if((n=String(e).toLowerCase())===(i=String(t).toLowerCase()))return 0;if(!C.test(n)||!C.test(i))return n>i?1:-1;for(n=n.match(s),i=i.match(s),a=n.length>i.length?i.length:n.length;r<a;)if(o=n[r],l=i[r],r+=1,o!==l)return isFinite(o)&&isFinite(l)?("0"===o.charAt(0)&&(o="."+o),"0"===l.charAt(0)&&(l="."+l),o-l):o>l?1:-1;return n.length-i.length}function ft(e,t){var n=Number(e).toString(16);for(t=null==t?t=8:t;n.length<t;)n="0"+n;return n}function Tt(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ut(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}function pt(){var e,t;for(M=[],e=0,t=N.length;e<t;e+=1)M[N[e]]=h[N[e]];te=P,ne=b,ie=U,oe=v,le=k,ae=I,re=A,se=y,Ce=m,Le=F,_e=X,de=w,ce=q,Oe=B,fe=z,Te=W,ue=V,pe=G,ge=Y,Ke=Z,he=J,Se=Q,Me=ee}function gt(){h=[],N=[],E=0,P=0,b=0,U=0,v=0,k=0,I=0,A=0,y=0,R=0,m=0,F=0,H=0,X=0,w=0,D=0,B=0,z=0,W=0,V=0,q=0,G=0,Y=0,Z=0,J=0,Q=0,ee=0,Ne=[],Ee="",Re=!1,r="",x=1,ve=null,$("#tab-1").remove(),$("#tab-2").remove(),$("#tab-3").remove(),$("#tab-4").remove(),$("#tabs > ul > li").remove(),$("#clockRegsTree").jstree("destroy"),$("#searchModule").jstree("destroy"),$("#clockRegsTree").remove(),$("#searchModule").remove(),d3.selectAll(".d3-tip").remove(),dt()}function Kt(){$("#ChipType").show(),$("#MCU").show(),"none"!==$("#clockRegsTree").css("display")?($("#tabs").css("width",n-f-8+"px"),$("#tabs").css({left:f+8+"px"})):($("#tabs").css("width",n-8+"px"),$("#tabs").css({left:"0px"})),"undefined"==typeof NUTOOL_PER&&Ge(),Ye(),Ve()}function ht(){var e,t,n,i,o,l,a,r,s=!1,C=!1,_=$("#tabs").tabs("option","active");if(!Ae){if(Ae=!0,_+1<x){for(e=0,t=N.length;e<t;e+=1)if(M[N[e]]!==h[N[e]]){s=!0;break}(te>0&&te!==P||ne>0&&ne!==b||ie>0&&ie!==U||oe>0&&oe!==v||le>0&&le!==k||ae>0&&ae!==I||re>0&&re!==A||se>0&&se!==y||Ce>0&&Ce!==m||Le>0&&Le!==F||_e>0&&_e!==X||de>0&&de!==w||Oe>0&&Oe!==B||fe>0&&fe!==z||Te>0&&Te!==W||ue>0&&ue!==V||ce>0&&ce!==q||pe>0&&pe!==G||ge>0&&ge!==Y||Ke>0&&Ke!==Z||he>0&&he!==J||Se>0&&Se!==Q||Me>0&&Me!==ee)&&(C=!0),(s||C)&&($e?St(_):(n=function(){St(_)},i=function(){!function(e){switch(Ae=!0,function(){var e,t;for(e=0,t=N.length;e<t;e+=1)h[N[e]]=M[N[e]];P=te,b=ne,U=ie,v=oe,k=le,I=ae,A=re,y=se,m=Ce,F=Le,X=_e,w=de,q=ce,B=Oe,z=fe,W=Te,V=ue,G=pe,Y=ge,Z=Ke,J=he,Q=Se,ee=Me}(),$("#li-"+(e+1)).remove(),$("#tab-"+(e+1)).remove(),e+1){case 1:$("#tab-1")[0]||Ve("single");break;case 2:$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||ze():We();break;case 3:$("#tab-3")[0]||ze("single")}$("#tabs").tabs({active:e}),Ae=!1}(_)},-1!==L.indexOf("Simplified")?(o="警告!",l='这样的改变将会影响之前的设定。请问你要继续它吗?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暂时略过这个讯息</label>',a="要",r="不要"):-1!==L.indexOf("Traditional")?(o="警告!",l='這樣的改變將會影響之前的設定。請問你要繼續它嗎?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暫時略過這個訊息</label>',a="要",r="不要"):(o="Warning!",l='The modification will influence the prior settings.<br />Would you like to continue it?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>Skip this message temporarily</label>',a="Yes",r="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+l+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,dialogClass:"no-close",title:o,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:a,click:function(){$("#checkbox_skip").is(":checked")&&($e=!0),n(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:r,click:function(){$("#checkbox_skip").is(":checked")&&($e=!0),i(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})))}Ae=!1}}function St(e){var t,n=0,i="HCLK".toEquivalent().toString(),o="OSC10K_EN".toEquivalent().toString(),l="OSC22M_EN".toEquivalent().toString(),a="OSC22M2_EN".toEquivalent().toString(),r="XTL32K_EN".toEquivalent().toString(),s="XTL12M_EN".toEquivalent().toString(),C="HIRC48EN".toEquivalent().toString();for(Ae=!0,pt(),$("#tabs")[0].style.visibility="hidden",n=e+1+1;n<=4;n+=1)$("#li-"+n).remove(),$("#tab-"+n).remove();switch(me=!0,e+1){case 1:Ut(o)||Ut(l)||Ut("HIRC1EN")||Ut(a)||Ut("HIRC2EN")||Ut(C)||Ut("MIRCEN")||Ut("MIRC1P2MEN")||Ut(s)||Ut(r)||Ut("LIRC32KEN")?$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||ze():We():-1!==L.indexOf("Simplified")?bt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?bt("請至少啟用一個時脈源。"):bt("Please enable at least one clock source.");break;case 2:$("#tab-3")[0]||ze();break;case 3:$("#tab-4")[0]||(t=Tt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[g.slicePriorToX("(")],10),B>t?-1!==L.indexOf("Simplified")?bt("CPU频率上限为"+t.toHzString()+"。 "+i+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?bt("CPU頻率上限為"+t.toHzString()+"。 "+i+"頻率不應超過其限制。"):bt("The upper limit of CPU frequency is "+t.toHzString()+". The "+i+" frequency should not run beyond the limit."):Be())}Ct(),me=!1,$("#tabs").tabs({active:e}),Ae=!1,$("#tabs")[0].style.visibility="visible"}function Mt(e){var t="",n="HCLK".toEquivalent().toString(),i=!0;return!Ut("CLKSRC")&&$("#SYSTICK_span_showRealFreq").text().toFloat()>B/2&&(i=!1,t="Simplified Chinese"===L?"SysTick的时脉源频率必需小於或等於"+n+"/2。":"Traditional Chinese"===L?"SysTick的時脈源頻率必需小於或等於"+n+"/2。":"The clock source of SysTick must be less than or equal to "+n+"/2."),i||e(t),i}function Nt(e){var t,n,i;"Simplified Chinese"===L?(t="时脉设置错误",n=e,i="确定"):"Traditional Chinese"===L?(t="時脈設置錯誤",n=e,i="確定"):(t="Clock Configure Error",n=e,i="Confirm"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+n+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:i,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function xt(e){var t,n,i,o,l,a;"Simplified Chinese"===L?(i="时脉设置错误",o=e+"<br /><br />若你仍想要关掉应用程式，请按'关闭'。但所有设置将会回复到初始值。若你想要修正他们，请按'修正'。",l="关闭",a="修正"):"Traditional Chinese"===L?(i="時脈設置錯誤",o=e+"<br /><br />若你仍想要關掉應用程式，請按'關閉'。但所有設置將會回復到初始值。若你想要修正他們，請按'修正'。",l="關閉",a="修正"):(i="Clock Configure Error",o=e+"<br /><br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",l="Close",a="Fix"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:i,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:l,click:function(){for($(this).is(":visible")&&$(this).dialog("destroy"),gt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",N=_t(NUTOOL_CLOCK.g_register_map_default),h=[],t=0,n=N.length;t<n;t+=1)h[N[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[N[t]],16);Bt()}},{text:a,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function Et(e,t,n){"Simplified Chinese"===L?window.alert(e):"Traditional Chinese"===L?window.alert(t):window.alert(n)}function Pt(e){var t,n,i,o,l,a,r=!0;if("undefined"!=typeof NUTOOL_PER)e();else{for(t=0,n=N.length;t<n;t+=1)if(S[N[t]]!==h[N[t]]){r=!1;break}r?e():(-1!==L.indexOf("Simplified")?(i="警告!",o="配置档已被修改过。请问你要储存它吗?",l="要",a="不要"):-1!==L.indexOf("Traditional")?(i="警告!",o="配置檔已被修改過。請問你要儲存它嗎?",l="要",a="不要"):(i="Warning!",o="The configuration has been modified.<br />Would you like to save it?",l="Yes",a="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){qt(),e(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:a,click:function(){e(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))}}function bt(e){var t,n;$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),-1!==L.indexOf("Simplified")?(t="警告!",n="确认"):-1!==L.indexOf("Traditional")?(t="警告!",n="確認"):(t="Warning!",n="Confirm"),$('<div id="warningDialog"><p>'+e+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:n,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function Ut(e,t){var n,i,o,l,a,r,s,C="OSC10K_EN".toEquivalent().toString(),L="OSC22M_EN".toEquivalent().toString(),_="OSC22M2_EN".toEquivalent().toString(),d={},c=0,O=!1;if(d[C]=["KM1M0DF","M030G_31G","KM1M7CF"],d[L]=["KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF"],d[_]=["KM1M7CF"],d.MIRC1P2MEN=["M258"],e.includes("."))return Ut(e.split(".")[1],e.split(".")[0]);if(void 0!==d[e]&&-1!==d[e].indexOf(u))c=1;else if(t){for(o=0,l=NUTOOL_CLOCK.g_register_map[t].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[t][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(h[t]&s)>>>0;break}}else for(n=0,i=N.length;n<i;n+=1)for(a=N[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(h[a]&s)>>>0;break}return 0!==c&&(O=!0),O}function vt(e){return 0!==e.indexOf("!")?Ut(e):!Ut(e.sliceAfterX("!"))}function kt(e){var t=window.document.createEvent("Event");t.initEvent("dblclick",!0,!0),void 0!==e.id?d3.select("#"+e.id)[0][0].dispatchEvent(t):d3.select("#"+e)[0][0].dispatchEvent(t)}function It(e){var t,n,i,o,l,a,r,s,C,L=-1;for(t=0,n=N.length;t<n;t+=1)for(l=N[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1)if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){-1===a.indexOf("-")?C=1<<(r=parseInt(a.sliceAfterX(":"),10))>>>0:(r=parseInt(a.sliceAfterX("-"),10),s=parseInt(a.sliceBetweenXandX(":","-"),10)-r+1,C=Math.pow(2,s)-1<<r>>>0),L=(L=(h[l]&C)>>>0)>>>r>>>0;break}return L}function Rt(){var e,t,n,i,o,l,a=_t(NUTOOL_CLOCK.g_Module),r=[],s=0,C=!0;for(me=!0,e=0,n=a.length;e<n;e+=1){if(o=a[e],r=[],s=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))r.push(l);else{for(;-1!==l.indexOf("/")&&(r.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((s+=1)>10)););r.push(l)}for(C=!0,t=0,i=r.length;t<i;t+=1)if(!vt(r[t])){C=!1;break}C&&kt(o)}Ct(),me=!1}function At(){var e=localStorage.getItem("UIlanguage");L=void 0===e||null==e?"English":e,e=null}function yt(e){var t,n,i,o,l,a,L,d,c,O,f,T,p,K,S,M,x,E,j,te=_t(NUTOOL_CLOCK.g_Module),ne="HXT".toEquivalent().toString(),ie="LXT".toEquivalent().toString(),oe="HXTWAIT".toEquivalent().toString(),le="PLL".toEquivalent().toString(),ae="APLL".toEquivalent().toString(),re="HIRC".toEquivalent().toString(),se="HIRC2".toEquivalent().toString(),Ce="HIRC48".toEquivalent().toString(),Le="LIRC".toEquivalent().toString(),_e="HCLK".toEquivalent().toString(),de="HCLK0".toEquivalent().toString(),ce="HCLK1".toEquivalent().toString(),Oe="HCLK2".toEquivalent().toString(),fe="PCLK".toEquivalent().toString(),Te="PCLK0".toEquivalent().toString(),ue="PCLK1".toEquivalent().toString(),pe="PCLK2".toEquivalent().toString(),ge="PWRCON".toEquivalent().toString(),Ke="PLLCON".toEquivalent().toString(),he="HCLK_S".toEquivalent().toString(),Se="HCLK2_S".toEquivalent().toString(),Me="PCLK_S".toEquivalent().toString(),Ne="PCLK0SEL".toEquivalent().toString(),xe="PCLK1SEL".toEquivalent().toString(),Ee="PCLK2SEL".toEquivalent().toString(),Pe="HCLK_N".toEquivalent().toString(),be="PCLK_N".toEquivalent().toString(),Ue="OSC10K_EN".toEquivalent().toString(),ke="OSC22M_EN".toEquivalent().toString(),Ie="OSC22M2_EN".toEquivalent().toString(),Re="XTL32K_EN".toEquivalent().toString(),Ae="XTL12M_EN".toEquivalent().toString(),ye="HIRC48EN".toEquivalent().toString(),me="Enabled-Module Frequencies:\n",$e="",Fe="",Xe="",we="",De=[],qe=[],Be=[],ze=[];if(void 0===e&&(e="default"),O=function(e,t){return""===e?e=t:e+="|"+t,e},f=function(){for($e="","undefined"==typeof NUTOOL_PER&&($e+="    /* If the macros do not exist in your project, please refer to the related clk.h in Header folder of the tool package */\n"),0!==u.indexOf("M433")&&0!==u.indexOf("M480")||($e+="    /* Set XT1_OUT(PF.2) and XT1_IN(PF.3) to input mode */\n    PF->MODE &= ~(GPIO_MODE_MODE2_Msk | GPIO_MODE_MODE3_Msk);\n\n"),-1===It("HIRC1EN")&&-1===It("HIRC_FSEL")||($e+="    /* Select clock source */\n",j=!1,-1!==It("HIRC_FSEL")&&Ut(ke)&&("NANO112"===u?Ut("HIRC_FSEL")?$e+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC_FSEL_Msk;\n":$e+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC_FSEL_Msk;\n":Ut("HIRC_FSEL")?$e+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC0FSEL_Msk;\n":$e+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC0FSEL_Msk;\n",j=!0),-1!==It("HIRC1EN")&&(Ut(ke)||Ut("HIRC1EN"))&&(Ut(ke)?$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_HIRCSEL_Msk;\n":$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_HIRCSEL_Msk;\n",j=!0),j&&($e+="\n")),0===u.indexOf("KM1M0DF")&&($e+="\n    /* Clock source */\n",$e+="    /* External high-speed oscillation(HXO) */\n",It(Ae)?($e+="    SystemCoreClockUpdate();\n\n",$e+="    GPIO_SetFunctionMode(GPIO_MD2, 5U, GPIO_P25MD_OSC1);\n",$e+="    GPIO_SetFunctionMode(GPIO_MD2, 6U, GPIO_P26MD_OSC2);\n\n",$e+="    CLK_EnableHXO();\n",$e+="    CLK_SysTickDelay(HXO_WCYCLE);\n\n"):$e+="    CLK_DisableHXO();\n\n",$e+="    /* External low-speed oscillation(LXO) */\n",It(Re)?($e+="    SystemCoreClockUpdate();\n\n",g.includes("D0x")?($e+="    GPIO_SetFunctionMode(GPIO_MD9, 1U, GPIO_P91MD_XO);\n",$e+="    GPIO_SetFunctionMode(GPIO_MD9, 0U, GPIO_P90MD_XI);\n\n"):($e+="    GPIO_SetFunctionMode(GPIO_MD9, 1U, GPIO_P91MD_XI);\n",$e+="    GPIO_SetFunctionMode(GPIO_MD9, 0U, GPIO_P90MD_XO);\n\n"),$e+="    CLK_EnableLXO();\n",$e+="    CLK_SysTickDelay(LXO_WCYCLE);\n\n"):$e+="    CLK_DisableLXO();\n\n",$e+="    /* Internal high-speed oscillation(HRC) */\n",It(ke)?($e+="    if (CLK_IsHRCStability() != 1U)\n    {\n",$e+="        CLK_EnableHRC();\n",$e+="    }\n\n"):$e+="    CLK_DisableHRC();\n\n",$e+="    /* waiting for external high-speed oscillation to stabilize */\n",It(Ae)?$e+="    CLK_SysTickDelay(HXO_WCYCLE);\n\n":It(Re)&&($e+="    CLK_SysTickDelay(LXO_WCYCLE);\n\n")),t=0,i=L.length;t<i;t+=1){if(l=Ft(L[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),"RTC_LXTCTL"===L[t]&&("M2354"===u?(Ut(Re)&&($e+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),Ut("LIRC32KEN")&&($e+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n")):"M55M1"===u||"M5531"===u?(Ut(Re)&&($e+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC0_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC0_MODULE);\n\n"),Ut("LIRC32KEN")&&($e+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC0_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC0_MODULE);\n\n")):(Ut(Re)&&($e+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),Ut("LIRC32KEN")&&($e+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"))),"RTC_CLKSRC"===L[t]&&(Ut("RTCSEL")?$e+="    /* RTC32k source from internal */\n    RTC_SetClockSource(RTC_CLKSRC_INTERNAL);\n\n":$e+="    /* RTC32k source from external */\n    RTC_SetClockSource(RTC_CLKSRC_EXTERNAL);\n\n"),L[t]===ge&&(Fe="",Xe="",Ut(Ue)&&(void 0!==Be[0]&&"none"!==Be[0]&&(Fe=O(Fe,Be[0])),void 0!==ze[0]&&"none"!==ze[0]&&(Xe=O(Xe,ze[0]))),Ut(ke)&&(void 0!==Be[1]&&"none"!==Be[1]&&(Fe=O(Fe,Be[1])),void 0!==ze[1]&&"none"!==ze[1]&&(Xe=O(Xe,ze[1]))),Ut(Re)&&(void 0!==Be[2]&&"none"!==Be[2]&&(Fe=O(Fe,Be[2])),void 0!==ze[2]&&"none"!==ze[2]&&(Xe=O(Xe,ze[2].slicePriorToLastX("/")))),!Ut("LIRC32KEN")||"M55M1"===u&&"M5531"===u||void 0!==ze[2]&&"none"!==ze[2]&&(Xe=O(Xe,ze[2].sliceAfterX("/"))),Ut(Ae)?(void 0!==Be[3]&&"none"!==Be[3]&&(Fe=O(Fe,Be[3])),void 0!==ze[3]&&"none"!==ze[3]&&(Xe=O(Xe,ze[3]))):0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")||(Fe=""),Ut("HIRC1EN")&&(void 0!==Be[4]&&"none"!==Be[4]&&(Fe=O(Fe,Be[4])),void 0!==ze[5]&&"none"!==ze[5]&&(Xe=O(Xe,ze[5]))),Ut(ye)&&(void 0!==Be[4]&&"none"!==Be[4]&&(Fe=O(Fe,Be[4])),void 0!==ze[5]&&"none"!==ze[5]&&(Xe=O(Xe,ze[5]))),Ut("MIRCEN")&&(void 0!==Be[5]&&"none"!==Be[5]&&(Fe=O(Fe,Be[5])),void 0!==ze[6]&&"none"!==ze[6]&&(Xe=O(Xe,ze[6]))),Ut("MIRC1P2MEN")&&(void 0!==Be[6]&&"none"!==Be[6]&&(Fe=O(Fe,Be[6])),void 0!==ze[7]&&"none"!==ze[7]&&(Xe=O(Xe,ze[7]))),""!==Fe&&("NUC505"===u?$e+="    /* Enable clock source */\n    CLK->PWRCTL |= "+Fe+";\n\n":-1!==Fe.indexOf("(")&&-1!==Fe.indexOf(");")?-1!==Fe.indexOf("Disable")?$e+="    /* Disable clock source */\n    "+Fe+"\n\n":$e+="    /* Enable clock source */\n    "+Fe+"\n\n":$e+="    /* Enable clock source */\n    CLK_EnableXtalRC("+Fe+");\n\n"),""!==Xe&&(-1!==Xe.indexOf("(")&&-1!==Xe.indexOf(");")?$e+="    /* Waiting for clock source ready */\n    "+Xe+"\n\n":$e+="    /* Waiting for clock source ready */\n    CLK_WaitClockReady("+Xe+");\n\n"),Ut("MIRCEN")&&-1!==It("MIRCFSEL")&&($e+="    /* Set MIRC frequency */\n",$e+="    CLK_EnableMIRC(CLK_PWRCTL_MIRCFSEL_"+k/1e6+"M);\n\n")),L[t]===Ke&&void 0!==NUTOOL_CLOCK.g_register_map[Ke]){var e=0===u.indexOf("M2L31")?"PLLCTL":Ke;Ut("PD")||0===_.filter(NUTOOL_CLOCK.g_register_map[e],function(e){return-1!==e.indexOf("PD:")}).length||($e+="    /* Disable "+le+" first to avoid unstable when setting "+le+" */\n",$e+="    CLK_DisablePLL();\n\n",$e+="    /* Set "+le+" frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n","none"!==ze[4]&&($e+="    /* Waiting for "+le+" ready */\n    CLK_WaitClockReady("+ze[4]+");\n\n")),Ut("APLL0EN")&&void 0!==NUTOOL_CLOCK.g_register_map.APLL0CTL&&($e+="    /* Disable APLL0 circuit */\n    CLK_DisableAPLL(CLK_APLL0_SELECT);\n\n",$e+="    /* Set APLL0 frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n",$e+="    /* Waiting for APLL0 ready */\n    CLK_WaitClockReady(CLK_STATUS_APLL0STB_Msk);\n\n"),Ut("PLLEN")&&0!==_.filter(NUTOOL_CLOCK.g_register_map.CHIPPLLCTR1,function(e){return-1!==e.indexOf("PLLEN:")}).length&&(0===u.indexOf("KM1M7C")?($e+="    /* Disable "+le+" circuit */\n    CLK_DisablePLL();\n\n",$e+="    CLK->CHIPPLLCTR1 = 0xA53C0002U;\n",$e+="    "+l+" = 0x"+ft(h[L[t]]).toUpperCase()+"U;\n",$e+="    CLK->CHIPPLLCTR1 = 0xA53C000"+(h.CHIPPLLCTR1<<29>>>31)*Math.pow(2,2)+"U | CLK->CHIPPLLCTR1 | (1U << CLK_CHIPPLLCTR1_PLLEN_Pos);\n\n"):0===u.indexOf("KM1M4B")?($e+="    /* Disable "+le+" circuit */\n    CLK_DisablePLL();\n\n",$e+="    /* Set "+le+" frequency */\n",$e+="    "+l+" = 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n",$e+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n"):($e+="    /* Set "+le+" frequency */\n",$e+="    "+l+" = 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n",0===u.indexOf("KM1M7A")?$e+="    CLK->CHIPPLLCTR1 = 0xA53C0003UL;\n\n":(u.indexOf("KM1M7B"),$e+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n")),0===u.indexOf("KM1M7")?$e+="    /* Waiting for "+le+" operating ready */\n    CLK_WaitClockReady(CLK_CHIPCKSTAT_PLLOK_Msk);\n\n":0===u.indexOf("KM1M4")?$e+="    /* Waiting for "+le+" operating ready */\n    CLK_WaitClockReady(CLK_STABLE_PLLCLK);\n\n":$e+="    /* Waiting for "+le+" ready */\n    CLK_WaitPLLReady();\n\n"),0!==_.filter(NUTOOL_CLOCK.g_register_map.PLLCTR1,function(e){return-1!==e.indexOf("NPLLEN:")}).length&&0===u.indexOf("KM1M0DF")&&($e+="    /* Disable PLL first to avoid unstabilization when setting PLL */\n",$e+="    CLK_DisablePLL();\n\n",Ut("NPLLEN")||($e+="    /* PLLCLK clock configuration */\n",$e+="    "+l+" = 0x"+ft(h[L[t]]).toUpperCase()+"U;\n",$e+="    CLK->PLLCTR1 = 0x"+ft(h.PLLCTR1).toUpperCase()+"U;\n\n",$e+="    /* Wait for PLL setting stabilization  */\n    CLK_SysTickDelay(1U);\n\n",$e+="    /* Setting for PLL reset release  */\n    "+l+" |= (0xA53C0000U | CLK_PLLCTR2_NRSET_PLL_Msk);\n\n",$e+="    /* Wait for PLL stabilization  */\n    CLK_SysTickDelay(100U);\n\n"))}"APLLCTL"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.APLLCTL||Ut("APD")||($e+="    /* Disable APLL first to avoid unstable when setting APLL */\n",$e+="    CLK->PLLCTL |= CLK_APLLCTL_PD_Msk;\n\n",$e+="    /* Set APLL frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n"),"APLL1CTL"===L[t]&&void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&Ut("APLL1EN")&&($e+="    /* Disable APLL1 circuit */\n    CLK_DisableAPLL(CLK_APLL1_SELECT);\n\n",$e+="    /* Set APLL1 frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n",$e+="    /* Waiting for APLL1 ready */\n    CLK_WaitClockReady(CLK_STATUS_APLL1STB_Msk);\n\n"),"PLLFNCTL0"!==L[t]&&"PLLFNCTL1"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.PLLFNCTL0||Ut("PDFN")||($e+="    /* Disable PLLFN first to avoid unstable when setting PLLFN */\n",$e+="    CLK->PLLCTL |= CLK_PLLFNCTL1_PD_Msk;\n\n",$e+="    /* Set PLLFN frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n"),"PLL2CTL"===L[t]&&void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&Ut("PLL2CKEN")&&($e+="    /* Set PLL2 frequency */\n",$e+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n\n",$e+="    /* Waiting for PLL2 ready */\n    CLK_WaitClockReady(CLK_STATUS_PLL2STB_Msk);\n\n")}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(-1!==(K=It(T="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===K){p=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}if(0===u.indexOf("KM1M7CF")?-1!==p.indexOf("HRCCLK1")?$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC1, CLK_CPUCKDIV_":-1!==p.indexOf("HRCCLK2")?$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC2, CLK_CPUCKDIV_":-1!==p.indexOf("HXOCLK")?$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HXO, CLK_CPUCKDIV_":-1!==p.indexOf("PLLCLK")&&($e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_PLL, CLK_CPUCKDIV_"):0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_"+p.slicePriorToX("CLK")+", CLK_CPUCKDIV_":($e+="    /* Set BASECLK clock */\n    CLK_SelectBASECLK(SELECT_"+p+");\n\n",$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CPUCLK_DIV_"),-1!==(K=It(T="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===K){p=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}$e+=p.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")){let e="",t="",n="";switch(It(he)){case 1:e="CLK_SYSCLKSEL_HXOCLK";break;case 2:e="CLK_SYSCLKSEL_KRCCLK";break;case 3:e="CLK_SYSCLKSEL_LXOCLK";break;case 4:e="CLK_SYSCLKSEL_PLLCLK";break;default:e="CLK_SYSCLKSEL_HRCCLK"}t="CLK_SYSDIV_"+Math.pow(2,It(Pe)),n="CLK_CPUCKDIV_"+Math.pow(2,It(Me)),$e+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK("+e+", "+t+", "+n+");\n\n"}else if(0===u.indexOf("M55M1")||0===u.indexOf("M5531")){$e+="    /* Set SCLK clock */\n    CLK_SetSCLK("+Ht(_e,he,"").slicePriorToX(",")+");\n\n",(n=It("SCLKDIV"))>0&&($e+="    /* Set SCLK Divider */\n    CLK_SET_SCLKDIV("+(n+1)+");\n\n"),(n=It("HCLK2DIV"))>0&&($e+="    /* Set HCLK2 Divider */\n    CLK_SET_HCLK2DIV("+(n+1)+");\n\n")}else 0===u.indexOf("M2L31")?($e+="    /* Set HCLK0 clock */\n    CLK_SetHCLK("+Ht(_e,he,"HCLK0DIV")+");\n\n",Ut("HCLK1EN")&&($e+="    /* Set HCLK1 clock */\n    CLK_SetModuleClock(HCLK1_MODULE, "+Ht(Oe,Se,"HCLK1DIV")+");\n\n",$e+="    /* Enable HCLK1 clock */\n    CLK_EnableModuleClock(HCLK1_MODULE);\n\n")):$e+="    /* Set HCLK clock */\n    CLK_SetHCLK("+Ht(_e,he,Pe)+");\n\n";if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ne))if("M2354"!==u&&($e+="    /* Set PCLK-related clock */\n"),0===u.indexOf("M433")||0===u.indexOf("M480")||0===u.indexOf("M46"))M=It(Ne),$e+="    CLK->PCLKDIV = (CLK_PCLKDIV_PCLK0DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+="CLK_PCLKDIV_PCLK1DIV"+Math.pow(2,M)+");\n\n";else if(0===u.indexOf("M0A21")||0===u.indexOf("M0A23"))M=It(Ne),$e+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,M)+");\n\n";else if("CM2052"===u||"CM2053"===u||0===u.indexOf("M25")||"CM2U51"===u||"M2U51"===u||0===u.indexOf("M030")||0===u.indexOf("M031")||u.indexOf("M3331")||u.indexOf("CM3031"))M=It(Ne),$e+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,M)+");\n\n";else if("M2351"===u||"M261"===u)M=It(Ne),$e+=0===M?"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK | ":"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK_DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+=0===M?"CLK_PCLKDIV_APB1DIV_HCLK);\n\n":"CLK_PCLKDIV_APB1DIV_HCLK_DIV"+Math.pow(2,M)+");\n\n";else if("M2354"===u);else if("CM2003"===u||"M2003"===u)M=It(Ne),$e+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,M)+" | ",M=It(Ee),$e+="CLK_PCLKDIV_APB2DIV_DIV"+Math.pow(2,M)+");\n\n";else if("M2L31"===u)M=It(Ne),$e+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,M)+" | ",M=It(xe),$e+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,M)+");\n\n",Ut("HCLK1EN")&&(M=It(Ee),$e+="    LPSCC->CLKDIV0 = (LPSCC->CLKDIV0 & ~(LPSCC_CLKDIV0_APB2DIV_Msk)) | (LPSCC_CLKDIV0_APB2DIV_DIV"+Math.pow(2,M)+");\n\n");else if("KM1M0DF"===u){let e="",t="";switch(It(Ne)){case 1:e="CLK_HPCLKSEL_HXOCLK";break;case 2:e="CLK_HPCLKSEL_PLLCLK";break;default:e="CLK_HPCLKSEL_HRCCLK"}if(1===It(Ee))t="CLK_LPCLKSEL_LXOCLK";else t="CLK_LPCLKSEL_LRCCLK";$e+="    /* HPCLK clock configuration  */\n",$e+="    CLK_SetHPCLK("+e+");\n\n",$e+="    /* LPCLK clock configuration  */\n",$e+="    CLK_SetLPCLK("+t+");\n\n"}else NUTOOL_CLOCK.g_CLKSEL[Ne].length<=2?Ut(Ne)?$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK0SEL_Msk;\n":$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK0SEL_Msk;\n":(M=It(Ne),$e+=0===M?"    CLK_SetPCLK0(CLK_APB0DIV_HCLK);\n":"    CLK_SetPCLK0(CLK_APB0DIV_1_"+Math.pow(2,M)+"HCLK);\n"),NUTOOL_CLOCK.g_CLKSEL[xe].length<=2?Ut(xe)?$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":(M=It(xe),$e+=0===M?"    CLK_SetPCLK1(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK1(CLK_APB1DIV_1_"+Math.pow(2,M)+"HCLK);\n\n"),NUTOOL_CLOCK.g_CLKSEL[Ee].length<=2?Ut(Ee)?$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":(M=It(Ee),$e+=0===M?"    CLK_SetPCLK2(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK2(CLK_APB1DIV_1_"+Math.pow(2,M)+"HCLK);\n\n");else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Me))if(0===Me.indexOf("IOCKDIV")){if($e+="    /* Set IOCLK clock */\n",0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?$e+="    CLK_SetIOCLK(CLK_IOCKDIV_":$e+="    CLK_SetIOCLK(IOCLK_DIV_",-1!==(K=It(T=Me).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===K){p=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}$e+=p.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else $e+="    /* Set PCLK-related clock */\n","NUC123AN_AE"===u?Ut(Me)?$e+="    CLK->APBDIV = CLK->APBDIV | CLK_APBDIV_APBDIV_Msk;\n\n":$e+="    CLK->APBDIV = CLK->APBDIV & ~CLK_APBDIV_APBDIV_Msk;\n\n":"NANO112"===u?$e+="    CLK->APB_DIV = 0x"+ft(It(Me)).toUpperCase()+"UL;\n\n":Ut(Me)?$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLKSEL_Msk;\n\n":$e+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLKSEL_Msk;\n\n";else if(-1!==It(be))$e+="    /* Set PCLK divider */\n",$e+="    CLK_SetModuleClock(PCLK_MODULE, CLK_CLKDIV0_PCLK("+(It(be)+1)+"), 1);\n\n";else if(NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV"))for(t=NUTOOL_CLOCK.g_register_map.PCLKDIV.length-1;t>=0;t--){var n,o=NUTOOL_CLOCK.g_register_map.PCLKDIV[t].slicePriorToX(":");(n=It(o))>0&&($e+="    /* Set "+o+" Divider */\n    CLK_SET_"+o+"("+(n+1)+");\n\n")}return $e},He=!0,"M451"===u?(L=[ge,Ke],c='#include "M451Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):0===u.indexOf("M460")?(L=[ge,Ke,"PLLFNCTL0","PLLFNCTL1"],c='#include "M460.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):"M480MD"===u?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M433"===u||"M480LD"===u?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):"M55M1"===u||"M5531"===u?(L=["RTC_LXTCTL",ge,Ke,"APLL1CTL"],c='#include "NuMicro.h"',Be=["CLK_SRCCTL_LIRCEN_Msk","CLK_SRCCTL_HIRCEN_Msk","CLK_SRCCTL_LXTEN_Msk","CLK_SRCCTL_HXTEN_Msk","CLK_SRCCTL_HIRC48MEN_Msk","CLK_SRCCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","none","CLK_STATUS_HIRC48MSTB_Msk","CLK_STATUS_MIRCSTB_Msk"]):0===u.indexOf("KM1M0DF")?(L=[ge,Ke],c='#include "NuMicro.h"',c+="\n\n#define HXO_WCYCLE          (200)",c+="\n#define LXO_WCYCLE          (500)",Be=[],ze=[]):0===u.indexOf("KM1M4BF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],function(e){return-1!==e.indexOf(":"+It(oe).toString())})[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_STABLE_HXOCLK);","none","none","none"]):0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_CHIPCKCTR_HXOEN_Msk, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],function(e){return-1!==e.indexOf(":"+It(oe).toString())})[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);\n\n    /* Disable "+le+" circuit */\n    CLK_DisablePLL();","none","none","none"]):0===u.indexOf("KM1M7CF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],function(e){return-1!==e.indexOf(":"+It(oe).toString())})[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);","none","none","none","none"]):"M2351"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M2351.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M2354"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M2354.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","CLK_PWRCTL_MIRCEN_Msk","CLK_PWRCTL_MIRC1P2MEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","CLK_STATUS_MIRCSTB_Msk","none"]):"CM2053"===u||"M253"===u?(L=[ge],c=`#include "${u}.h"`,Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","","none","CLK_STATUS_MIRCSTB_Msk"]):"CM2052"===u||0===u.indexOf("M25")?(L=[ge,Ke],c="CM2052"===u?'#include "CM2052.h"':'#include "M251.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","CLK_STATUS_MIRCSTB_Msk"]):"M261"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M261.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):0===u.indexOf("M2L31")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","CLK_STATUS_MIRCSTB_Msk"]):"CM2U51"===u||"M2U51"===u?(L=[ge],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","none","none","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","none","none","none","CLK_STATUS_MIRCSTB_Msk"]):0===u.indexOf("M0A21")||0===u.indexOf("M0A23")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],ze=["none","CLK_STATUS_HIRCSTB_Msk","none","none","none","none","none"]):0===u.indexOf("M030G")?(L=[ge,Ke],c='#include "M030G.h"',Be=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],ze=["none","CLK_STATUS_HIRCSTB_Msk","none","none","CLK_STATUS_PLLSTB_Msk","none","none"]):0===u.indexOf("M031")?(L=[ge,Ke],c='#include "M031Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M051AN"===u||"M051BN"===u||"M051DN"===u||"M051DE"===u?(L=[ge,Ke],c='#include "M051Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M058S"===u?(L=[ge,Ke],c='#include "M058S.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0518"===u?(L=[ge,Ke],c='#include "M0518.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0519"===u?(L=[ge,Ke],c='#include "M0519.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC100AN"===u||"NUC100BN"===u||"NUC100DN"===u?(L=[ge,Ke],c='#include "NUC100Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC131"===u?(L=[ge,Ke],c='#include "NUC131.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC1311"===u?(L=[ge,Ke],c='#include "NUC1311.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC121AE"===u?(L=[ge,Ke],c='#include "NUC121.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN","CLK_PWRCTL_HXTEN","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NUC122AN"===u?(L=[ge,Ke],c='#include "NUC122.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC123AN_AE"===u?(L=[ge,Ke],c='#include "NUC123.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):0===u.indexOf("NUC126")?(L=[ge,Ke],c='#include "'+u+'.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M0564"===u?(L=[ge,Ke],c='#include "M0564.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC2201"===u?(L=[ge,Ke],c='#include "NUC2201.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029AN"===u||"NUC029TAE"===u||"NUC029ZAN"===u?(L=[ge,Ke],c='#include "NUC029xAN.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xDE"===u?(L=[ge,Ke],c='#include "NUC029xDE.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xEE"===u?(L=[ge,Ke],c='#include "NUC029xEE.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029xGE"===u?(L=[ge,Ke],c='#include "NUC029xGE.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC200AN"===u?(L=[ge,Ke],c='#include "NUC200Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC200AE"===u?(L=[ge,Ke],c='#include "NUC230_240.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"MINI57"===u?(L=[ge],c='#include "Mini57Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXT_EN","CLK_PWRCTL_HXT_EN","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","none","none","none"]):"MINI58"===u?(L=[ge,Ke],c='#include "Mini58Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_XTLEN_LXT","CLK_PWRCTL_XTLEN_HXT","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NANO100AN"===u||"NANO100BN"===u?(L=[ge,Ke],c='#include "Nano100Series.h"',Be=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO112"===u?(L=[ge,Ke],c='#include "Nano1X2Series.h"',Be=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO103"===u?(L=[ge,Ke],c='#include "Nano103.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRC0EN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC1EN_Msk","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRC0STB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC1STB_Msk","CLK_STATUS_MIRCSTB_Msk"]):"NUC505"===u?(L=["RTC_CLKSRC",ge,Ke,"APLLCTL"],c='#include "NUC505Series.h"',Be=["none","none","none","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["none","none","none","none","none","none"]):"MINI51AN"===u?(L=[ge],c='#include "Mini51.h"',He=!1):"MINI51DE"===u?(L=[ge],c='#include "Mini51Series.h"',He=!1):"MINI55"===u?(L=[ge],c='#include "Mini55Series.h"',He=!1):"NUC029AE"===u?(L=[ge],c='#include "NUC029FAE.h"',Be=[],ze=[],He=!1):"NUC100CN"===u?(L=[ge,Ke],c='#include "NUC100Series.h"',Be=[],ze=[],He=!1):"NM1200"===u?(L=[ge],c='#include "Mini51.h"',Be=[],ze=[],He=!1):"NM1500"===u?(L=[ge,Ke],c='#include "MT500Series.h"',Be=[],ze=[],He=!1):"CM2003"===u||"M2003"===u?(L=[ge],c=`#include "${u}.h"`,Be=[],ze=[],He=!1):0===u.indexOf("M3331")||"CM3031"===u?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):(L=[ge,Ke,"PLL2CTL"],c='#include "NUC472_442.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]),"undefined"!=typeof NUTOOL_PER&&(c='#include "NuCodeGenProj.h"',"modularizeCode"===e&&(c+='\n#include "clk_conf.h"')),r="",null!==ve){r="Base Clocks:\n",Ut(Ue)&&P>0&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?((S={}).module=Le,S.busClock=P.toHzString(),S.engineClock="",De.push(S),r+=Le+":"+P.toHzString()+"\n"):((S={}).module="LIRC",S.busClock=P.toHzString(),S.engineClock="",De.push(S),r+="LIRC:"+P.toHzString()+"\n")),(Ut(ke)||Ut("HIRC1EN"))&&b>0&&((S={}).module=re,S.busClock=b.toHzString(),S.engineClock="",De.push(S),r+=re+":"+b.toHzString()+"\n"),(Ut(Ie)||Ut("HIRC2EN"))&&U>0&&((S={}).module=se,S.busClock=U.toHzString(),S.engineClock="",De.push(S),r+=se+":"+U.toHzString()+"\n"),Ut(ye)&&v>0&&((S={}).module=Ce,S.busClock=v.toHzString(),S.engineClock="",De.push(S),r+=Ce+":"+v.toHzString()+"\n"),Ut("MIRCEN")&&k>0&&((S={}).module="MIRC",S.busClock=k.toHzString(),S.engineClock="",De.push(S),r+="MIRC:"+k.toHzString()+"\n"),Ut("MIRC1P2MEN")&&I>0&&((S={}).module="MIRC1P2M",S.busClock=I.toHzString(),S.engineClock="",De.push(S),r+="MIRC1P2M:"+I.toHzString()+"\n"),(Ut(Re)||Ut("LIRC32KEN"))&&A>0&&((S={}).module=ie,S.busClock=A.toHzString(),S.engineClock="",De.push(S),r+=ie+":"+A.toHzString()+"\n"),Ut(Ae)&&y>0&&((S={}).module=ne,S.busClock=y.toHzString(),S.engineClock="",De.push(S),r+=ne+":"+y.toHzString()+"\n"),Ut(Ae)&&R>0&&((S={}).module="RTC32k",S.busClock=R.toHzString(),S.engineClock="",De.push(S),r+="RTC32k:"+R.toHzString()+"\n"),(!Ut("PD")||Ut("PLLEN")||!Ut("NPLLEN")||Ut("APLL0EN"))&&m>0&&((S={}).module=le,S.busClock=m.toHzString(),S.engineClock="",De.push(S),r+=le+":"+m.toHzString()+"\n"),Ut("PLL2CKEN")&&F>0&&((S={}).module="PLL2",S.busClock=F.toHzString(),S.engineClock="",De.push(S),r+="PLL2:"+F.toHzString()+"\n"),Ut("PLL2CKEN")&&H>0&&((S={}).module="PLL480M",S.busClock=H.toHzString(),S.engineClock="",De.push(S),r+="PLL480M:"+H.toHzString()+"\n"),(!Ut("APD")||Ut("APLL1EN"))&&X>0&&((S={}).module=ae,S.busClock=X.toHzString(),S.engineClock="",De.push(S),r+=ae+":"+X.toHzString()+"\n"),!Ut("PDFN")&&w>0&&((S={}).module="PLLFN",S.busClock=w.toHzString(),S.engineClock="",De.push(S),r+="PLLFN:"+w.toHzString()+"\n"),Ut(Ae)&&D>0&&un(te)&&((S={}).module="HSUSB_OTG_PHY",S.busClock=D.toHzString(),S.engineClock="",De.push(S),r+="HSUSB_OTG_PHY:"+D.toHzString()+"\n"),B>0&&((S={}).module=_e,S.busClock=B.toHzString(),S.engineClock="",De.push(S),r+=_e+":"+B.toHzString()+"\n"),z>0&&((S={}).module=de,S.busClock=z.toHzString(),S.engineClock="",De.push(S),r+=de+":"+z.toHzString()+"\n"),W>0&&((S={}).module=ce,S.busClock=W.toHzString(),S.engineClock="",De.push(S),r+=ce+":"+W.toHzString()+"\n"),V>0&&((S={}).module=Oe,S.busClock=V.toHzString(),S.engineClock="",De.push(S),r+=Oe+":"+V.toHzString()+"\n"),q>0&&((S={}).module="ACLK",S.busClock=q.toHzString(),S.engineClock="",De.push(S),r+="ACLK:"+q.toHzString()+"\n"),G>0&&((S={}).module=fe,S.busClock=G.toHzString(),S.engineClock="",De.push(S),r+=fe+":"+G.toHzString()+"\n");var We=NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV");for(Y>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ne)||We&&-1!==It("PCLK0DIV"))&&((S={}).module=Te,S.busClock=Y.toHzString(),S.engineClock="",De.push(S),r+=Te+":"+Y.toHzString()+"\n"),Z>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(xe)||We&&-1!==It("PCLK1DIV"))&&((S={}).module=ue,S.busClock=Z.toHzString(),S.engineClock="",De.push(S),r+=ue+":"+Z.toHzString()+"\n"),J>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ee)||We&&-1!==It("PCLK2DIV"))&&((S={}).module=pe,S.busClock=J.toHzString(),S.engineClock="",De.push(S),r+=pe+":"+J.toHzString()+"\n"),Q>0&&We&&-1!==It("PCLK3DIV")&&((S={}).module="PCLK3",S.busClock=Q.toHzString(),S.engineClock="",De.push(S),r+="PCLK3:"+Q.toHzString()+"\n"),ee>0&&We&&-1!==It("PCLK4DIV")&&((S={}).module="PCLK4",S.busClock=ee.toHzString(),S.engineClock="",De.push(S),r+="PCLK4:"+ee.toHzString()+"\n"),r+=me,te.sort(),t=0,i=te.length;t<i;t+=1){if(l=te[t],qe=[],E=0,-1===(x=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))qe.push(x);else{for(;-1!==x.indexOf("/")&&(qe.push(x.slicePriorToX("/")),x=x.sliceAfterX("/"),!((E+=1)>10)););qe.push(x)}for(j=!0,n=0,o=qe.length;n<o;n+=1)if(!vt(qe[n])){j=!1;break}j&&rt(l)&&((S={}).module=l,M=at(l),S.busClock=M.sliceAfterX(":")+" "+M.slicePriorToX(":"),r+=l+"=Bus Clock"+M,st(l)?(S.engineClock=$("#"+l+"_span_showRealFreq").text().trim(),r=r+"/Engine Clock:"+$("#"+l+"_span_showRealFreq").text().trim()):S.engineClock="",De.push(S),r+="\n")}r.lastIndexOf(me)+28===r.length&&(r=r.slicePriorToX(me))}if(r+="********************/\n\n",r+=c,r+="\n\n",He){for(0!==y?"undefined"==typeof NUTOOL_PER?"modularizeCode"===e?(s="#undef  __"+ne+"\n",s+="#define __"+ne+"         ("+y+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):(r+="/*----------------------------------------------------------------------------\n",r+="  Define "+ne+" clock.\n",r+="  Please locate and modify the real one in your project.\n",r+="  Otherwise, the project may fail to build.\n",r+=" *----------------------------------------------------------------------------*/\n",r+="#define __"+ne+"         ("+y+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):s="__"+ne+"="+y+"ul;__LXT="+A+"ul":s="","default"===e?(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n"):"modularizeCode"===e&&(we=mt("modularizeCode"),r+="void NuCodeGenProj_init_base(void)\n{\n",C+="void NuCodeGenProj_init_base(void);\n",r+=f(),r+="    return;\n}\n\n","undefined"==typeof NUTOOL_PER?(r+="void NuCodeGenProj_init(void)\n{\n",C+="void NuCodeGenProj_init(void);\n"):(r+="void Clock_Init(void)\n{\n",C+="void Clock_Init(void);\n")),r+="    /*---------------------------------------------------------------------------------------------------------*/\n",r+="    /* Init System Clock                                                                                       */\n",r+="    /*---------------------------------------------------------------------------------------------------------*/\n",d=0,t=0,i=N.length;t<i;t+=1)(l=Ft(N[t]).slicePriorToX("/")).length>d&&(d=l.length);for(t=0,i=L.length;t<i;t+=1)if(void 0!==NUTOOL_CLOCK.g_register_map[L[t]]){if(l=Ft(L[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[L[t]]).toUpperCase()+"UL;\n"}for(t=0,i=N.length;t<i;t+=1)if(-1===$.inArray(N[t],L)&&-1===NUTOOL_CLOCK.g_register_map_description[N[t]].indexOf("Read Only")){if(l=Ft(N[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[N[t]]).toUpperCase()+"UL;\n"}r+="\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==u&&0!==u.indexOf("KM1M0DF")&&0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")&&(r+="    /* Unlock protected registers */\n    SYS_UnlockReg();\n\n"),"default"===e?r+=f():"modularizeCode"===e&&(r+="    /* Enable base clock */\n",r+="    NuCodeGenProj_init_base();\n\n",r+=we)}else{for(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n",l=Ft(ge),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[ge]).toUpperCase()+"UL;\n",void 0!==NUTOOL_CLOCK.g_register_map[Ke]&&(l=Ft(Ke),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[Ke]).toUpperCase()+"UL;\n"),t=0,i=N.length;t<i;t+=1)-1===$.inArray(N[t],L)&&(l=Ft(N[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+ft(h[N[t]]).toUpperCase()+"UL;\n");r+="\n    return;\n}\n"}return De}function mt(e){var t,n,i,o,l,a,s,L,_,d,c,O=_t(NUTOOL_CLOCK.g_Module),f="CLKO".toEquivalent().toString(),T="CLKO_Divider".toEquivalent().toString(),p="CLKO1".toEquivalent().toString(),g="CLKO1_Divider".toEquivalent().toString(),K="STCLK_S".toEquivalent().toString(),h="_S".toEquivalent().toString(),S="    /* Enable module clock and set clock source */\n",M="",N=[];if(He){for(void 0===e&&(e="default"),"default"===e?r+="    /* Enable IP clock */\n":"modularizeCode"===e&&(C="",O=O.sort(Ot)),M="",t=0,i=O.length;t<i;t+=1){if(l=O[t],N=[],d=0,-1===(_=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))N.push(_);else{for(;-1!==_.indexOf("/")&&(N.push(_.slicePriorToX("/")),_=_.sliceAfterX("/"),!((d+=1)>10)););N.push(_)}for(c=!0,n=0,o=N.length;n<o;n+=1)if(!vt(N[n])){c=!1;break}c&&(a="",s="",L="",l===f?(s=Ht(l),"NANO100AN"===u||"NANO100BN"===u?(a="    CLK_EnableCKO("+s+");\n",L="    CLK_DisableCKO();\n"):"NANO112"===u?(a="    CLK_EnableCKO0("+s+", 1);\n",L="    CLK_DisableCKO0();\n"):0===u.indexOf("KM1M7CF")?(a="    CLK_EnableCKO("+s.slicePriorToX(",")+");\n",L="    CLK_DisableCKO();\n"):(a="    CLK_EnableCKO("+s+", 1);\n",L="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=Xt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===T?(s=Ht(l),"NANO100AN"===u||"NANO100BN"===u?(a="    CLK_EnableCKO("+s+");\n",L="    CLK_DisableCKO();\n"):"NANO112"===u?(a="    CLK_EnableCKO0("+s+", 0);\n",L="    CLK_DisableCKO0();\n"):(a="    CLK_EnableCKO("+s+", 0);\n",L="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=Xt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===p?(a="    CLK_EnableCKO1("+(s=Ht(l))+", 1);\n",L="    CLK_DisableCKO1();\n"):l===g?(a="    CLK_EnableCKO1("+(s=Ht(l))+", 0);\n",L="    CLK_DisableCKO1();\n"):"CLKO_1Hz"===l?(a=Xt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!0),L=Xt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1)):"SYSTICK"===l&&(a="",Ut("CLKSRC")||(-1!==It("STICKDIV")?(a="    CLK->CLKDIV1 = CLK->CLKDIV1 & ~CLK_CLKDIV1_STICKDIV_Msk;\n",a+="    CLK->CLKDIV1 = CLK->CLKDIV1 + CLK_CLKDIV1_STICK("+(It("STICKDIV")+1)+");\n"):-1!==It("ST0DIV")&&(a="    CLK_SET_STDIV("+(It("ST0DIV")+1)+");\n")),a+="    CLK_EnableSysTick("+(s=Ht("SYSTICK",K,""))+", 0);\n",L="    CLK_DisableSysTick();\n"),""!==a?("modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,be+=a):("partial"!==e&&"HSUSBH"!==l&&("WWDT"!==l||"WWDT"===l&&-1!==NUTOOL_CLOCK.g_Module.WWDT[0].indexOf(h))&&(void 0!==NUTOOL_CLOCK.g_Module[l][3]?(a="    CLK_EnableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n",L="    CLK_DisableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n"):(a="    CLK_EnableModuleClock("+l+"_MODULE);\n",L="    CLK_DisableModuleClock("+l+"_MODULE);\n"),"modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,be+=a),-1!==(s=Ht(l)).indexOf("RTC->LXTCTL")?("modularizeCode"===e?r+=s:M+=s,be+=s):"None"!==s&&"MODULE_NoMsk, MODULE_NoMsk"!==s&&("CCAP0"!==l||0!==u.indexOf("M55M1")&&0!==u.indexOf("M5531")?0===u.indexOf("M460")&&0===l.indexOf("SPI")?(a="    CLK_SetModuleClock("+l+"_MODULE, "+s.slicePriorToX(",")+", MODULE_NoMsk);\n",It(l+"DIV")>0&&(a+="    "+l+"->CLKDIV = ("+l+"->CLKDIV & ~SPI_CLKDIV_DIVIDER_Msk) | ("+It(l+"DIV")+" << SPI_CLKDIV_DIVIDER_Pos);\n")):a=0===l.indexOf("RTC")&&("CM2U51"===u||0===u.indexOf("M2L31")||0===u.indexOf("M55M1")||0===u.indexOf("M5531")||"M2U51"===u||u.startsWith("M3331")||u.startsWith("CM3031"))?"    RTC_SetClockSource("+s.slicePriorToX(",")+");\n":"    CLK_SetModuleClock("+l+"_MODULE, "+s+");\n":(a="    CLK_SetModuleClock("+l+"_MODULE, "+s.slicePriorToX(",")+", MODULE_NoMsk);\n",It("VSENSEDIV")>0&&(a+="    CLK->VSENSEDIV = (CLK->VSENSEDIV & ~CLK_VSENSEDIV_VSENSEDIV_Msk) | CLK_VSENSEDIV_VSENSEDIV("+(It("VSENSEDIV")+1)+");\n")),"modularizeCode"===e?r+=a:M+=a,be+=a)),"modularizeCode"===e&&(""!==a&&(r+="\n    return;\n}\n\n"),""!==L&&(r+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",r+=L,r+="\n    return;\n}\n\n")),"functionalTest"===e&&(r+=L))}return""!==M&&("default"===e&&(r+="\n    /* Set IP clock */\n"),r+=M),S}}function $t(){var e="    /* Enable IP clock */\n",t="    /* Enable module clock and set clock source */\n";He&&(r.lastIndexOf(e)+26===r.length?r=r.slicePriorToX(e):r.lastIndexOf(t)+51===r.length?r=r.slicePriorToX(t):r+="\n",r+="    /* Update System Core Clock */\n    /* User can use SystemCoreClockUpdate() to calculate SystemCoreClock. */\n    SystemCoreClockUpdate();\n\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==u&&0!==u.indexOf("KM1M0DF")&&0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")&&(r+="    /* Lock protected registers */\n    SYS_LockReg();\n\n"),r+="    return;\n}\n\n")}function Ft(e){var t,n,i,o,l,a=0,r=[],s="SYST_CSR".toEquivalent().toString(),C="";if(void 0!==NUTOOL_CLOCK.g_register_map[e]){for(t=0,n=NUTOOL_CLOCK.g_register_map[e].length;t<n;t+=1)if(l=NUTOOL_CLOCK.g_register_map[e][t].sliceAfterX(":"),-1===r.indexOf(l))if(r.push(l),-1===l.indexOf("-"))a+=Math.pow(2,l);else for(i=parseInt(l.sliceAfterX("-"),10),o=parseInt(l.slicePriorToX("-"),10)+1;i<o;i+=1)a+=Math.pow(2,i);C=e===s?"SysTick->CTRL/0x"+ft(a).toUpperCase()+"UL":"RTC_LXTCTL"===e?"RTC->LXTCTL/0x"+ft(a).toUpperCase()+"UL":"RTC_CLKSRC"===e?"RTC->CLKSRC/0x"+ft(a).toUpperCase()+"UL":0===e.indexOf("LPSCC")||0===e.indexOf("LPSPI")?e.slicePriorToX("_")+"->"+e.sliceAfterX("_")+"/0x"+ft(a).toUpperCase()+"UL":"CLK->"+e+"/0x"+ft(a).toUpperCase()+"UL"}return C}function Ht(e,t,n){var i,o,l,a,r,s,C,L,_,d,c,O,f,T=-1,p="",g="CLKO".toEquivalent().toString(),K="CLKO_Divider".toEquivalent().toString(),S="CLKO1".toEquivalent().toString(),M="CLKO1_Divider".toEquivalent().toString(),x="HXT".toEquivalent().toString(),E="LXT".toEquivalent().toString(),P="HCLK".toEquivalent().toString(),b=!1,U=!1;if(s=void 0===t?NUTOOL_CLOCK.g_Module[e][0]:t,T=-1,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(s))for(i=0,o=N.length;i<o;i+=1){for(r=N[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(s)?(O=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0],f=parseInt(O.sliceAfterX(":"),10),O=O.slicePriorToX(":"),T=It(s)+(It(O)<<f)>>>0,b=!0):(T=It(s),b=!1);break}if(-1!==T)break}if(-1!==T){if(0===u.indexOf("KM1M7CF")&&"SYSTICK"===e){var v=It("CLKSRC").toString(),k=It("STCKSEL").toString();C=1==v&&0==k?"CPUCLK":0==v&&0==k?"HXOCLK/128":0==v&&1==k?"HRCCLK1/128":"CPUCLK"}else if("SYSTICK"===e&&Ut("CLKSRC"))C=0===u.indexOf("M55M1")||0===u.indexOf("M5531")?"ACLK":P;else for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[s].length;i<o&&(C=NUTOOL_CLOCK.g_CLKSEL[s][i],T!==parseInt(C.sliceAfterX(":"),10));i+=1)i===o-1&&(p="MODULE_NoMsk");if(C=C.slicePriorToX(":"),"M55M1"!==u&&"M5531"!==u||(C=C.replace("SCLK","SYSCLK")),Xe&&-1!==C.indexOf("XT")&&(C="MINI57"===u?C.replace(x,"EXT").replace(E,"EXT"):C.replace(x,"XTAL").replace(E,"XTAL")),0===C.indexOf("EXT")&&(C=NUTOOL_CLOCK.g_equivalentName.hasOwnProperty("EXT")&&"object"==typeof NUTOOL_CLOCK.g_equivalentName.EXT&&NUTOOL_CLOCK.g_equivalentName.EXT.hasOwnProperty(s)?C.replace("EXT",NUTOOL_CLOCK.g_equivalentName.EXT[s].toString()):C.replace("EXT","EXT".toEquivalent().toString())),"MINI57"===u?-1!==s.indexOf("STCLK")?p=-1===C.indexOf("/")?"CLK_SYSTICK_SRC_"+C:"CLK_SYSTICK_SRC_"+C.slicePriorToX("/")+"_HALF":-1===C.indexOf("/")?p="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C:(L=C,p="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C.slicePriorToX("/")+"_"+L.sliceAfterX("/")):"NUC505"===u?p="CLK_"+s.slicePriorToX("SEL").slicePriorToX("_S")+"_SRC_"+C.replace(x,"EXT").replace("RTC32k","RTC"):0===u.indexOf("KM1M7CF")&&"SYSTICK"===e?p=0===C.indexOf("CPUCLK")?"CLK_SYSTICK_CLK_CPU":0===C.indexOf("HXOCLK/128")?"CLK_SYSTICK_CLK_HXO_DIV128":0===C.indexOf("HRCCLK1/128")?"CLK_SYSTICK_CLK_HRCCLK1_DIV128":"CLK_SYSTICK_CLK_CPU":0===u.indexOf("KM1M7CF")&&"CLKOUT"===e?p=0===C.indexOf("HRCCLK1/8")?"CLK_CLKOUTSEL_HRCCLK1_DIV8":0===C.indexOf("HXOCLK/8")?"CLK_CLKOUTSEL_HXOCLK_DIV8":0===C.indexOf("PLLCLK/256")?"CLK_CLKOUTSEL_PLLCLK_DIV256":"CLK_CLKOUTSEL_HRCCLK1_DIV8":-1===C.indexOf("/")?p="CLK_"+r+"_"+s+"_"+C:-1!==C.indexOf("/")&&-1!==C.indexOf("DIV")?(void 0===n&&(n=C.sliceAfterX("(").slicePriorToX("+")),L=C,p="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")):(L=C,p="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")+"_DIV"+L.sliceAfterX("/")),("CM2052"===u||"CM2053"===u||0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")||0===u.indexOf("M0A21")||0===u.indexOf("M0A23"))&&-1!==p.indexOf("LXTCTL"))return p=-1!==p.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_C32KS_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_C32KS_Msk;\n";if((u.startsWith("M55")||"CM2U51"===u||"M2U51"===u||u.startsWith("M3331")||u.startsWith("CM3031"))&&-1!==p.indexOf("LXTCTL")&&(p=-1!==p.indexOf("LIRC")?"RTC_CLOCK_SOURCE_LIRC":1===It("C32KSEL")?"RTC_CLOCK_SOURCE_LIRC32K":"RTC_CLOCK_SOURCE_LXT"),"M2354"===u&&-1!==p.indexOf("LXTCTL"))return p=-1!==p.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_RTCCKSEL_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_RTCCKSEL_Msk;\n";if("NUC2201"!==u&&"NUC029xEE"!==u||-1===p.indexOf("HIRC48")||(p="CLK_CLKSEL0_USB_S_RC48M"),"M433"!==u&&"M480LD"!==u||-1===p.indexOf("HIRC48")||(p="CLK_CLKSEL0_USBSEL_RC48M"),"M2L31"===u&&((p=(p=p.replace("SRHCLK0","HCLK")).replace("HCLK0","HCLK")).includes("LPSCC")?p=p.sliceAfterX("CLK_"):p.includes("LXTCTL")&&(p=p.includes("LIRC")?"RTC_CLOCK_SOURCE_LIRC":"RTC_CLOCK_SOURCE_LXT")),"CM2U51"!==u&&"M2U51"!==u||!p.includes("LCDCPSEL")||(p=p.replace("LCDSEL_","")),b){for(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0].slicePriorToX(":"),i=0,o=N.length;i<o;i+=1){for(r=N[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(L=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&L.indexOf(":")===s.length){U=!0;break}if(U)break}p=p+"|CLK_"+r+"_"+s.slicePriorToX("_")+"_EXT_"+C}}else"SYSTICK"===e?(C=(C=Ut("CLKSRC")?"M55M1"===u||"M5531"===u?"ACLK":P:-1===NUTOOL_CLOCK.g_Module.SYSTICK[0].indexOf("STICKDIV")?NUTOOL_CLOCK.g_Module.SYSTICK[0]:x).slicePriorToX(":"),Xe&&-1!==C.indexOf("XT")&&(C=C.replace(x,"XTAL").replace(E,"XTAL")),"NUC505"!==u?-1===C.indexOf("/")?p="CLK_CLKSEL0_STCLKSEL_"+C:(L=C,p="CLK_CLKSEL0_STCLKSEL_"+C.slicePriorToX("/")+"_DIV"+L.sliceAfterX("/")):p="CLK_STICK_SRC_"+C.replace(x,"EXT").replace("RTC32k","RTC")):p="MODULE_NoMsk";if("SYSTICK"!==e)if("none"===(s=void 0===n?NUTOOL_CLOCK.g_Module[e][2]:n))p+=", MODULE_NoMsk";else{for(T=-1,i=0,o=N.length;i<o;i+=1){for(r=N[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){-1===C.indexOf("-")?c=1<<(_=parseInt(C.sliceAfterX(":"),10))>>>0:(_=parseInt(C.sliceAfterX("-"),10),d=parseInt(C.sliceBetweenXandX(":","-"),10)-_+1,c=Math.pow(2,d)-1<<_>>>0),T=(T=(h[r]&c)>>>0)>>>_>>>0;break}if(-1!==T)break}if(-1!==T)if(e!==g&&e!==K&&e!==S&&e!==M){for(i=0,o=NUTOOL_CLOCK.g_DIV_Module_Defines.length;i<o;i+=1)0===e.indexOf(NUTOOL_CLOCK.g_DIV_Module_Defines[i].slicePriorToX(":"))&&(e=NUTOOL_CLOCK.g_DIV_Module_Defines[i].sliceAfterX(":"));"NANO100AN"===u||"NANO100BN"===u||"NANO112"===u||"NANO103"===u?p=p+", CLK_"+e+"_CLK_DIVIDER("+(T+1)+")":0!==u.indexOf("M433")&&0!==u.indexOf("M480")||0!==e.indexOf("USB")&&0!==e.indexOf("OTG")?"MINI57"===u?p=-1!==e.indexOf("ADC")?p+", CLK_CLKDIV_EADC("+(T+1)+")":p+", CLK_CLKDIV_HCLK("+(T+1)+")":"M2L31"===u&&0===r.indexOf("LPSCC")?p=p+", "+r+"_"+e+"("+(T+1)+")":("M55M1"!==u&&"M5531"!==u||(0===e.indexOf("USB")&&(e="USB"),e+="DIV"),p=p+", CLK_"+r+"_"+e+"("+(T+1)+")"):p=p+", CLK_"+r+"_USB("+(T+1)+")"}else p=p+", "+T;else p+=", MODULE_NoMsk"}return p}function Xt(e,t){var n,i,o,l,a,r,s,C="";if("none"===(r=e))C="MODULE_NoMsk";else for(n=0,i=N.length;n<i;n+=1){for(a=N[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(s=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(r)&&s.indexOf(":")===r.length){C=t?"    CLK->"+a+" = CLK->"+a+" | CLK_"+a+"_"+r+"_Msk;\n":"    CLK->"+a+" = CLK->"+a+" & ~CLK_"+a+"_"+r+"_Msk;\n";break}if(""!==C)break}return C}function wt(){"undefined"==typeof NUTOOL_PER?"none"===$("#ChipType").css("display")?($("#ChipType").show(),$("#MCU").show(),null!==ve&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#ChipType").hide(),$("#MCU").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px")):"none"===$("#clockRegsTree").css("display")?($("#clockRegsTree").show(),null!==ve&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#clockRegsTree").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px"))}function Dt(){gt(),it(),Ae=!0,Kt(),Ae=!1}function qt(t){if(console.log("filename:"+t),console.log(null==t?`${g}.ncfg`:`${t}.ncfg`),Mt(Nt))try{Vt();var n=`/****************************************************************************\r\n * @file     ${g}.ncfg\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${ke} clock config file\r\n *\r\n * @note Please do not modify this file.\r\n *       Otherwise, it may not be loaded successfully.\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ie} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${g}\r\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ie} ***/\r\n`,i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,null==t?`${g}.ncfg`:`${t}.ncfg`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function Bt(){Vt();var e=`Please do not modify this file. Otherwise, it may not be loaded successfully.\nMCU:${g}\r\n${r}`;try{localStorage.setItem("Nu_config",e)}catch(e){}}function zt(e){var t,n,i,o,l,a,r,s,C,_,d,c,O,f="checked=true",T="",p=[],g="",K="",h="",S=null,M=[],N=localStorage.getItem("UIlanguage"),x="",E="",P="";if(d=function(){-1!==L.indexOf("Simplified")?(g="模块",K="汇流排频率",h="引擎频率"):-1!==L.indexOf("Traditional")?(g="模組",K="匯流排頻率",h="引擎頻率"):(g="Module",K="Bus Clock",h="Engine Clock"),$("#reviewReportTable")[0]||$("<div id='reviewReportTable'></div>").insertAfter($("#generateCodeDialogMainPart_div")),M=yt(),c=M.length>10?"282px":"100%",M.length>0&&(S=new Tabulator("#reviewReportTable",{height:c,data:M,layout:"fitColumns",columns:[{title:g,field:"module"},{title:K,field:"busClock"},{title:h,field:"engineClock"}],rowClick:function(e,t){null!==ve&&(ve.selectAll("g.node").on("searchFromInput")(t._row.data.module),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}))},langs:{Simplified:{headerFilters:{default:"过滤"}},Traditional:{headerFilters:{default:"過濾..."}},English:{headerFilters:{default:"filter..."}}}}),-1!==L.indexOf("Simplified")?S.setLocale("Simplified"):-1!==L.indexOf("Traditional")?S.setLocale("Traditional"):S.setLocale("English"))},Mt(Nt)){if(null==(E=localStorage.getItem("ProjectName"))&&(E=""),null==localStorage.getItem("ProjectLocation")&&"",null==(P=localStorage.getItem("ProjectLocationHistory"))&&(P=""),void 0===N||null==N?(i="Generate Code",o="Project Name",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",T="Or you can choose a folder from recent projects",r="Modularize Code",_="Review Report",O="Confirm","Leave"):(null!=(x=localStorage.getItem("CheckModularizeCode"))&&"No"!==x||(x="No",f=""),"Simplified Chinese"===N?(i="产生程式码",o="工程名称",l="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",T="或是您可以从最近的工程中选择一个",r="模组化代码",_="检阅报告",O="确定","离开"):"Traditional Chinese"===N?(i="產生程式碼",o="專案名稱",l="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",T="或是您可以從最近的專案中選擇一個",r="模組化程式碼",_="檢閱報告",O="確定","離開"):(i="Generate Code",o="Project Name",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",T="Or you can choose a folder from recent projects",r="Modularize Code",_="Review Report",O="Confirm","Leave")),""===E.trim()&&(E="MyProject"),""!==P.trim()){for(t=0,n=(p=P.split(">")).length-1;t<n;t++)'<option value="'+p[t]+'">'+p[t]+"</option>";0}-1===["MINI51DE","MINI55","NUC029AE","NUC100CN","NM1200","NM1500"].indexOf(u)?s="checkbox":(r="",s="hidden",f=""),null===ve?(_="",C="hidden"):C="checkbox",dt(),void 0===e?(a='<div id="generateCodeDialogMainPart_div"><label>'+o+': <input type="text" id="inputText_projectName" value="'+E+'" style="width:250px;height:24px;"></label><br /><br /><label><p>'+l+"</p></div>",a+='<div id="reviewReportTable"></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},create:function(e,t){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")?$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label><input type='"+C+"' id='checkbox_ReviewReport'/>"+_+"</label></label></div>").prependTo(n):$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label></div>").prependTo(n)},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){localStorage.setItem("ProjectName",$("#inputText_projectName").val()),$("#checkbox_ModularizeCode").is(":checked")?localStorage.setItem("CheckModularizeCode","Yes"):localStorage.setItem("CheckModularizeCode","No"),$("#generateCodeDialog_buttonOk").button("disable"),""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Wt()}catch(e){}$("#generateCodeDialog").dialog("isOpen")?$("#generateCodeDialog").dialog("destroy"):$("#generateCodeDialog_buttonOk").button("enable")}}]})):0===e.indexOf("reviewReport")&&(a='<div id="reviewReportTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:_,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){-1!==e.indexOf("runAnotherTool")?runAnotherTool():$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy")}}]}),d()),$("#generateCodeDialogInput").keypress(function(e){if(22===e.which)$("#generateCodeDialogInput").val(window.clipboardData.getData("Text"))}),$("#generateCodeDialogBrowseFolder").click(function(){""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Wt()}catch(e){}""!==NUTOOL_CLOCK.g_clockFunctionString&&-1!==NUTOOL_CLOCK.g_clockFunctionString.indexOf(":")&&$("#generateCodeDialogInput").val(NUTOOL_CLOCK.g_clockFunctionString),$("#generateCodeDialog").focus()}),$("#generateCodeDialogSelect").change(function(){"default"!==$("#generateCodeDialogSelect").val()&&($("#generateCodeDialogInput").val($("#generateCodeDialogSelect").val()),$("#generateCodeDialogSelect").val($("#generateCodeDialogSelect option:first-child").val()))}),$("#checkbox_ReviewReport").change(function(){$("#checkbox_ReviewReport").is(":checked")?(d(),$("#generateCodeDialogMainPart_div").hide(),$("#generateCodeDialogTableWrapper").show(),$("#generateCodeDialog_buttonOk").button("disable")):($("#reviewReportTable").remove(),$("#generateCodeDialogMainPart_div").show(),$("#generateCodeDialogTableWrapper").hide(),$("#generateCodeDialog_buttonOk").button("enable"))})}}function Wt(){if($("#checkbox_ModularizeCode").is(":checked")){Yt(),a=(a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ie} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${g}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ie} ***/\n`).replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`);var n=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ie} All rights reserved.\n*****************************************************************************/\n\n#ifndef __${$("#inputText_projectName").val().toUpperCase()}_H__\n#define __${$("#inputText_projectName").val().toUpperCase()}_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${C}#ifdef __cplusplus\n}\n#endif\n#endif /*__${$("#inputText_projectName").val().toUpperCase()}_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ie} ***/\n`;n=n.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,`${$("#inputText_projectName").val()}.h`);var o=`/****************************************************************************\n * @file     nutool_clkcfg.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ie} All rights reserved.\n*****************************************************************************/\n\n#ifndef __NUTOOL_CLKCFG_H__\n#define __NUTOOL_CLKCFG_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${s}#ifdef __cplusplus\n}\n#endif\n#endif /*__NUTOOL_CLKCFG_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ie} ***/\n`;o=o.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var l=new Blob([o],{type:"text/plain;charset=utf-8"});saveAs(l,"nutool_clkcfg.h")}else{Gt();var a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ie} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${g}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ie} ***/\n`;t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`)}qt($("#inputText_projectName").val())}function Vt(){var e,t,n="HXT".toEquivalent().toString(),i="LXT".toEquivalent().toString(),o="HIRC".toEquivalent().toString(),l="LIRC".toEquivalent().toString(),a="PLL".toEquivalent().toString(),s="APLL".toEquivalent().toString();for(r="",e=0,t=N.length;e<t;e+=1)r+="Reg:"+N[e]+" = 0x"+ft(h[N[e]]).toUpperCase()+"\r\n";A>0&&(r+=i+":"+A+"\r\n"),y>0&&(r+=n+":"+y+"\r\n"),A>0&&(r+=l+":"+P+"\r\n"),y>0&&(r+=o+":"+b+"\r\n"),R>0&&(r+="RTC32k:"+R+"\r\n"),m>0&&(r+=a+":"+m+"\r\n"),F>0&&(r+="PLL2:"+F+"\r\n"),H>0&&(r+="PLL480M:"+H+"\r\n"),X>0&&(r+=s+":"+X+"\r\n"),w>0&&(r+="PLLFN:"+w+"\r\n"),D>0&&un(_t(NUTOOL_CLOCK.g_Module))&&(r+="HSUSB_OTG_PHY:"+D+"\r\n"),r+="Step:"+x+"\r\n",e=null,t=null}function Gt(){yt(),mt(),$t()}function Yt(){yt("modularizeCode"),$t()}function jt(){var e,t;Pt(function(){if(ye){for(ye=!1,gt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",N=_t(NUTOOL_CLOCK.g_register_map_default),h=[],e=0,t=N.length;e<t;e+=1)h[N[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[N[e]],16);Kt()}ln()})}function Zt(){null!==ve?(Fe=!Fe,St(x-1-1),$("#tabs").tabs({active:x-1})):Et("请先完成整个设置流程。","請先完成整個設定流程。","Please complete the entire configuration process first.")}function Jt(){window.electronAPI.send("zoomIn")}function Qt(){window.electronAPI.send("bestFit")}function en(){window.electronAPI.send("zoomOut")}function tn(){null!==ve&&Pt(function(){Rt(),ln()})}function nn(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,T,u,p,g,K,h,S,M,N,x,E="",P="",b="",U="PLL".toEquivalent().toString();"Simplified Chinese"===L?(e="设定",t="从下面选取一个语言显示在操作介面上。",n="英文",i="简体中文",o="繁体中文",P="checked",l="确定",a="离开"):"Traditional Chinese"===L?(e="設定",t="從下面選取一個語言顯示在操作介面上。",n="英文",i="簡體中文",o="繁體中文",b="checked",l="確定",a="離開"):(e="Settings",t="Select one of the following languages displayed in UI.",n="English",i="Simplified Chinese",o="Traditional Chinese",E="checked",l="Confirm",a="Leave"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$('<div id="languageDialog"><p>'+t+'</p><input type="radio" id="engiish" value="English" name="UIlanguage" '+E+'><label for="engiish">'+n+'</label><br /><input type="radio" id="simplifiedChinese" value="Simplified Chinese" name="UIlanguage" '+P+'><label for="simplifiedChinese">'+i+'</label><br /><input type="radio" id="traditionalChinese" value="Traditional Chinese" name="UIlanguage" '+b+'><label for="traditionalChinese">'+o+'</label><br /><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){$("input").each(function(){if(!0===this.checked&&"on"!==$(this).val()){L!==$(this).val()&&!0,-1!==(L=$(this).val()).indexOf("Simplified")?(r="型号",s="晶片系列:",C="Clock寄存器",_="搜寻模块",d="启用",c="停用",O="等待",T="周期",u="",p="模块",g="的时脉频率: ",K="下一步",h="基础时脉源",S=U,M="模块",N="没有"+U+"相关的时脉源可供使用。",x="输入期望值"):-1!==L.indexOf("Traditional")?(r="型號",s="晶片系列:",C="Clock暂存器",_="搜尋模組",d="啟用",c="停用",O="等待",T="週期",u="",p="模組",g="的時脈頻率: ",K="下一步",h="基礎時脈源",S=U,M="模組",N="沒有"+U+"相關的時脈源可供使用。",x="輸入期望值"):(r="Part No.",s="Chip Series:",C="Clock Registers",_="Search Module",d="Enable",c="Disable",O="Wait",T="cycles",u="The clock of ",p="The clock of ",g=": ",K="Next Step",h="Base Clocks",S=U,M="Module",N="There are no "+U+"-related clock sources available.",x="Input the expected value"),$("#MCU_span").text(r),$("#ChipType_span").text(s),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),C),$("#searchModule_span").text(_),$(".enable_span").text(d),$(".disable_span").text(c),$(".wait_span").text(O),$(".cycles_span").text(T),$(".specificRealOutput_before_span").text(u),$(".realOutput_before_span").text(p),$(".realOutput_after_span").text(g),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=K),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=K),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=K),$("#base_clocks_span").text(h),$("#pll_clocks_span").text(S),$("#module_span").text(M),$("#no_pll_span").text(N),$("[title]").prop("title",x),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px");try{localStorage.setItem("UIlanguage",$(this).val())}catch(e){}Tn(),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy")}})}},{text:a,click:function(){""===L&&(L="English"),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function on(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,T,u,p,g="PLL".toEquivalent().toString();At(),-1!==L.indexOf("Simplified")?(n="型号",i="晶片系列:",t="Clock寄存器",e="搜寻模块",o="启用",l="停用",a="等待",r="周期",s="",C="模块",_="的时脉频率: ",d="下一步",c="基础时脉源",O=g,T="模块",u="没有"+g+"相关的时脉源可供使用。",p="输入期望值",an("ID_BUTTON_SHOW_REGISTERS","开关左边嵌板"),an("ID_BUTTON_LOAD","读取配置档"),an("ID_BUTTON_SAVE","存放配置档"),an("ID_BUTTON_GENERATE_CODE","产生程式码"),an("ID_BUTTON_CONNECT_TO_TARGET","连线到芯片"),an("ID_BUTTON_RETURN_DEFAULT","回到初始设置"),an("ID_BUTTON_SWITCH_CLOCK_TREE","切换时钟树形图"),an("ID_BUTTON_ZOOM_IN","放大"),an("ID_BUTTON_BEST_FIT","最适大小"),an("ID_BUTTON_ZOOM_OUT","缩小"),an("ID_BUTTON_DISABLE","取消所有已启用模块"),an("ID_BUTTON_LANGUAGE","设定"),an("ID_BUTTON_INSTRUCTION","阅读用户手册")):-1!==L.indexOf("Traditional")?(n="型號",i="晶片系列:",t="Clock暂存器",e="搜尋模組",o="啟用",l="停用",a="等待",r="週期",s="",C="模組",_="的時脈頻率: ",d="下一步",c="基礎時脈源",O=g,T="模組",u="沒有"+g+"相關的時脈源可供使用。",p="輸入期望值",an("ID_BUTTON_SHOW_REGISTERS","開關左側面板"),an("ID_BUTTON_LOAD","讀取配置檔"),an("ID_BUTTON_SAVE","存放配置檔"),an("ID_BUTTON_GENERATE_CODE","產生程式碼"),an("ID_BUTTON_CONNECT_TO_TARGET","連線到晶片"),an("ID_BUTTON_RETURN_DEFAULT","回到初始設置"),an("ID_BUTTON_SWITCH_CLOCK_TREE","切換時鐘樹狀圖"),an("ID_BUTTON_ZOOM_IN","放大"),an("ID_BUTTON_BEST_FIT","最適大小"),an("ID_BUTTON_ZOOM_OUT","縮小"),an("ID_BUTTON_DISABLE","取消所有已啟用模組"),an("ID_BUTTON_LANGUAGE","設定"),an("ID_BUTTON_INSTRUCTION","閱讀用戶手冊")):(n="Part No.",i="Chip Series:",t="Clock Registers",e="Search Module",o="Enable",l="Disable",a="Wait",r="cycles",s="The clock of ",C="The clock of ",_=": ",d="Next Step",c="Base Clocks",O=g,T="Module",u="There are no "+g+"-related clock sources available.",p="Input the expected value",an("ID_BUTTON_SHOW_REGISTERS","Switch the Left Panel"),an("ID_BUTTON_LOAD","Load Configuration"),an("ID_BUTTON_SAVE","Save Configuration"),an("ID_BUTTON_GENERATE_CODE","Generate Code"),an("ID_BUTTON_CONNECT_TO_TARGET","Connect to Chip"),an("ID_BUTTON_RETURN_DEFAULT","Return to Default Settings"),an("ID_BUTTON_SWITCH_CLOCK_TREE","Switch Clock Tree"),an("ID_BUTTON_ZOOM_IN","Zoom In"),an("ID_BUTTON_BEST_FIT","Best Fit"),an("ID_BUTTON_ZOOM_OUT","Zoom Out"),an("ID_BUTTON_DISABLE","Disable All Enabled Modules"),an("ID_BUTTON_LANGUAGE","Settings"),an("ID_BUTTON_INSTRUCTION","Read User Manual"),an("ID_BUTTON_MAXCLOCK","Max Clock")),$("#MCU_span").text(n),$("#ChipType_span").text(i),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),t),$("#searchModule_span").text(e),$(".enable_span").text(o),$(".disable_span").text(l),$(".wait_span").text(a),$(".cycles_span").text(r),$(".specificRealOutput_before_span").text(s),$(".realOutput_before_span").text(C),$(".realOutput_after_span").text(_),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=d),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=d),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=d),$("#base_clocks_span").text(c),$("#pll_clocks_span").text(O),$("#module_span").text(T),$("#no_pll_span").text(u),$("[title]").prop("title",p),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px")}function ln(){var e,t;for(S=[],e=0,t=N.length;e<t;e+=1)S[N[e]]=h[N[e]]}function an(e,t,n){null!=n&&null!=n||(n="top"),null!=document.querySelector(`#${e}`)&&null!=document.querySelector(`#${e}`)&&document.querySelector(`#${e}`)._tippy&&document.querySelector(`#${e}`)._tippy.destroy(),tippy(`#${e}`,{content:`${t}`,placement:`${n}`})}function rn(){d="\f",K.getContext=function(e){return e.getContext("2d")},K.removeContext=function(e){e.remove()},K.addEvent=function(e,t,n){void 0!==e&&e.addEventListener(t,n,!1)},K.triggerEvent=function(e,t){void 0!==$(e)[0]&&$(e).trigger(t)},$("html").addClass("ie10+"),"undefined"==typeof NUTOOL_PER&&(je("","tabulator/promise-polyfill.js","js"),je("","tabulator/js/tabulator.js","js"),je("","tabulator/css/tabulator.css","css")),At(),ot(),it(),$("#rootTree_Clock")[0].setAttribute("style","width:"+f+"px; height: "+t+"px;"),"undefined"==typeof NUTOOL_PER?function(){var e,t,n,i=$("#ChipTypeSelect"),o=$("#ChipType_span"),l=$("#MCU_span");for($("#ChipType")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#MCU")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#ChipType").hover(function(){$(this).css("background-color","#FAFAFA")},function(){$(this).css("background-color","#FFFFFF")}),$("#MCU").hover(function(){$(this).css("background-color","#FAFAFA")},function(){$(this).css("background-color","#FFFFFF")}),-1!==L.indexOf("Simplified")?(o.text("晶片系列:"),l.text("型号:")):-1!==L.indexOf("Traditional")?(o.text("晶片系列:"),l.text("型號:")):(o.text("Chip Series:"),l.text("Part No.:")),o.css("font-size","16px"),o.css("font-weight","bold"),l.css("font-size","16px"),l.css("font-weight","bold"),e=0,t=T.length;e<t;e+=1){n=window.document.createElement("option");try{n.id=n.innerHTML=n.value=T[e]}catch(e){}i[0].appendChild(n)}i.val(Qe(u)),Ge(),i.on("change",function(){var e,t;u!=$(this).val()&&je("NUC_"+u+"_Content.js","NUC_"+(e=$(this).val(),t=e,"CM2003"===e?t="CM2003":"CM2U51"===e?t="CM2U51":"NUC200"===e?t="NUC200AN":"NANO100"===e?t="NANO100AN":"NUC100"===e?t="NUC100DN":"M0A21"===e?t="M0A21":"M030G"===e||"M030G"===e?t="M030G_31G":"M031"===e?t="M031BT":"M051"===e?t="M051DE":"MINI51"===e?t="MINI55":"NUC029"===e?t="NUC029AE":"M460"===e?t="M460HD":"M480"===e?t="M480MD":"KM1M4BF"===e?t="KM1M4BF":"KM1M7AF"===e?t="KM1M7AF":"KM1M7BF"===e?t="KM1M7BF":"KM1M7CF"===e?t="KM1M7CF":"M2003"===e?t="M2003":"M55M1"===e?t="M55M1":"M5531"===e?t="M5531":"M2L31"===e?t="M2L31":"M2U51"===e?t="M2U51":"M3331"===e?t="M3331_Ix":"CM3031"===e&&(t="CM3031"),(u=t)+"_Content.js"),"js",Ge)})}():x=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,Ye(),Ae=!0,Ve(),Ae=!1,$(window.document).mousedown(function(e){return e=e||window.event,l=(e.target||e.srcElement).id,this}),"undefined"!=typeof NUTOOL_PER&&($("#tabs")[0].style.visibility="hidden",$("#rootTree_Clock").hide())}function sn(){if(null!=this.files[0]&&null!=this.files[0])if(-1!=this.files[0].name.split(".").pop().toLowerCase().indexOf("ncfg")){var e=this.files[0],t=new FileReader;t.readAsText(e),t.onload=function(t){NUTOOL_CLOCK.g_readConfigFileContentText=t.target.result,NUTOOL_CLOCK.g_readConfigFilePath=URL.createObjectURL(e);try{Cn(Dt)}catch(e){}}}else alert("Please select a file with a valid file type. (.ncfg)")}function Cn(e){var t="",n="",i="";for(saved_newReadConfigFile=t=NUTOOL_CLOCK.g_readConfigFileContentText;-1!==t.indexOf("\r")&&t.indexOf("\r")<t.indexOf("MCU:");)t=t.sliceAfterX("\r");if(i=nt(n=(n=t.sliceBetweenXandX("MCU:","\r")).trim()),-1===$.inArray(Qe(i),T))return Et("从配置档读出的晶片型号 "+i+" 不正确。","從配置檔讀出的晶片型號 "+i+" 不正確。","The chip type of "+i+" read from the config file is incorrect."),t=null,n=null,i=null,null;je(void 0!==u&&""!==u?"NUC_"+u+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+i+"_Content.js","js",e),u=i,g=n,p=n}function Ln(e,t,n){var i="OSC10K_EN".toEquivalent().toString(),o="OSC22M_EN".toEquivalent().toString(),l=("OSC22M2_EN".toEquivalent().toString(),"XTL32K_EN".toEquivalent().toString()),a="XTL12M_EN".toEquivalent().toString(),r="HIRC48EN".toEquivalent().toString(),s="PWRCON".toEquivalent().toString(),C=("PLLCON".toEquivalent().toString(),"HCLK_S".toEquivalent().toString(),"STCLK_S".toEquivalent().toString(),"CLKO".toEquivalent().toString(),"CLKO_Divider".toEquivalent().toString(),"CLKO1".toEquivalent().toString(),"CLKO1_Divider".toEquivalent().toString(),"SYST_CSR".toEquivalent().toString(),"_S".toEquivalent().toString(),"HXT".toEquivalent().toString()),L="PLL".toEquivalent().toString(),_="APLL".toEquivalent().toString(),d=(_="APLL".toEquivalent().toString(),"HIRC".toEquivalent().toString()),c=("HIRC2".toEquivalent().toString(),"HIRC48".toEquivalent().toString()),O="MIRC".toEquivalent().toString();"LIRC".toEquivalent().toString(),"HCLK".toEquivalent().toString(),"PCLK".toEquivalent().toString();function f(e,t){let n=parseInt(e.sliceAfterX(":"),10),i=0;-1!==e.indexOf("-")?(n=parseInt(e.sliceAfterX("-"),10),bitCount=parseInt(e.sliceBetweenXandX(":","-"),10)-n+1,i=Math.pow(2,bitCount)-1<<n>>>0):i=1<<n>>>0;let o=(parseInt(t,16)&i)>>>0;return o=o>>>n>>>0,o}function T(e){const t=$("#"+a+"_input"),n=t.length>0?1e6*parseFloat(t.val()):NUTOOL_CLOCK.g_HXTfrequency;let o="",l=0;return 0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")||"NUC505"===u?(o=C,l=n):1===e?0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?(o=C,l=n):(o=d,l="NUC121AE"===u||"NUC1262"===u||"NUC1263"===u?NUTOOL_CLOCK.g_HIRCfrequency/2:"CM2052"===u||"CM2053"===u||0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")||0===u.indexOf("CM3031")||0===u.indexOf("M3331")?NUTOOL_CLOCK.g_HIRCfrequency/4:NUTOOL_CLOCK.g_HIRCfrequency):2===e||3===e?0===u.indexOf("M55M1")||0===u.indexOf("M5531")?(o=c,l=NUTOOL_CLOCK.g_HIRC48frequency/4):"CM2052"===u||"CM2053"===u||0===u.indexOf("M25")?(o=C,l=n):(o=O,l=NUTOOL_CLOCK.g_MIRCfrequency):void 0===e?Ut(i)?(o=d,l=NUTOOL_CLOCK.g_HIRCfrequency):Ut("MIRCEN")?(o=O,l=NUTOOL_CLOCK.g_MIRCfrequency):(o=C,l=n):0===e?0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?o=d:(o=C,l=n):Ut(i)?(o=d,l=NUTOOL_CLOCK.g_HIRCfrequency):Ut("MIRCEN")?(o=O,l=NUTOOL_CLOCK.g_MIRCfrequency):(o=C,l=n),[o,l]}if("CortexM"==t){var p,g,K,h,S,M,x=[],E=!1,P=!1,b=!1,U=!1;for(var v in regNames=_t(NUTOOL_CLOCK.g_register_map_description),e)for(var k=0;k<regNames.length;k++)if(NUTOOL_CLOCK.g_register_map_description[regNames[k]]==Object.keys(e[v])[0]){var I=e[v][Object.keys(e[v])[0]];if(regNames[k]==s)for(m=0,max=N.length;m<max;m+=1){var R=N[m];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[R].length;j<maxJ;j+=1){-1!==(A=NUTOOL_CLOCK.g_register_map[R][j]).indexOf(a)||-1!==A.indexOf("XTL12M_EN")?1==f(A,I)&&(E=!0):-1!==A.indexOf(o)||-1!==A.indexOf("OSC22M_EN")?1==f(A,I)&&(P=!0):-1!==A.indexOf("MIRCEN")?1==f(A,I)&&(b=!0):-1!==A.indexOf(r)&&1==f(A,I)&&(U=!0)}}}for(var v in M=function(e,t){let n={};for(const t of e){const e=Object.keys(t)[0],i=t[e];n[e]=i}let i=!1,o=!1,l=!1;for(const e of t){const t=NUTOOL_CLOCK.g_register_map_description[e];if(!n.hasOwnProperty(t))continue;const a=n[t];for(const t of NUTOOL_CLOCK.g_register_map[e]){const e=t.slicePriorToX(":");"PD"===e?i=0===f(t,a):"OE"===e?o=0===f(t,a):"PLLEN"===e||"APLL0EN"===e?l=1===f(t,a):"NPLLEN"===e&&(l=0===f(t,a))}}return i&&o||l}(e,regNames),e)for(k=0;k<regNames.length;k++)if(NUTOOL_CLOCK.g_register_map_description[regNames[k]]==Object.keys(e[v])[0]){I=e[v][Object.keys(e[v])[0]];if("PLLCTL"==regNames[k]||"CHIPPLLCTR1"==regNames[k]||"APLL0SEL"===regNames[k]){for(S=void 0,m=0,max=N.length;m<max;m+=1){R=N[m];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[R].length;j<maxJ;j+=1){var A;if(-1!==(A=NUTOOL_CLOCK.g_register_map[R][j]).indexOf("PLL_SRC")&&7===A.indexOf(":")){S=f(A,I);break}if(-1!==A.indexOf("APLL0SRC")&&8===A.indexOf(":")){S=f(A,I);break}}}[h,p]=T(S);M&&(h==C&&E||h==c&&U||h==d&&P||h==O&&b)&&(g=On(p,I),X>0&&(K=fn(p,I)))}x.push(`Reg:${regNames[k]} = 0x${I}\r\n`);break}for(var y=`MCU:${n}\r\n`,m=0;m<x.length;m++)y+=x[m];if(Ut(l)&&(y+="LXT:32768\r\n"),Ut("LIRC32KEN")&&(y+="LXT:32000\r\n"),Ut(a)){const e=$("#"+a+"_input"),t=e.length>0?1e6*parseFloat(e.val()):NUTOOL_CLOCK.g_HXTfrequency;y+=`${C}:${t}\r\n`,NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency>0&&un(_t(NUTOOL_CLOCK.g_Module))&&(y+=`HSUSB_OTG_PHY:${NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency}\r\n`)}null!=g&&g>0&&(y+=`${L}:${g}\r\n`),X>0&&(y+=`${_}:${K}\r\n`),w>0&&(y+=`PLLFN:${PLLFg_realPLLFNoutputClockreq}\r\n`),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(y+=`RTC32k:${NUTOOL_CLOCK.g_RTC32kfrequency}\r\n`),-1!=y.indexOf("PLL")?y+="Step:4\r\n":y+="Step:3\r\n",NUTOOL_CLOCK.g_readConfigFileContentText=y,NUTOOL_CLOCK.g_readConfigFilePath="dummyPath";try{Cn(Dt)}catch(e){}}else"8051"==t||console.log("returnRegisterValue: unknown type.")}function _n(e){return we.filter(t=>-1!=t.indexOf(e))[0].slicePriorToX("-")}function dn(){return!("object"!=typeof navigator||"string"!=typeof navigator.userAgent||!navigator.userAgent.includes("Electron")||!navigator.userAgent.includes("Code/"))}function cn(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||!("object"!=typeof navigator||"string"!=typeof navigator.userAgent||!navigator.userAgent.includes("Electron")||navigator.userAgent.includes("Code/")))}function On(e,t){var n,i,o,l,a,r,s,C,L,_;if("CM2052"===u||"CM2053"===u||0===u.indexOf("M25")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(3,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":r=2;break;case"10":case"11":r=4}l=0==parseInt(o,2)?16:parseInt(o,2),i=0==parseInt(n,2)?64:parseInt(n,2)}else if(0===u.indexOf("NANO100AN")||0===u.indexOf("NANO100BN")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(6,8),a=regValueBinary.slice(3,4)){case"0":default:r=1;break;case"1":r=2}switch(o){case"00":default:l=2;break;case"01":l=4;break;case"10":l=8;break;case"11":l=16}i=parseInt(n,2)+32}else if("NUC505"===u)regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-7),o=regValueBinary.slice(3,9),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1;else if("M261"===u||0===u.indexOf("M433")||0===u.indexOf("M460")||0===u.indexOf("M480")||0===u.indexOf("M55M1")||0===u.indexOf("M5531")||0===u.indexOf("M2L31")||0===u.indexOf("M3331")||0===u.indexOf("CM3031")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+1,i=parseInt(n,2)+2}else if(0===u.indexOf("KM1M4"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-7),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-5),2),L=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===u.indexOf("KM1M7CF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-5),2),L=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,7),2);else{switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+2,i=parseInt(n,2)+2}if(0===u.indexOf("KM1M")){if(null==C||null==_)return void console.log("Error: calculatePLLfrequency() failed");0===u.indexOf("KM1M4")?(s=0==C?e*_*.5:e*(1/C)*_*.5,s/=2):0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")?(s=0==C||1==C?e*_:e*(1/C)*_,s/=L+1):0===u.indexOf("KM1M7CF")?(s=0==C?e*_:.5*e*_,s/=L+1):console.warn("calculatePLLfrequency: Unknown g_chipType")}else{if(null==n||null==i||null==o||null==l||null==a||null==r)return void console.log("Error: calculatePLLfrequency() failed");s="M261"===u||0===u.indexOf("M433")||0===u.indexOf("M460")||0===u.indexOf("M480")||0===u.indexOf("M55M1")||0===u.indexOf("M5531")||0===u.indexOf("M2L31")||0===u.indexOf("M3331")||0===u.indexOf("CM3031")?e*(2*i/l)*(1/r):e*(i/l)*(1/r)}return s}function fn(e,t){var n,i,o,l,a,r;if("NUC505"===u)regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(3,10),o=regValueBinary.slice(-6),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1;else if(0===u.indexOf("M55M1")||0===u.indexOf("M5531")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+1,i=parseInt(n,2)+2}if(null!=n&&null!=i&&null!=o&&null!=l&&null!=a&&null!=r)return 0===u.indexOf("M55M1")||0===u.indexOf("M5531")?e*(2*i/l)*(1/r):e*(i/l)*(1/r);console.log("Error: calculateAPLLfrequency() failed")}function Tn(){var e;cn()||localStorage.getItem("CheckPrivacyBannerDismiss")||(e="Simplified Chinese"===L?"本网站使用cookie作为与网站交互时识别流览器之用，浏览本网站即表示您同意本网站对cookie的使用":"Traditional Chinese"===L?"本網站使用cookie作為與網站互動時識別瀏覽器之用，瀏覽本網站即表示您同意本網站對cookie的使用":"This website uses cookies to ensure you get the best experience on our website.",$("#ID_PRIVACY_BANNER_TEXT").text(e),$("#ID_PRIVACY_BANNER_BUTTON").on("click",function(){$("#ID_PRIVACY_BANNER_DIV").hide(),localStorage.setItem("CheckPrivacyBannerDismiss",!0)}),$("#ID_PRIVACY_BANNER_DIV").show())}function un(e){var t,n=!1,i=!1,o=!1;for(t=0;t<e.length;t+=1)0===e[t].indexOf("HSUSBH")?n=!0:0===e[t].indexOf("HSUSBD")?i=!0:0===e[t].indexOf("HSOTG")&&(o=!0);return n||i||o}function pn(e){for(let t=0;t<e.length;t++){const n=NUTOOL_CLOCK.g_Module[e[t]];if(n){const e=n[0],t=NUTOOL_CLOCK.g_CLKSEL[e];if(t)for(let e=0;e<t.length;e++)if(t[e].startsWith("EXT"))return!0}}return!1}function gn(e,t,n=-1){const i=[];let o=0,l=0,a=0;const r=e=>{switch(e){case 0:default:return 1;case 1:case 2:return 2;case 3:return 4}},s=(e,t=[-1,Number.MAX_VALUE],i=[-1,Number.MAX_VALUE],o=[-1,Number.MAX_VALUE])=>{let l=0;const a=-1!==n?n:o[1];for(let n=0;n<512;n++)for(let s=0;s<32;s++)for(let C=0;C<4;C++){const L=r(C),_=e/(s+1),d=2*e*(n+2)/(s+1);if(_>=t[0]&&_<=t[1]&&d>=i[0]&&d<=i[1]&&n+2>=12&&n+2<=255){const t=2*e*(n+2)/(s+1)/L;if(t>=o[0]&&t<=a&&(l=Math.max(l,t),l===a))return l}}return l};var C;if(NUTOOL_CLOCK.g_PLLs[e])return(C=NUTOOL_CLOCK.g_PLLs[e].FIN)&&C.forEach(e=>{const[t,n=1]=e.split("/");xe.hasOwnProperty(t)&&i.push(xe[t]/parseInt(n,10))}),NUTOOL_CLOCK.g_PLLs[e].FIN.forEach((n,r)=>{const C=i[r];let L=C;if("HXT"===n){a=C;for(let n=C;n>=t;n-=1e5){const t=s(n,NUTOOL_CLOCK.g_PLLs[e].FREF,NUTOOL_CLOCK.g_PLLs[e].FVCO,NUTOOL_CLOCK.g_PLLs[e].FOUT);t>L&&(L=t,a=n)}}else L=Math.max(L,s(C,NUTOOL_CLOCK.g_PLLs[e].FREF,NUTOOL_CLOCK.g_PLLs[e].FVCO,NUTOOL_CLOCK.g_PLLs[e].FOUT));"HXT"===n?l=Math.max(l,L):o=Math.max(o,L)}),l>o?a:-1}function Kn(e){if(e=e.slicePriorToX(":").slicePriorToX("/").toString(),!NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(e))return e;const t=It(e);for(const n of NUTOOL_CLOCK.g_CLKSEL[e]){const e=parseInt(n.sliceAfterX(":"),10),i=n.slicePriorToX(":").slicePriorToX("/").toString();if(e===t)return Kn(i)}return e}function hn(e){const t=Kn(e);return e.replace(e.slicePriorToX(":").slicePriorToX("/"),t)}function Sn(e){for(i=0,max=NUTOOL_CLOCK.g_cfg_chips.length;i<max;i+=1)try{if(NUTOOL_CLOCK.g_cfg_chips[i].name.toUpperCase().trim()==e.toUpperCase().trim())return NUTOOL_CLOCK.g_cfg_chips[i].name+"("+NUTOOL_CLOCK.g_cfg_chips[i].pkg+")"}catch(e){}return""}function Mn(e){function t(){var e,t=[];for(e=_t(NUTOOL_CLOCK.g_register_map_description),i=0;i<e.length;i++)t.push(NUTOOL_CLOCK.g_register_map_description[e[i]]);cn()?window.electronAPI.send("getMFPValues",t):dn()?window.vscode.postMessage({action:"getMFPValues",data:t}):O.postMessage({action:"getMFPValues",data:t})}if(e!==g){try{window.external.updateCurrentDialogSize()}catch(e){}oldChipType=u,u=nt(e),je("NUC_"+oldChipType+"_Content.js","NUC_"+u+"_Content.js","js",function(){p=g=e,gt(),tt(),t()})}else t()}window.onload=function(){rn(),$("#ID_BUTTON_SHOW_REGISTERS").on("click",function(){wt()}),$("#ID_BUTTON_LOAD").on("click",function(){$("#rootTree_Clock").is(":visible")&&Pt(function(){$("#loadConfiguration").trigger("click")})}),$("#loadConfiguration").on("change",sn),$("#ID_BUTTON_SAVE").on("click",function(){qt()}),$("#ID_BUTTON_GENERATE_CODE").on("click",function(){zt()}),$("#ID_BUTTON_CONNECT_TO_TARGET").on("click",function(){Pt(function(){cn()?window.electronAPI.send("connect"):dn()?window.vscode.postMessage({action:"connect"}):async function(){var e;null!=O&&(await navigator.usb.getDevices().then(t=>{t.forEach(t=>{e=t})}).catch(t=>{console.log(t),e=void 0}),null==e&&(e=await navigator.usb.requestDevice({filters:[{vendorId:1046}]}).catch(t=>{console.log(t),e=void 0})),null!=e&&O.postMessage({action:"connect"}))}()})}),$("#ID_BUTTON_RETURN_DEFAULT").on("click",function(){jt()}),$("#ID_BUTTON_SWITCH_CLOCK_TREE").on("click",function(){Zt()}),$("#ID_BUTTON_ZOOM_IN").on("click",function(){Jt()}),$("#ID_BUTTON_BEST_FIT").on("click",function(){Qt()}),$("#ID_BUTTON_ZOOM_OUT").on("click",function(){en()}),$("#ID_BUTTON_DISABLE").on("click",function(){tn()}),$("#ID_BUTTON_LANGUAGE").on("click",function(){nn()}),$("#ID_BUTTON_INSTRUCTION").on("click",function(){let e="https://www.nuvoton.com/resource-download.jsp?tp_GUID=UG1320220506173038";dn()?window.vscode.postMessage({action:"openExternal",data:e}):window.open(e)}),$("#ID_BUTTON_MAXCLOCK").on("click",function(){var e,t;t=[],dt(),dialogContent='<div id="MaxClockTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="MaxClockDialog">'+dialogContent+"</div>").dialog({modal:!1,resizable:!1,title:"Max Clock",width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#MaxClockDialog").dialog("destroy")}}),e=(t=function(){var e,t,n,i,o="HXT".toEquivalent().toString(),l="LXT".toEquivalent().toString(),a="HIRC".toEquivalent().toString(),r="HIRC2".toEquivalent().toString(),s="HIRC48".toEquivalent().toString(),C="LIRC".toEquivalent().toString(),L="HCLK".toEquivalent().toString(),d="PWRCON".toEquivalent().toString(),c="XTL32K_EN".toEquivalent().toString(),O="XTL12M_EN".toEquivalent().toString(),f="STCLK_S/SYST_CSR[2]".toEquivalent().toString().sliceAfterX("/"),T=[],u=0,p=_t(NUTOOL_CLOCK.g_Module),g=[],K=[];const h=function(e){let t=0;for(let n=0,i=N.length;n<i;n+=1){const i=N[n];for(let n=0,o=NUTOOL_CLOCK.g_register_map[i].length;n<o;n+=1){const o=NUTOOL_CLOCK.g_register_map[i][n];if(-1!==o.indexOf(e)&&o.indexOf(":")===e.length){t=-1!==o.indexOf("-")?parseInt(o.sliceBetweenXandX(":","-"),10)-parseInt(o.sliceAfterX("-"),10)+1:parseInt(o.sliceAfterX(":"),10),t=Math.pow(2,t)-1;break}}}return t},S=function(){p.sort();for(let e=0,n=p.length;e<n;e+=1){const n=p[e];g[n]=0;const o=NUTOOL_CLOCK.g_Module[n][0].split("/");for(t of o){let e=0;if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(t))for(let n=0,o=NUTOOL_CLOCK.g_CLKSEL[t].length;n<o;n+=1){let o=1;-1!==(i=NUTOOL_CLOCK.g_CLKSEL[t][n].slicePriorToX(":")).indexOf("/")&&(o=parseInt(i.sliceAfterX("/"),10),i=i.slicePriorToX("/")),xe.hasOwnProperty(i)&&(e=Math.max(e,xe[i]/o))}else t===f?e=xe[L]:xe.hasOwnProperty(t)?e=xe[t]:Tt(t)&&(g[n]=g[n]/parseInt(t,10));g[n]=Math.max(g[n],e)}"CLKO_Divider"===n&&(g[n]=g[n]/2)}};(function(){0!==NUTOOL_CLOCK.g_HIRCfrequency&&(xe[a]=0===NUTOOL_CLOCK.g_HIRCfrequencyArray.length?NUTOOL_CLOCK.g_HIRCfrequency:Math.max(...NUTOOL_CLOCK.g_HIRCfrequencyArray)),0!==NUTOOL_CLOCK.g_HIRC2frequency&&(xe[r]=0===NUTOOL_CLOCK.g_HIRC2frequencyArray.length?NUTOOL_CLOCK.g_HIRC2frequency:Math.max(...NUTOOL_CLOCK.g_HIRC2frequencyArray)),0!==NUTOOL_CLOCK.g_HIRC48frequency&&(xe[s]=NUTOOL_CLOCK.g_HIRC48frequency),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(xe[C]=NUTOOL_CLOCK.g_LIRCfrequency),0!==NUTOOL_CLOCK.g_MIRCfrequency&&(xe.MIRC=NUTOOL_CLOCK.g_MIRCfrequency),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&(xe.MIRC1P2M=NUTOOL_CLOCK.g_MIRC1P2Mfrequency),0!==_.filter(NUTOOL_CLOCK.g_register_map[d],function(e){return-1!==e.indexOf(c+":")}).length&&(xe[l]=32768),-1!==It("LIRC32KEN")&&(xe.LIRC32K=32e3),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(xe.RTC32k=NUTOOL_CLOCK.g_RTC32kfrequency),0!==_.filter(NUTOOL_CLOCK.g_register_map[d],function(e){return-1!==e.indexOf(O+":")}).length&&(xe[o]=1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10),u=1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").sliceAfterX(" ").slicePriorToX("MHz"),10)),0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&(xe.HSUSB_OTG_PHY=NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency);for(const e in NUTOOL_CLOCK.g_PLLs){xe[e]=NUTOOL_CLOCK.g_PLLs[e].FOUT[1],T[e]=NUTOOL_CLOCK.g_PLLs[e].FOUT[0];const t=gn(e,u,xe[e]);t>0&&(xe[o]=t)}for(const l in NUTOOL_CLOCK.g_HCLKs){if(e=0,t=NUTOOL_CLOCK.g_HCLKs[l][0],n=NUTOOL_CLOCK.g_HCLKs[l][1],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(t)){for(let a=0,r=NUTOOL_CLOCK.g_CLKSEL[t].length;a<r;a+=1)if(i=NUTOOL_CLOCK.g_CLKSEL[t][a].slicePriorToX(":"),xe.hasOwnProperty(i)){let t=xe[i];if(l===L&&void 0!==n&&NUTOOL_CLOCK.g_CPUCLKLimit<t&&T.hasOwnProperty(i)){const e=h(n),l=Math.min(Math.max(Math.floor(t/NUTOOL_CLOCK.g_CPUCLKLimit),1),e+1);t=NUTOOL_CLOCK.g_CPUCLKLimit,xe[i]=NUTOOL_CLOCK.g_CPUCLKLimit*l;const a=gn(i,u,xe[i]);a>0&&(xe[o]=a)}e=Math.max(e,t)}}else xe.hasOwnProperty(t)&&(e=xe[t]);xe[l]=e}for(const e in NUTOOL_CLOCK.g_PCLKs)NUTOOL_CLOCK.g_PCLKs[e].length>0&&(xe[e]=xe[NUTOOL_CLOCK.g_PCLKs[e][0]])})(),S();for(const e in xe)if(xe.hasOwnProperty(e)){let t={};t.module=e,t.maxClock=xe[e].toHzString(),K.push(t)}for(const e in g)if(g.hasOwnProperty(e)){let t={};t.module=e,t.maxClock=g[e].toHzString(),K.push(t)}return K}()).length>10?"350px":"100%",t.length>0&&new Tabulator("#MaxClockTable",{height:e,data:t,layout:"fitColumns",columns:[{title:"Module",field:"module"},{title:"Max Clock",field:"maxClock"}]})}),$(window.document).keydown(function(e){e.altKey&&"m"===e.key.toLowerCase()&&$("#ID_BUTTON_MAXCLOCK").toggle()}),on(),function(){function e(e){e.split(/\r\n|\n/).filter(function(e){return new RegExp(".*[^/]{.*0x.*[PROJ].*}").test(e)}).forEach(function(e){if(-1==e.indexOf("not release")){let t=e.substring(e.indexOf('"')+1,e.lastIndexOf('"')),n=e.substring(e.indexOf("0x"),e.lastIndexOf("PROJ")-2),i=e.substring(e.indexOf("PROJ"),e.lastIndexOf("}"));we.push(t+"-"+n+"-"+i)}})}if(dn())$.ajax({url:window.extensionResource+"/src/PartNumID.cpp"}).done(function(t){e(t)});else{e($.ajax({url:"./src/PartNumID.cpp",async:!1}).responseText)}}(),Tn(),cn()?(window.electronAPI.onConnected((e,t)=>{console.log("electronAPI: onConnected"),window.electronAPI.send("getPIDValue")}),window.electronAPI.onReturnPIDValue((e,t)=>{console.log("electronAPI: onReturnPIDValue "+t),c=_n(t),console.log("connected device: "+c);const n=Sn(c);""!==n?Mn(n):(window.electronAPI.send("connectComplete"),At(),Et("请切换至与连接芯片相符合的芯片系列。","請切換至與連接晶片相符合的晶片系列。","Please switch to the Chip Series that matches the connected chip."))}),window.electronAPI.onReturnRegisterValue((e,t,n)=>{console.log("electronAPI: onReturnRegisterValue"),Ln(t,n,Sn(c))}),window.electronAPI.onDisconnect((e,t)=>{console.log("electronAPI: onDisconnect")}),window.electronAPI.onWarning((e,t)=>{console.warn(t)}),$("#ID_BUTTON_ZOOM_IN").show(),$("#ID_BUTTON_BEST_FIT").show(),$("#ID_BUTTON_ZOOM_OUT").show()):dn()?(window.vscode=window.vscode||acquireVsCodeApi(),window.alert=function(e){window.vscode.postMessage({action:"showWarningMessage",data:e})},window.addEventListener("message",e=>{let t=e.data.action,n=e.data.data;switch(t){case"connected":console.log("extension: connected"),window.vscode.postMessage({action:"getPIDValue"});break;case"returnPIDValue":console.log("extension: returnPIDValue");const e=Sn(c=_n(n));""!==e?Mn(e):(At(),Et("请切换至与连接芯片相符合的芯片系列。","請切換至與連接晶片相符合的晶片系列。","Please switch to the Chip Series that matches the connected chip."));break;case"returnRegisterValue":console.log("extension: returnRegisterValue"),Ln(n.result,n.type,Sn(c));break;case"disconnect":console.log("extension: disconnect");break;default:console.warn(t+" is not supported")}}),$("#ID_BUTTON_LANGUAGE").hide()):window.Worker&&((O=new Worker("./src/worker/webusb.worker-bundle.js")).onmessage=async function(e){let t=e.data.action,n=e.data;if("connected"==t)console.log("worker: connected"),O.postMessage({action:"getPIDValue"});else if("returnPIDValue"==t){console.log("worker: returnPIDValue");const e=Sn(c=_n(n.value));""!==e?Mn(e):(O.postMessage({action:"connectComplete"}),At(),Et("请切换至与连接芯片相符合的芯片系列。","請切換至與連接晶片相符合的晶片系列。","Please switch to the Chip Series that matches the connected chip."))}else"returnRegisterValue"==t?(console.log("worker: returnRegisterValue"),Ln(n.result,n.type,Sn(c))):"disconnect"==t&&(console.log("worker: disconnect"),!1)}),$("#versionCode").text(e)},ut.prototype.drawWithArrowheads=function(e,t){var n,i;e.strokeStyle="black",e.fillStyle="black",e.lineWidth=1,e.beginPath(),e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2),e.stroke(),t&&(n=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),n+=(this.x2>this.x1?-90:90)*Math.PI/180,this.drawArrowhead(e,this.x1,this.y1,n)),i=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),i+=(this.x2>this.x1?90:-90)*Math.PI/180,this.drawArrowhead(e,this.x2,this.y2,i)},ut.prototype.drawArrowhead=function(e,t,n,i){e.save(),e.beginPath(),e.translate(t,n),e.rotate(i),e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath(),e.restore(),e.fill()},NUTOOL_CLOCK={getg_chipType:function(){return u},getg_partNumber_package:function(){return g},getg_clockRegsString:function(){return r},getg_clockRegsString1:function(){return s},getg_clockRegsString2:function(){return C},getg_userSelectUIlanguage:function(){return L},isFieldBe1:Ut,isEnabled:vt,initializationByTest:function(){var e,t;for(gt(),N=_t(NUTOOL_CLOCK.g_register_map_default),h=[],NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",e=0,t=N.length;e<t;e+=1)h[N[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[N[e]],16);x=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,"NUC400"===u&&(0===m&&(m=84e6),0===F&&(F=24e7)),"NUC505"===u?(0===m&&(m=24e7),0===X&&(X=24e7)):0===u.indexOf("M460")?(0===m&&(m=72e6),0===w&&(w=72e6)):"M433"===u||"M451"===u||0===u.indexOf("M480")?0===m&&(m=72e6):"M55M1"===u||"M5531"===u?(0===m&&(m=144e6),0===X&&(X=144e6)):"MINI58"===u?0===m&&(m=5e7):"NANO100AN"===u||"NANO100BN"===u||"NUC121AE"===u||0===u.indexOf("M030")||0===u.indexOf("M031")?0===m&&(m=96e6):"NUC1262"===u||"NUC1263"===u||"M2L31"===u?0===m&&(m=144e6):"NANO112"===u||"NANO103"===u?0===m&&(m=16e6):0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?0===m&&(m=1e8):0===m&&(m=48e6),Kt()},reportBaseClockFrequencies:function(){var e="",t="HXT".toEquivalent().toString(),n="LXT".toEquivalent().toString(),i="PLL".toEquivalent().toString(),o="APLL".toEquivalent().toString(),l="HIRC".toEquivalent().toString(),a="HIRC2".toEquivalent().toString(),r="HIRC48".toEquivalent().toString(),s="LIRC".toEquivalent().toString(),C="HCLK".toEquivalent().toString(),L="HCLK0".toEquivalent().toString(),_="HCLK1".toEquivalent().toString(),d="HCLK2".toEquivalent().toString(),c="PCLK".toEquivalent().toString(),O="PCLK0".toEquivalent().toString(),f="PCLK1".toEquivalent().toString(),T="PCLK2".toEquivalent().toString(),p="PCLK0SEL".toEquivalent().toString(),g="PCLK1SEL".toEquivalent().toString(),K="PCLK2SEL".toEquivalent().toString();P>0&&(e=0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?s+": "+P.toHzString():"LIRC: "+P.toHzString()),b>0&&(e+=" / "+l+": "+b.toHzString()),U>0&&(e+=" / "+a+": "+U.toHzString()),v>0&&(e+=" / "+r+": "+v.toHzString()),k>0&&(e+=" / MIRC: "+k.toHzString()),I>0&&(e+=" / MIRC1P2M: "+I.toHzString()),A>0&&(e+=" / "+n+": "+A.toHzString()),y>0&&(e+=" / "+t+": "+y.toHzString()),R>0&&(e+=" / RTC32k: "+R.toHzString()),m>0&&(e+=" / "+i+": "+m.toHzString()),F>0&&(e+=" / PLL2: "+F.toHzString()),H>0&&(e+=" / PLL480M: "+H.toHzString()),X>0&&(e+=" / "+o+": "+X.toHzString()),w>0&&(e+=" / PLLFN: "+w.toHzString()),D>0&&(e+=" / HSUSB_OTG_PHY: "+D.toHzString()),B>0&&(e+=" / "+C+": "+B.toHzString()),z>0&&(e+=" / "+L+": "+z.toHzString()),W>0&&(e+=" / "+_+": "+W.toHzString()),V>0&&(e+=" / "+d+": "+V.toHzString()),q>0&&(e+=" / ACLK: "+q.toHzString()),G>0&&(e+=" / "+c+": "+G.toHzString());var h=NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV");return Y>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(p)||h&&-1!==It("PCLK0DIV"))&&(e+=" / "+O+": "+Y.toHzString()),Z>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(g)||h&&-1!==It("PCLK1DIV"))&&(e+=" / "+f+": "+Z.toHzString()),J>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(K)||h&&-1!==It("PCLK2DIV"))&&(e+=" / "+T+": "+J.toHzString()),Q>0&&h&&-1!==It("PCLK3DIV")&&(e+=" / PCLK3: "+Q.toHzString()),ee>0&&h&&-1!==It("PCLK4DIV")&&(e+=" / PCLK4: "+ee.toHzString()),0===e.indexOf(" / ")&&(e=e.sliceAfterX(" / ")),e},doubleClickD3Node:kt,dragD3Node:function(e,t){var n=window.document.createEvent("Event"),i=window.document.createEvent("Event"),o=window.document.createEvent("Event");n.initEvent("mousedown",!0,!0),i.initEvent("mousemove",!0,!0),o.initEvent("mouseup",!0,!0),d3.select("#"+e.id)[0][0].dispatchEvent(n),d3.select("#"+e.id)[0][0].dispatchEvent(i),d3.select("#"+e.id).select(".ghostCircle").on("mouseover")(d3.select("#"+t.id)[0][0].__data__),d3.select("#"+e.id)[0][0].dispatchEvent(o)},clickModuleCanvas:function(e,t){Ue=t,$("#"+e.id+"_canvas").click()},changeDividerDialogInput:function(e,t){$("#dividerConfigureDialog").is(":visible")&&($("#"+e+"_input_dialog").val(t),$("#dividerConfigureDialog").dialog("option","buttons")[0].click())},retrieveNodeTooltip:function(){return Pe},retrieveGenerateCodeContent:function(e){var t;return 0===e?yt():1===e?(be="",mt("functionalTest")):2===e?mt("partial"):3===e?(t=be,be=""):4===e?function(){var e,t,n,i,o,l,a,s,C="HCLK".toEquivalent().toString(),L="HCLK_S".toEquivalent().toString(),_="HCLK_N".toEquivalent().toString(),d="HXTWAIT".toEquivalent().toString(),c="XTL12M_EN".toEquivalent().toString();if(Ae=!0,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(r+="\n    /* Check more... */\n",o=d,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)$("#"+c+"_select").val(NUTOOL_CLOCK.g_CLKSEL[d][e].slicePriorToX(":")),r+="    CLK_EnableHXO(HXO_WCYCLE_"+$("#"+c+"_select").val()+");\n";r+="    CLK_DisableHXO();\n"}for(o="BASESEL",r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(Ue=e,$("#HCLK_canvas").click(),-1!==(s=It(l="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SelectBASECLK(SELECT_"+a+");\n"}if(o="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(Ue=e,$("#HCLK_canvas1").click(),-1!==(s=It(l="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetCPUCLK(CPUCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}if(o="IOCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(Ue=e,$("#PCLK_canvas").click(),-1!==(s=It(l="IOCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetIOCLK(IOCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}}else for(r+="\n    /* Check more. Set "+C+" clock */\n",o=L,e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)Ue=e,$("#HCLK_canvas").click(),r+="    CLK_SetHCLK("+Ht(C,L,_)+");\n";Ae=!1}():($t(),t=r),t},checkD3NodeFrequency:function(e){var t,n,i,o,l,a,r,s,C;if(e=e.id,l=0,"none"!==NUTOOL_CLOCK.g_Module[e][2]&&(l=It(NUTOOL_CLOCK.g_Module[e][2])),i="","SYSTICK"!==e){if(i=a=NUTOOL_CLOCK.g_Module[e][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],C=parseInt(s.sliceAfterX(":"),10),s=s.slicePriorToX(":"),o=It(i)+(It(s)<<C)>>>0):o=It(i),-1!==o&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o.toString()){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else if(0===u.indexOf("KM1M7CF"))i=1==(o=It("CLKSRC").toString())?"CPUCLK":0==(o=It("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(Ut("CLKSRC"))i="CPUCLK";else if(o=It(a="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a)){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else i=NUTOOL_CLOCK.g_Module[e][0];return(r=e==="CLKO_Divider".toEquivalent().toString()||e==="CLKO1_Divider".toEquivalent().toString()?et(i)/Math.pow(2,l+1):et(i)/(l+1)).toHzString()===$("#"+e+"_span_showRealFreq").text()?e+" clock is "+$("#"+e+"_span_showRealFreq").text()+".":"Failed: "+e+" clock ("+$("#"+e+"_span_showRealFreq").text()+") is not equal to the result from registers ("+r.toHzString()+")."},decideNewChipType:nt,readValueFromClockRegs:It,uncheckAllNodes_core:Rt,setg_selectedPartNoValue:function(e){p=e},loadClockConfigureTool:rn,getGeneratedClockStatus:function(){var e,t,n,i,o,l,a,C,L,_=_t(NUTOOL_CLOCK.g_Module),d={};for(r=":",e=0,n=_.length;e<n;e+=1){if(o=_[e],r+=o+"/:",a=[],C=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))a.push(l);else{for(;-1!==l.indexOf("/")&&(a.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((C+=1)>10)););a.push(l)}for(L=!0,t=0,i=a.length;t<i;t+=1)if(!vt(a[t])){L=!1;break}L&&(r+=o+"=Enabled:",d[o]=$("#"+o+"_span_showRealFreq").text().trim())}s=JSON.stringify(d)},concatenate_generated_code_begin:yt,showLeftPanel:wt,loadConfig_core:Dt,saveConfig:qt,generateCode:zt,concatenate_g_clockRegsString:Vt,concatenate_generated_code:Gt,concatenate_generated_modularizedCode:Yt,pageRefresh:jt,switchD3ClockTree:Zt,zoomIn:Jt,bestFit:Qt,zoomOut:en,uncheckAllNodes:tn,setLanguage:nn,changeUIlanguage:on,executePDFfail:function(){Et("您的电脑不能执从PDF档。请安装必要的软件来支援它。","您的電腦不能執從PDF檔。請安裝必要的軟件來支援它。","Your PC is incapable of executing the PDF files. Please install a necessary software to support it.")},handleEnter:function(){$("#"+l).change()},redrawForResizingDialog:function(){var e=$("#tabs");ot(),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),e.css({left:f+8+"px"})):(e.css("width",n-8+"px"),e.css({left:"0px"})),e.css("height",o-8+"px"),$("#tab-4").css("width",n-f-8+"px"),$("#tab-4").css("height",o-8+"px"),e=null},recordConfig:ln,closeAPP:function(){Mt(xt)&&Pt(function(){Bt()})},g_readConfigFilePath:"",g_readConfigFileContentText:"",g_clockFunctionString:""}}();