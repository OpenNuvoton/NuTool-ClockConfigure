var NUTOOL_CLOCK={};!function(){const e="V1.09.0001";var t,n,o,l,a,r,s,C,L,d,c,O,f=250,T=["KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF","M030G","M031","M051","M0518","M0519","M0564","M0A21","M2003C","M2351","M251","M261","M451","M460","M480","MINI51","NANO100","NM1200","NM1500","NUC029","NUC100","NUC200","NUC400","NUC505"],p="",g="",u="",h={getContext:null,removeContext:null,addEvent:null,triggerEvent:null},K=[],S=[],N=[],x=[],M=1,b=1,E=0,P=0,U=0,v=0,k=0,R=0,I=0,m=0,A=0,y=0,w=0,X=0,F=0,H=0,D=0,B=0,q=0,z=0,W=0,V=0,G=0,Y=0,Z=0,J=0,Q=0,ee=0,te=0,ne=0,ie=0,oe=0,le=0,ae=0,re=0,se=0,Ce=0,_e=0,Le=0,de=0,ce=[],Oe="",fe="",Te="",pe=-1,ge=null,ue="NuMicro",he=" Nuvoton Technology Corp.",Ke=!0,Se=!1,Ne=!1,xe=!0,Me=!1,be=!0,Ee=!1,Pe=!1,Ue=!1,ve=!0,ke=!1,Re=[];function Ie(e){$("#tabs");var t,n,i,o,l,r,s,C,d,c,O,f,T,g,K,S,N,b,E,j,Y,Z,J,Q,ee,te,ne,ie,oe,le,ae,re,se,Ce,_e,Le,de,Te,ue,he,Se,Ne,xe,Me,be,Pe,ve,ke,Re,Ie,$e,Ae={},ye=[],we=[],Xe=[],Fe=[],He=[],De=[],Be=[],qe=[],We=[],Ve=[],je=[],Ge=[],et=[],lt=[],at=[],Ct=[],_t=[],Lt=[],dt=[],ct=[],Ot=[],ft=[],Tt=[],pt=[],gt=nt(NUTOOL_CLOCK.g_Module),St="OSC10K_EN".toEquivalent().toString(),xt="OSC22M_EN".toEquivalent().toString(),Mt="OSC22M2_EN".toEquivalent().toString(),bt="XTL32K_EN".toEquivalent().toString(),Et="XTL12M_EN".toEquivalent().toString(),Pt="PWRCON".toEquivalent().toString(),Ut="HCLK_S".toEquivalent().toString(),vt="STCLK_S".toEquivalent().toString(),kt="CLKO".toEquivalent().toString(),Rt="CLKO_Divider".toEquivalent().toString(),It="CLKO1".toEquivalent().toString(),mt="CLKO1_Divider".toEquivalent().toString(),$t="SYST_CSR".toEquivalent().toString(),yt="_S".toEquivalent().toString(),wt="HXT".toEquivalent().toString(),Xt="PLL".toEquivalent().toString(),Ft="HIRC".toEquivalent().toString(),Ht="HIRC2".toEquivalent().toString(),Dt="LIRC".toEquivalent().toString(),Bt="HCLK".toEquivalent().toString(),qt="PCLK".toEquivalent().toString(),zt=!1;if(Z=function(e,t){"CPUCLK"===(e=e.slicePriorToX("/").toString())?we.push(t):"LIRC"===e||e===Dt?Xe.push(t):"HIRC48"===e?De.push(t):e===Ft?Fe.push(t):e===Ht?He.push(t):"MIRC"===e?Be.push(t):"MIRC1P2M"===e?qe.push(t):"RTC32k"===e?We.push(t):"LXT"===e?Ve.push(t):e===wt?je.push(t):e===Xt?Ge.push(t):"PLL2"===e?et.push(t):"PLL480M"===e?lt.push(t):"APLL"===e?at.push(t):"PLLFN"===e?Ct.push(t):"HSUSB_OTG_PHY"===e?_t.push(t):e===Bt?Lt.push(t):e===qt?dt.push(t):"PCLK0"===e?ct.push(t):"PCLK1"===e?Ot.push(t):"PCLK2"===e?ft.push(t):!Ke&&window.console&&window.console.log("ERROR! In pushRelationshipChildren, An error happened. Cannot find mother: "+e)},J=function(e){var t,n,i,o={},l=[],a=[];for(t=0,n=e.length;t<n;t+=1)(o={}).name=e[t],-1!==(i=$.inArray(o.name,Tt))?(o.enabled=1,o.freq=pt[i]):(o.enabled=0,o.freq=-1),(l="CPUCLK"===o.name?we:"LIRC"===o.name||o.name===Dt?Xe:"HIRC48"===o.name?De:o.name===Ft?Fe:o.name===Ht?He:"MIRC"===o.name?Be:"MIRC1P2M"===o.name?qe:"RTC32k"===o.name?We:"LXT"===o.name?Ve:o.name===wt?je:o.name===Xt?Ge:"PLL2"===o.name?et:"PLL480M"===o.name?lt:"APLL"===o.name?at:"PLLFN"===o.name?Ct:"HSUSB_OTG_PHY"===o.name?_t:o.name===Bt?Lt:o.name===qt?dt:"PCLK0"===o.name?ct:"PCLK1"===o.name?Ot:"PCLK2"===o.name?ft:{}).length>0&&(o.children=J(l)),(Ue&&o.enabled||!Ue)&&a.push(o);return a},Q=function(e,t){t?te(e):ee(e,!0)},ee=function(e,t){var n,l=!0;if(!Ke&&window.console&&window.console.log("In check_d3node, currentNodeName:"+e+" / bCreateCanvas:"+t),void 0===t&&(t=!1),d3.selectAll("g.node").each((function(t){t.name===e&&(n=t)})),!function(e){if(void 0!==e.parent)return Jt(e.parent)?1:(-1!==L.indexOf("Simplified")?ut("因前面的时脉源是关闭状态，所以"+e.name+" 不能被开启。"):-1!==L.indexOf("Traditional")?ut("因前面的時脈源是關閉狀態，所以"+e.name+" 不能被開啟。"):ut("Since the preceding clock source is disabled, "+e.name+" cannot be enabled."),0)}(n))return l=!1;if(void 0!==NUTOOL_CLOCK.g_Module[e]){if(e===kt?(te(Rt),te("CLKO_1Hz")):e===Rt&&(te(kt),te("CLKO_1Hz")),e===It?te(mt):e===mt?te(It):"CLKO_1Hz"==e&&(te(kt),te(Rt)),t?($("#"+Oe+"_div")[0]&&($("#"+Oe+"_div").hide(),$("#"+Oe+"_canvas").hide(),$("#"+Oe+"_div_protection").hide(),$("#"+Oe+"_div_showRealFreq").hide()),e===kt||e===Rt||e===It||e===mt?function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,T,p,g,u,K,S,N,M,b,E,P,U,v,k,R,I,m,A,y,w,X,F,H,D,B,q,z=[],W="",V=[],j=0,G=!0,Y=20,Z=20,J=20,Q=0,ee=45,te=30,ne=[],ie=[],oe=0,le=0,ae=[],re="#C62A39",se="#DF630E",Ce="#BC8484";w=function(){for((g=h.getContext(p[0])).font="18px Arial",g.fillStyle="black",u=Y,Q=0,ne=[],l=0,r=V.length;l<r;l+=1)ne.push(V[l]+": "+ze(V[l]).toHzString()),g.measureText(ne[ne.length-1]).width>Q&&(Q=g.measureText(ne[ne.length-1]).width),-1!==$.inArray(V[l].slicePriorToX("/").toString(),ce)?ie[l]="black":ie[l]=Ce;if(Q+=30,V.length>1?"none"===o?(oe=Y+Q+te+ee+g.measureText(t).width+Y,le=2*Z+22*(V.length-1)+2*J):(S=ee+g.measureText("1/2^("+o+": 0 + 1)").width,oe=Y+Q+te+S+ee+g.measureText(t).width+Y,le=2*Z+22*(V.length-1)+2*J):"none"===o?(oe=Y+Q+g.measureText(t).width+Y,le=2*Z+2*J):(oe=Y+Q+g.measureText("1/2^("+o+" + 1)").width+ee+g.measureText(t).width+Y,le=2*Z+2*J),p[0].setAttribute("width",oe),p[0].setAttribute("height",le),g.font="18px Arial",g.fillStyle="black",u=Y,ae=[],(P={}).name="",V.length>1){for(l=0,r=V.length;l<r;l+=1)K=Z+22*l+J,g.fillStyle=ie[l],g.fillText(ne[l],u,K),new st(u,K+2,u+Q,K+2).drawWithArrowheads(g),ae.push({name:ne[l],x:u,y:K,textLength:g.measureText(ne[l]).width,color:ie[l],lastColor:ie[l]});g.beginPath(),g.moveTo(Y+Q,Z),g.lineTo(Y+Q,Z+22*(V.length-1)+2*J),g.lineTo(Y+Q+te,Z+22*(V.length-1)+J),g.lineTo(Y+Q+te,Z+J),g.lineTo(Y+Q,Z),g.stroke(),S=0,"none"!==o&&(new st(Y+Q+te,Z+22*(V.length-1)/2+J,Y+Q+te+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(g),S+=ee,u=Y+Q+te+ee,K=Z+22*(V.length-1)/2+J+9-2,g.fillText("1/2^("+o+": 0 + 1)",u,K),S+=g.measureText("1/2^("+o+": 0 + 1)").width,P={name:"1/2^("+o+": 0 + 1)",x:u,y:K,textLength:g.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new st(Y+Q+te+S,Z+22*(V.length-1)/2+J,Y+Q+te+S+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(g),g.fillText(t,Y+Q+te+S+ee,Z+22*(V.length-1)/2+J+9-2)}else K=Z+J,g.fillText(ne[0],u,K),new st(u,K+2,u+Q,K+2).drawWithArrowheads(g),ae.push({name:ne[0],x:u,y:K,textLength:g.measureText(ne[0]).width,color:ie[0],lastColor:ie[0]}),S=0,"none"!==o?(u=Y+Q,g.fillText("1/2^("+o+": 0 + 1)",u,K+9-2),S+=g.measureText("1/2^("+o+": 0 + 1)").width,P={name:"1/2^("+o+": 0 + 1)",x:u,y:K+9-2,textLength:g.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"},new st(Y+Q+S,K,Y+Q+S+ee,K).drawWithArrowheads(g),g.fillText(t,Y+Q+S+ee,K+9-2)):g.fillText(t,Y+Q,K+9-2);_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*oe/3+2)+"px;height:"+(20+le+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; top:"+(70+le+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE"),X()},F=function(e,t){return N=e.getBoundingClientRect(),M=t.clientX-N.left,b=t.clientY-N.top,this},H=function(){for(E=!1,l=0,r=ae.length;l<r;l+=1)M>=ae[l].x&&M<=ae[l].x+ae[l].textLength&&b>=ae[l].y-18-3&&b<=ae[l].y?ae[l].color!==se&&(ae[l].lastColor=ae[l].color,ae[l].color=se,E=!0):ae[l].color!==ae[l].lastColor&&(ae[l].color=ae[l].lastColor,E=!0);if(E)for(l=0,r=ae.length;l<r;l+=1)g.fillStyle="#FFFFFF",g.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),g.fillStyle=ae[l].color,g.fillText(ae[l].name,ae[l].x,ae[l].y);E=!1,P.name&&(M>=P.x&&M<=P.x+P.textLength&&b>=P.y-18&&b<=P.y?P.color!==se&&(P.lastColor=P.color,P.color=se,E=!0):P.color!==P.lastColor&&(P.color=P.lastColor,E=!0)),E&&(g.fillStyle="#FFFFFF",g.fillRect(P.x,P.y-18,P.textLength,25),g.fillStyle=P.color,g.fillText(P.name,P.x,P.y))},B=function(){var e,n;for(R=0,e=0,n=ae.length;e<n;e+=1){if(ae[e].color===re){c=ae[e].name,R=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(P.name){if(P.color!==re)return this;R/=Math.pow(2,a+1)}return $("#"+t+"_span_showRealFreq").text(R.toHzString()),!Ke&&window.console&&window.console.log("In createCLKOCanvas, "+t+"'s clock:"+R.toHzString()),this},q=function(e){for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),l=0,r=x.length;l<r;l+=1)for(d=x[l],s=0,C=NUTOOL_CLOCK.g_register_map[d].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][s]).indexOf(e)&&c.indexOf(":")===e.length){j=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),j=Math.pow(2,j)-1;break}-1!==L.indexOf("Simplified")?(U="请设置值给除频器"+e+"。合理的范围从0到"+j+"。",v="设置值给除频器",k="确认"):-1!==L.indexOf("Traditional")?(U="請設置值給除頻器"+e+"。合理的範圍從0到"+j+"。",v="設置值給除頻器",k="確認"):(U="Please configure a value to "+e+". The feasible range is from 0 to "+j+".",v="Configure a value to the divider",k="Confirm"),$('<div id="dividerConfigureDialog"><p>'+U+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:v,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:k,click:function(){a=parseInt($("#"+e+"_input_dialog").val(),10),P.name="1/2^("+e+": "+a+" + 1)",g.fillStyle="#FFFFFF",P.textLength=g.measureText(P.name).width,g.fillRect(P.x,P.y-18,P.textLength,25),g.fillStyle=P.lastColor=P.color=re,P.x=P.x+(P.textLength-g.measureText(P.name).width)/2,g.fillText(P.name,P.x,P.y),A=Nt(NUTOOL_CLOCK.g_Module[t][2]),tt(e,a),B(),ge.selectAll("g.node").on("updateFromDividerDialog")(t,!0,A),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),"none"!==NUTOOL_CLOCK.g_Module[t][2]&&$("#"+e+"_input_dialog").val(Nt(NUTOOL_CLOCK.g_Module[t][2])).width(35),$("#"+e+"_input_dialog").width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>j||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val(Nt(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again."))}))},X=function(){if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=Nt(NUTOOL_CLOCK.g_Module[t][2]),P.name="1/2^("+o+": "+a+" + 1)",g.fillStyle="#FFFFFF",P.textLength=g.measureText(P.name).width,g.fillRect(P.x,P.y-18,P.textLength,25),g.fillStyle=P.lastColor=P.color=re,P.x=P.x+(P.textLength-g.measureText(P.name).width)/2,g.fillText(P.name,P.x,P.y)),I="",c=NUTOOL_CLOCK.g_Module[t][0],-1!==(m=Nt(c).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===m){I=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}if(m=ae.length,""!==I)for(l=0,r=ae.length;l<r;l+=1)if(-1!==(c=ae[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(I)&&c.indexOf(":")===I.length&&ae[l].color!==Ce){m=l;break}D(m),G=!1},D=function(e){if(-1!==pe&&100!==pe&&(e=pe),void 0===e&&(e=-1),-1===e)for(l=0,r=ae.length;l<r;l+=1)M>=ae[l].x&&M<=ae[l].x+ae[l].textLength&&b>=ae[l].y-18-3&&b<=ae[l].y&&(e=l);if(e===ae.length)for(l=0,r=ae.length;l<r;l+=1)if(ae[l].color!==Ce){e=l;break}if(A=y=-1,-1!==e&&-1===ae[e].name.indexOf("Disabled"))for(l=0,r=ae.length;l<r;l+=1){if(l===e){if(ae[l].lastColor=ae[l].color=re,-1!==(f=ae[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==f.indexOf(":")&&(f=(T=f).slicePriorToX(":")+"+"+T.sliceAfterX("+")),i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(f)&&c.indexOf(":")===f.length){A=Nt(i),y=parseInt(c.sliceAfterX(":"),10),tt(i,y);break}B(),G||ge.selectAll("g.node").on("updateFromCanvas")(t,f.slicePriorToX("/").toString(),!0,A,y)}else ae[l].color!==Ce&&(ae[l].lastColor=ae[l].color="black");g.fillStyle="#FFFFFF",g.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),g.fillStyle=ae[l].color,g.fillText(ae[l].name,ae[l].x,ae[l].y)}P.name&&(M>=P.x&&M<=P.x+P.textLength&&b>=P.y-18&&b<=P.y||100===pe)&&q(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),V=[],W=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(W))for(z=NUTOOL_CLOCK.g_CLKSEL[W],l=0,r=z.length;l<r;l+=1)i=-1===(i=z[l]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),V.push(z[l].slicePriorToX(":"));$("#"+e)[0].appendChild(ot("canvas",t+"_canvas")),p=$("#"+t+"_canvas"),p[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),h.addEvent(p[0],"mousemove",(function(e){F(p[0],e),H()})),h.addEvent(p[0],"click",(function(){D()})),w()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]):function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,T,g,u,K,S,N,M,b,E,P,U,v,k,R,I,m,A,y,w,X,F,H,D,B,q,z,W,V,j,G,Y,Z=[],J="",Q=[],ee=0,te=!0,ne=20,ie=20,oe=20,le=0,ae=45,re=30,se=[],Ce=[],_e=0,Le=0,de=[],Oe="#C62A39",fe="#DF630E",Te="#BC8484",ue="STCLK_S".toEquivalent().toString(),he="SYST_CSR".toEquivalent().toString(),Se="HXT".toEquivalent().toString(),Ne="PLL".toEquivalent().toString(),xe="HIRC".toEquivalent().toString(),Me="HIRC2".toEquivalent().toString(),be="LIRC".toEquivalent().toString(),Ee="HCLK".toEquivalent().toString(),Pe="PCLK".toEquivalent().toString();q=function(){for((N=h.getContext(S[0])).font="18px Arial",N.fillStyle="black",M=ne,le=0,se=[],Ce=[],l=0,r=Q.length;l<r;l+=1)se.push(Q[l]+": "+ze(Q[l]).toHzString()),N.measureText(se[se.length-1]).width>le&&(le=N.measureText(se[se.length-1]).width),-1!==$.inArray(Q[l].slicePriorToX("/").toString(),ce)||"CPUCLK"===Q[l]?Ce[l]="black":Ce[l]=Te;if(le+=30,Q.length>1?"none"===o?(_e=ne+le+re+ae+N.measureText(t).width+ne,Le=2*ie+22*(Q.length-1)+2*oe):(E=ae+N.measureText("1/("+o+": 0 + 1)").width,_e=ne+le+re+E+ae+N.measureText(t).width+ne,Le=2*ie+22*(Q.length-1)+2*oe):"none"===o?(_e=ne+le+N.measureText(t).width+ne,Le=2*ie+2*oe):(_e=ne+le+N.measureText("1/("+o+": 0 + 1)").width+ae+N.measureText(t).width+ne,Le=2*ie+2*oe),S[0].setAttribute("width",_e),S[0].setAttribute("height",Le),N.font="18px Arial",N.fillStyle="black",M=ne,de=[],(R={}).name="",Q.length>1){for(l=0,r=Q.length;l<r;l+=1)b=ie+22*l+oe,N.fillStyle=Ce[l],N.fillText(se[l],M,b),new st(M,b+2,M+le,b+2).drawWithArrowheads(N),de.push({name:se[l],x:M,y:b,textLength:N.measureText(se[l]).width,color:Ce[l],lastColor:Ce[l]});N.beginPath(),N.moveTo(ne+le,ie),N.lineTo(ne+le,ie+22*(Q.length-1)+2*oe),N.lineTo(ne+le+re,ie+22*(Q.length-1)+oe),N.lineTo(ne+le+re,ie+oe),N.lineTo(ne+le,ie),N.stroke(),E=0,"none"!==o&&(new st(ne+le+re,ie+22*(Q.length-1)/2+oe,ne+le+re+ae,ie+22*(Q.length-1)/2+oe).drawWithArrowheads(N),E+=ae,M=ne+le+re+ae,b=ie+22*(Q.length-1)/2+oe+9-2,N.fillText("1/("+o+": 0 + 1)",M,b),E+=N.measureText("1/("+o+": 0 + 1)").width,R={name:"1/("+o+": 0 + 1)",x:M,y:b,textLength:N.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new st(ne+le+re+E,ie+22*(Q.length-1)/2+oe,ne+le+re+E+ae,ie+22*(Q.length-1)/2+oe).drawWithArrowheads(N),N.fillText(t,ne+le+re+E+ae,ie+22*(Q.length-1)/2+oe+9-2)}else b=ie+oe,N.fillText(se[0],M,b),new st(M,b+2,M+le,b+2).drawWithArrowheads(N),de.push({name:se[0],x:M,y:b,textLength:N.measureText(se[0]).width,color:Ce[0],lastColor:Ce[0]}),E=0,"none"!==o?(M=ne+le,N.fillText("1/("+o+": 0 + 1)",M,b+9-2),E+=N.measureText("1/("+o+": 0 + 1)").width,R={name:"1/("+o+": 0 + 1)",x:M,y:b+9-2,textLength:N.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"},new st(ne+le+E,b,ne+le+E+ae,b).drawWithArrowheads(N),N.fillText(t,ne+le+E+ae,b+9-2)):N.fillText(t,ne+le,b+9-2);_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*_e/3+2)+"px;height:"+(20+Le+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; left:30px; top:"+(70+Le+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE"),z()},W=function(e,t){return P=e.getBoundingClientRect(),U=t.clientX-P.left,v=t.clientY-P.top,this},V=function(){for(k=!1,l=0,r=de.length;l<r;l+=1)U>=de[l].x&&U<=de[l].x+de[l].textLength&&v>=de[l].y-18-3&&v<=de[l].y?de[l].color!==fe&&(de[l].lastColor=de[l].color,de[l].color=fe,k=!0):de[l].color!==de[l].lastColor&&(de[l].color=de[l].lastColor,k=!0);if(k)for(l=0,r=de.length;l<r;l+=1)N.fillStyle="#FFFFFF",N.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),N.fillStyle=de[l].color,N.fillText(de[l].name,de[l].x,de[l].y);k=!1,R.name&&(U>=R.x&&U<=R.x+R.textLength&&v>=R.y-18&&v<=R.y?R.color!==fe&&(R.lastColor=R.color,R.color=fe,k=!0):R.color!==R.lastColor&&(R.color=R.lastColor,k=!0)),k&&(N.fillStyle="#FFFFFF",N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.color,N.fillText(R.name,R.x,R.y))},G=function(){var e,n;for(y=0,e=0,n=de.length;e<n;e+=1){if(de[e].color===Oe){c=de[e].name,y=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(R.name){if(R.color!==Oe)return this;y/=Nt(NUTOOL_CLOCK.g_Module[t][2])+1}return $("#"+t+"_span_showRealFreq").text(y.toHzString()),!Ke&&window.console&&window.console.log("In createModuleCanvas, "+t+"'s clock:"+y.toHzString()),this},Y=function(e){var n,i,o,l,r=!1;for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),n=0,i=x.length;n<i;n+=1)for(d=x[n],o=0,l=NUTOOL_CLOCK.g_register_map[d].length;o<l;o+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][o]).indexOf(e)&&c.indexOf(":")===e.length){ee=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),ee=Math.pow(2,ee)-1;break}-1!==L.indexOf("Simplified")?(I="请设置值给除频器"+e+"。合理的范围从0到"+ee+"。",m="设置值给除频器",A="确认"):-1!==L.indexOf("Traditional")?(I="請設置值給除頻器"+e+"。合理的範圍從0到"+ee+"。",m="設置值給除頻器",A="確認"):(I="Please configure a value to "+e+". The feasible range is from 0 to "+ee+".",m="Configure a value to the divider",A="Confirm"),$('<div id="dividerConfigureDialog"><p>'+I+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:m,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:A,click:function(){for(a=parseInt($("#"+e+"_input_dialog").val(),10),r=!1,n=0,i=de.length;n<i;n+=1)if(-1!==de[n].name.indexOf(e)){r=!0;break}if(r){for(n=0,i=de.length;n<i;n+=1)if(-1!==(c=de[n].name).indexOf(e)){de[n].name=c.slicePriorToX(":")+":"+a+"+1):"+(ze(c.slicePriorToX("/"))/(a+1)).toHzString(),N.fillStyle="#FFFFFF",de[n].textLength=N.measureText(c).width,N.fillRect(de[n].x,de[n].y-18,de[n].textLength,20),N.fillStyle=de[n].lastColor=de[n].color=Oe,N.fillText(de[n].name,de[n].x,de[n].y);break}F=-1}else R.name="1/("+e+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=Oe,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y),F=Nt(NUTOOL_CLOCK.g_Module[t][2]);tt(e,a),G(),ge.selectAll("g.node").on("updateFromDividerDialog")(t,!0,F),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val(Nt(e)).width(35),$("#"+e+"_input_dialog").width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>ee||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val(Nt(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again."))}))},z=function(){if(0===p.indexOf("KM1M7CF")&&"SYSTICK"===t){"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=Nt(NUTOOL_CLOCK.g_Module[t][2]),R.name="1/("+o+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=Oe,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y));var e=Nt("CLKSRC").toString(),n=Nt("STCKSEL").toString();j(X=1==e&&0==n?0:0==e&&0==n?1:2),te=!1}else{if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=Nt(NUTOOL_CLOCK.g_Module[t][2]),R.name="1/("+o+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=Oe,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y)),w="","SYSTICK"!==t){if(c=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(c)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[c][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),X=Nt(c)+(Nt(f)<<T)>>>0):X=Nt(c),-1!==X&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===X.toString()){w=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}}else if(ht("CLKSRC"))w="CPUCLK";else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(ue)){if(X=Nt(c=ue).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===X){w=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}}else w=NUTOOL_CLOCK.g_Module[t][0];if(X=de.length,""!==w)for(l=0,r=de.length;l<r;l+=1)if(-1!==(c=de[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(w)&&c.indexOf(":")===w.length&&de[l].color!==Te){X=l;break}j(X),te=!1}},j=function(e){var n=!1;if(-1!==pe&&100!==pe&&(e=pe),void 0===e&&(e=-1),-1===e)for(l=0,r=de.length;l<r;l+=1)U>=de[l].x&&U<=de[l].x+de[l].textLength&&v>=de[l].y-18-3&&v<=de[l].y&&(e=l,-1!==de[l].name.indexOf("DIV:")&&(n=!0));if(e===de.length)for(l=0,r=de.length;l<r;l+=1)if(de[l].color!==Te){e=l;break}if(F=H=-1,-1!==e&&-1===de[e].name.indexOf("Disabled"))for(l=0,r=de.length;l<r;l+=1){if(l===e){if(de[l].lastColor=de[l].color=Oe,-1!==(u=de[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==u.indexOf(":")&&(u=(K=u).slicePriorToX(":")+"+"+K.sliceAfterX("+")),"SYSTICK"!==t){if(i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(u)&&c.indexOf(":")===u.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),F=Nt(i)+(Nt(f)<<T)>>>0,H=parseInt(c.sliceAfterX(":"),10),g=Math.pow(2,T)-1,B=H-(D=H&g)>>T>>>0,tt(i,D),tt(f,B)):(F=Nt(i),H=parseInt(c.sliceAfterX(":"),10),tt(i,H));break}}else if(0===p.indexOf("KM1M7CF")){for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.CLKSRC.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.CLKSRC[s]).indexOf(u)&&c.indexOf(":")===u.length){tt("CLKSRC",parseInt(c.sliceAfterX(":"),10),"",!1);break}for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.STCKSEL.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.STCKSEL[s]).indexOf(u)&&c.indexOf(":")===u.length){tt("STCKSEL",parseInt(c.sliceAfterX(":"),10),"",!1);break}}else if(-1!==u.indexOf("CPUCLK"))tt("CLKSRC",1,he);else if(tt("CLKSRC",0,he),i=ue,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(u)&&c.indexOf(":")===u.length){tt(i,parseInt(c.sliceAfterX(":"),10),"",!1);break}G(),te||ge.selectAll("g.node").on("updateFromCanvas")(t,u.slicePriorToX("/").toString(),!0,F,H),n&&(w=de[l].name,X=(X=w.sliceAfterX("(")).slicePriorToX(":"),Y(X))}else de[l].color!==Te&&(de[l].lastColor=de[l].color="black");N.fillStyle="#FFFFFF",N.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),N.fillStyle=de[l].color,N.fillText(de[l].name,de[l].x,de[l].y)}R.name&&(U>=R.x&&U<=R.x+R.textLength&&v>=R.y-18&&v<=R.y||100===pe)&&Y(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),Q=[],J=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(-1!==J.indexOf("DIV+"))X=(X=(w=J).sliceAfterX("(")).slicePriorToX("+"),J=w.slicePriorToX("+")+":"+Nt(X)+"+1)",Q.push(J);else if(0===J.indexOf(Ee)||0===J.indexOf("RTC32k")||0===J.indexOf("LIRC")||0===J.indexOf(be)||0===J.indexOf(xe)||0===J.indexOf(Me)||0===J.indexOf("MIRC")||0===J.indexOf("LXT")||0===J.indexOf(Se)||0===J.indexOf(Ne)||0===J.indexOf("PLL2")||0===J.indexOf("PLL480M")||0===J.indexOf("APLL")||0===J.indexOf("PLLFN")||0===J.indexOf("HSUSB_OTG_PHY")||0===J.indexOf(Pe)||0===J.indexOf("PCLK0")||0===J.indexOf("PCLK1")||0===J.indexOf("PCLK2"))Q.push(J);else if(J==="HCLK_S".toEquivalent())Q.push(Ee);else if(J==="PCLK_S".toEquivalent())Q.push(Pe);else if(0===J.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL[ue],l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(0===J.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL.STCKSEL,l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(J))for(Z=NUTOOL_CLOCK.g_CLKSEL[J],l=0,r=Z.length;l<r;l+=1)-1!==(w=Z[l]).indexOf("DIV+")?(X=(X=w.sliceAfterX("(")).slicePriorToX("+"),J=w.slicePriorToX("+")+":"+Nt(X)+"+1)",Q.push(J)):Q.push(w.slicePriorToX(":"));"SYSTICK"===t&&0!==p.indexOf("KM1M7CF")&&Q.push("CPUCLK");$("#"+e)[0].appendChild(ot("canvas",t+"_canvas")),S=$("#"+t+"_canvas"),S[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),h.addEvent(S[0],"mousemove",(function(e){W(S[0],e),V()})),h.addEvent(S[0],"click",(function(){j()})),q()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]),Oe=e):me("tab-4",e,"",""),E=NUTOOL_CLOCK.g_Module[e][1],j=[],Y=0,-1===E.indexOf("/"))j.push(E);else{for(;-1!==E.indexOf("/")&&(j.push(E.slicePriorToX("/")),E=E.sliceAfterX("/"),!((Y+=1)>10)););j.push(E)}for(i=0,o=j.length;i<o;i+=1)tt(j[i],1,"",Ee);Tt.push(e),pt.push($("#"+e+"_span_showRealFreq").text()),d3.selectAll("g.node").each((function(t){t.name===e&&(t.enabled=1,t.freq=$("#"+e+"_span_showRealFreq").text())})),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1===$.inArray("WDT",Tt)&&(ee("WDT")||te("WWDT")):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1===$.inArray("WWDT",Tt)&&(ee("WWDT")||te("WDT")),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1===$.inArray("EWDT",Tt)&&(ee("EWDT")||te("EWWDT")):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1===$.inArray("EWWDT",Tt)&&(ee("EWWDT")||te("EWDT")):"CLKO_1Hz"===e?void 0!==NUTOOL_CLOCK.g_Module.RTC&&-1===$.inArray("RTC",Tt)&&(ee("RTC")||te("CLKO_1Hz")):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1===$.inArray("HSUSBH",Tt)&&(ee("HSUSBH")||te("USBH")):"HSUSBH"===e&&void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1===$.inArray("USBH",Tt)&&(ee("USBH")||te("HSUSBH"))}return l},te=function(e,t){var n;if(t=void 0!==t?t:[],!Ke&&window.console&&window.console.log("In uncheck_d3node, currentNodeName:"+e),void 0!==NUTOOL_CLOCK.g_Module[e]){if($("#"+e+"_div").remove(),$("#"+e+"_canvas").remove(),$("#"+e+"_div_protection").remove(),$("#"+e+"_div_showRealFreq").remove(),E=NUTOOL_CLOCK.g_Module[e][1],j=[],Y=0,-1===E.indexOf("/"))j.push(E);else{for(;-1!==E.indexOf("/")&&(j.push(E.slicePriorToX("/")),E=E.sliceAfterX("/"),!((Y+=1)>10)););j.push(E)}for(i=0,o=j.length;i<o;i+=1)tt(j[i],0,"",Ee);-1!==(n=Tt.indexOf(e))&&(Tt.splice(n,1),pt.splice(n,1)),d3.selectAll("g.node").each((function(t){t.name===e&&(t.enabled=0,t.freq=-1)})),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1!==$.inArray("WDT",Tt)&&-1===$.inArray("WDT",t)&&te("WDT"):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1!==$.inArray("WWDT",Tt)&&-1===$.inArray("WWDT",t)&&te("WWDT"),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1!==$.inArray("EWDT",Tt)&&-1===$.inArray("EWDT",t)&&te("EWDT"):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1!==$.inArray("EWWDT",Tt)&&-1===$.inArray("EWWDT",t)&&te("EWWDT"):"RTC"===e?void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==$.inArray("CLKO_1Hz",Tt)&&-1===$.inArray("CLKO_1Hz",t)&&te("CLKO_1Hz"):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1!==$.inArray("HSUSBH",Tt)&&-1===$.inArray("HSUSBH",t)&&te("HSUSBH"):"HSUSBH"===e&&void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1!==$.inArray("USBH",Tt)&&-1===$.inArray("USBH",t)&&te("USBH")}},ie=function(e,t){var n,i,o,l,a,r,s,C,_,L,d;function c(e){e.name===t&&(L=e)}function O(e){e.name===l&&(d=e)}if(a=function(e,t){var n,i=null,o=null;return""===t||(d3.selectAll("g.node").each((function(e){e.name===t&&(o=e)})),d3.selectAll("g.node").each((function(t){t.name===e&&(i=t)})),null!==i&&null!==o&&(ge.selectAll("path.link").filter((function(e){return e.target.id==i.id})).remove(),(n=i.parent.children.indexOf(i))>-1&&i.parent.children.splice(n,1),void 0!==o.children||void 0!==o._children?void 0!==o.children?o.children.push(i):o._children.push(i):(o.children=[],o.children.push(i)),!0))},void 0===t&&(t=""),r="",s="",void 0!==NUTOOL_CLOCK.g_Module[e]&&(r=NUTOOL_CLOCK.g_Module[e][0],s=NUTOOL_CLOCK.g_Module[e][2]),-1!==r.indexOf(yt)||"none"!==s)for(n=0,i=gt.length;n<i;n+=1)(l=gt[n])!==e&&void 0!==NUTOOL_CLOCK.g_Module[l]&&(C=NUTOOL_CLOCK.g_Module[l][0],_=NUTOOL_CLOCK.g_Module[l][2],(-1!==r.indexOf(yt)&&C.slicePriorToX("/").toString()===r.slicePriorToX("/").toString()||"none"!==_&&_===s)&&(d3.selectAll("g.node").each(c),d3.selectAll("g.node").each(O),""!==t?a(l,t)&&L.enabled&&d.enabled?-1!==(o=$.inArray(l,Tt))&&(Tt.splice(o,1),pt.splice(o,1),me("tab-4",l,"",""),Tt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),pt.push(d.freq)):!L.enabled&&d.enabled&&te(d.name):d.enabled&&-1!==(o=$.inArray(l,Tt))&&(Tt.splice(o,1),pt.splice(o,1),me("tab-4",l,"",""),Tt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),pt.push(d.freq))))},ht(St)&&(0===p.indexOf("KM1M7CF")?Tt.push(Dt):Tt.push("LIRC"),pt.push(P.toHzString())),(ht(xt)||ht("HIRC1EN"))&&(Tt.push(Ft),pt.push(U.toHzString())),(ht(Mt)||ht("HIRC2EN"))&&(Tt.push(Ht),pt.push(v.toHzString())),ht("HIRC48EN")&&(Tt.push("HIRC48"),pt.push(k.toHzString())),ht("MIRCEN")&&(Tt.push("MIRC"),pt.push(R.toHzString())),ht("MIRC1P2MEN")&&(Tt.push("MIRC1P2M"),pt.push(I.toHzString())),0!==m&&(Tt.push("RTC32k"),pt.push(m.toHzString())),(ht(bt)||ht("LIRC32KEN"))&&(Tt.push("LXT"),pt.push(A.toHzString())),ht(Et)&&(Tt.push(wt),pt.push(y.toHzString())),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]){if(0===p.indexOf("KM1M7CF"))switch(Nt("PLL_SRC")){case 0:default:Fe.push(Xt);break;case 1:je.push(Xt)}else switch(Nt("PLL_SRC")){case 1:Fe.push(Xt);break;case 2:case 3:Be.push(Xt);break;case 0:je.push(Xt);break;default:ht(St)?Fe.push(Xt):ht("MIRCEN")?Be.push(Xt):je.push(Xt)}ht("PD")&&!ht("PLLEN")||-1===$.inArray(Xt,ce)||(Tt.push(Xt),pt.push(w.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1){switch(Nt("PLLFNSRC")){case 0:je.push("PLLFN");break;case 1:Fe.push("PLLFN")}ht("PDFN")||-1===$.inArray("PLLFN",ce)||(Tt.push("PLLFN"),pt.push(D.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(je.push("PLL2"),ht("PLL2CKEN")&&-1!==$.inArray("PLL2",ce)&&(Tt.push("PLL2"),pt.push(X.toHzString()))),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&(je.push("PLL480M"),ht("PLL2CKEN")&&-1!==$.inArray("PLL480M",ce)&&(Tt.push("PLL480M"),pt.push(F.toHzString()))),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&(je.push("APLL"),ht("APD")||-1===$.inArray("APLL",ce)||(Tt.push("APLL"),pt.push(H.toHzString()))),0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&(je.push("HSUSB_OTG_PHY"),ht(Et)&&-1!==$.inArray("HSUSB_OTG_PHY",ce)&&(Tt.push("HSUSB_OTG_PHY"),pt.push(B.toHzString()))),C=Ut,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){if(N=NUTOOL_CLOCK.g_CLKSEL[C][t],f=Nt(C),T=parseInt(N.sliceAfterX(":"),10),f===T){Z(N=N.slicePriorToX(":").slicePriorToX("/").toString(),Bt);break}t===n-1&&!Ke&&window.console&&window.console.log('"ERROR! createD3ClockTree has an error: HCLK cannot find its clock source.')}for(Tt.push(Bt),pt.push(q.toHzString()),"CPUCLK"!==Bt&&(Lt.push("CPUCLK"),Tt.push("CPUCLK"),pt.push(q.toHzString())),z>0&&(Z(Bt,qt),Tt.push(qt),pt.push(z.toHzString())),W>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK0SEL".toEquivalent().toString())&&(Z(Bt,"PCLK0"),Tt.push("PCLK0"),pt.push(W.toHzString())),V>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK1SEL".toEquivalent().toString())&&(Z(Bt,"PCLK1"),Tt.push("PCLK1"),pt.push(V.toHzString())),G>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK2SEL".toEquivalent().toString())&&(Z(Bt,"PCLK2"),Tt.push("PCLK2"),pt.push(G.toHzString())),ye=[],0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===p.indexOf("KM1M7CF")?ye.push(Dt):ye.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&ye.push(Ft),0!==NUTOOL_CLOCK.g_HIRC2frequency&&ye.push(Ht),0!==NUTOOL_CLOCK.g_HIRC48frequency&&ye.push("HIRC48"),0!==NUTOOL_CLOCK.g_MIRCfrequency&&ye.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&ye.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&ye.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[Pt],(function(e){return-1!==e.indexOf(bt+":")})).length&&ye.push("LXT"),0!==_.filter(NUTOOL_CLOCK.g_register_map[Pt],(function(e){return-1!==e.indexOf(Et+":")})).length&&ye.push(wt),l=0,r=e.length;l<r;l+=1){if(S=e[l],C="SYSTICK"!==S?NUTOOL_CLOCK.g_Module[S][0]:ht("CLKSRC")?"CPUCLK":NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(vt)?vt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){if(NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C)?(c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=Nt(C)+(Nt(c)<<O)>>>0):f=Nt(C),N=NUTOOL_CLOCK.g_CLKSEL[C][t],T=parseInt(N.sliceAfterX(":"),10),f===T){Z(N=N.slicePriorToX(":").slicePriorToX("/").toString(),S),C=N;break}t===n-1&&(N=NUTOOL_CLOCK.g_CLKSEL[C][0],T=parseInt(N.sliceAfterX(":"),10),tt(C,T,!1,!1),Z(N=N.slicePriorToX(":").slicePriorToX("/").toString(),S),C=N)}else Z(C=C.slicePriorToX("/").toString(),S);if(E=NUTOOL_CLOCK.g_Module[S][1],j=[],Y=0,-1===E.indexOf("/"))j.push(E);else{for(;-1!==E.indexOf("/")&&(j.push(E.slicePriorToX("/")),E=E.sliceAfterX("/"),!((Y+=1)>10)););j.push(E)}for(b=!0,i=0,o=j.length;i<o;i+=1)if(!Kt(j[i])){b=!1;break}b&&(-1!==$.inArray(C,Tt)?(Tt.push(S),me("tab-4",S,"",""),pt.push($("#"+S+"_span_showRealFreq").text())):te(S))}function Wt(){Te.sort((function(e,t){return t.name.toLowerCase()<e.name.toLowerCase()?1:-1}))}function Vt(){!Ke&&window.console&&window.console.log("In endDrag"),le=null,d3.selectAll(".ghostCircle").attr("class","ghostCircle"),d3.select(ne).select(".ghostCircle").attr("pointer-events",""),ve(),nn(se),xe.hide()}function jt(e){var t,n;t=-se.y,t*=e,n=(n=-se.x)*e+3*de/4,d3.select("g").transition().duration(re).attr("transform","translate("+t+","+n+")scale("+e+")"),he.scale(e),he.translate([t,n])}function Gt(e){ge.selectAll("path.selected").data([]).exit().remove(),ge.selectAll("path.selected").data(e).enter().append("svg:path").attr("class","selected").attr("d",ue)}function Yt(e){var t,n,i;if(!Ke&&window.console&&window.console.log("In click, "+e.name+"'s enabled:"+e.enabled+" / bDragStarted:"+Ce),it(),e.enabled){for("RTC"===e.name&&void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==NUTOOL_CLOCK.g_Module.CLKO_1Hz[0].indexOf("RTC")&&-1!==$.inArray("CLKO_1Hz",Tt)?te(e.name,["CLKO_1Hz"]):te(e.name),ee(e.name,!0),t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],ge.selectAll("path.link").filter((function(e){return _.any(t,(function(t){return t===e.target}))})).each((function(e){i.push(e)})),Gt(i)}}function Zt(e){var t,n,i;if(it(),zt=!0,-1===$.inArray(e.name,ye)){if(Q(e.name,e.enabled),nn(e),e.enabled){for(t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],ge.selectAll("path.link").filter((function(e){return _.any(t,(function(t){return t===e.target}))})).each((function(e){i.push(e)})),Gt(i)}else ge.selectAll("path.selected").data([]).exit().remove();xe.hide(e),$("#tabs").tabs("option","active")+1==M&&xe.show(e)}else 0===e.name.indexOf("LIRC")||0===e.name.indexOf(Dt)||0===e.name.indexOf(Ft)||0===e.name.indexOf(Ht)||0===e.name.indexOf("HIRC48")||0===e.name.indexOf("MIRC")||0===e.name.indexOf("LXT")||0===e.name.indexOf(wt)||0===e.name.indexOf("RTC32k")?$("#tabs").tabs({active:0}):-1!==e.name.indexOf("PLL")?$("#tabs").tabs({active:1}):0!==e.name.indexOf(Bt)&&0!==e.name.indexOf(qt)&&0!==e.name.indexOf("CPUCLK")||$("#tabs").tabs({active:$("#tabs").tabs("option","active")-1}),xe.hide(e)}function Jt(e){return void 0===e.parent||Jt(e.parent)?e.enabled:0}function Qt(e){var t,n,i,o;for(!Ke&&window.console&&window.console.log("In searchFromInput, searchNodeName:"+e),d3.selectAll("g.node").each((function(n){n.name.toLowerCase()===e.toLowerCase()&&(t=n)})),n=[],i=t;!_.isUndefined(i);)n.push(i),i=i.parent;o=[],ge.selectAll("path.link").filter((function(e){return _.any(n,(function(t){return t===e.target}))})).each((function(e){o.push(e)})),Gt(o)}function en(e,t,n,i,o){var l,a={},r={};!Ke&&window.console&&window.console.log("In updateFromCanvas, bUpdateTree:"+n),void 0===n&&(n=!1),d3.selectAll("g.node").each((function(e){e.name===t&&(a=e)})),d3.selectAll("g.node").each((function(t){t.name===e&&(r=t)})),ge.selectAll("path.selected").data([]).exit().remove(),ge.selectAll("path.link").filter((function(e){return e.target.id==r.id})).remove(),(l=r.parent.children.indexOf(r))>-1&&r.parent.children.splice(l,1),void 0!==a.children||void 0!==a._children?void 0!==a.children?a.children.push(r):a._children.push(r):(a.children=[],a.children.push(r)),-1!==(l=$.inArray(e,Tt))&&(Tt.splice(l,1),pt.splice(l,1),Tt.push(e),r.freq=$("#"+e+"_span_showRealFreq").text(),pt.push(r.freq)),o!==i&&ie(e,t),n&&nn(se)}function tn(e,t,n){var i,o={};!Ke&&window.console&&window.console.log("In updateFromDividerDialog, bUpdateTree:"+t),void 0===t&&(t=!1),d3.selectAll("g.node").each((function(t){t.name===e&&(o=t)})),-1!==(i=$.inArray(e,Tt))&&(Tt.splice(i,1),pt.splice(i,1),Tt.push(e),o.freq=$("#"+e+"_span_showRealFreq").text(),pt.push(o.freq)),S=e,-1!==n&&a!==n&&ie(S),t&&nn(se)}function nn(e){!Ke&&window.console&&window.console.log("In update");var n,i,o,l,a=Te.nodes(se).reverse(),r=Te.links(a);a.forEach((function(e){e.y=e.depth*(10*(oe+3))})),(i=(n=ge.selectAll("g.node").data(a,(function(e){return e.id||(e.id=++t)}))).enter().append("g").call(Me).attr("class","node").attr("id",(function(e){return e.name})).attr("transform",(function(){return"translate("+e.y0+","+e.x0+")"})).on("click",Yt).on("dblclick",Zt).on("updateFromCanvas",en).on("updateFromDividerDialog",tn).on("zoomFromToolbar",jt).on("searchFromInput",Qt).on("mouseover",(function(e){!Ke&&window.console&&window.console.log("In mouseover, node.name:"+e.name),d3.select(this).classed("hover",!0),e==se||-1!==$.inArray(e.name,ye)?d3.select(this).classed("notDraggable",!0):d3.select(this).classed("notDraggable",!1),xe.hide(e),$("#tabs").tabs("option","active")+1!=M||_e||e===se||xe.show(e)})).on("mouseout",(function(e){!Ke&&window.console&&window.console.log("In mouseout, node.name:"+e.name),d3.select(this).classed("hover",!1),xe.hide(e)}))).append("circle").attr("class","nodeCircle"),i.append("text").attr("x",(function(){return 10})).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",(function(){return"start"})).text((function(e){return e.enabled&&-1!==e.freq?e.name+":"+e.freq:e.name})).style("fill-opacity",0),i.append("circle").attr("class","ghostCircle").attr("r",30).attr("opacity",.2).style("fill","lightyellow").attr("pointer-events","mouseover").on("mouseover",(function(e){be(e)})).on("mouseout",(function(e){Pe(e)})),n.select("text").attr("x",(function(){return 10})).attr("text-anchor",(function(){return"start"})).attr("font-weight",(function(e){return e.children||e._children?"bold":"normal"})).text((function(e){return e.enabled&&-1!==e.freq?e.name+":"+e.freq:e.name})),n.select("circle.nodeCircle").attr("r",4.5).style("fill",(function(e){return e.enabled?"#41AF88":"#fff"})),n.transition().duration(re).attr("transform",(function(e){return"translate("+e.y+","+e.x+")"})).select("text").style("fill-opacity",1),(o=n.exit().transition().duration(re).attr("transform",(function(){return"translate("+e.y+","+e.x+")"})).remove()).select("circle").attr("r",0),o.select("text").style("fill-opacity",0),(l=ge.selectAll("path.link").data(r,(function(e){return e.target.id}))).enter().insert("path","g").attr("class","link").style("stroke",(function(){return"LightSteelBlue"})).attr("d",(function(){var t={x:e.x0,y:e.y0};return ue({source:t,target:t})})),l.transition().duration(re).attr("d",ue),l.exit().transition().duration(re).attr("d",(function(){var t={x:e.x,y:e.y};return ue({source:t,target:t})})).remove(),a.forEach((function(e){e.x0=e.x,e.y0=e.y}))}Ae.name=u.slicePriorToX("("),Ae.enabled=1,Ae.freq=-1,Ae.children=J(ye),ye.push(Xt,"PLL2","PLL480M","APLL","PLLFN","HSUSB_OTG_PHY",Bt,qt,"PCLK0","PCLK1","PCLK2","CPUCLK"),oe=0,le=null,ae=null,re=750,_e=!1,Le=window.screen.width-250,de=window.screen.height-250,Te=d3.layout.tree().size([de,Le]).nodeSize([15,70]),ue=d3.svg.diagonal().projection((function(e){return[e.y,e.x]})),function e(t,n,i){var o,l,a=i(t);if(t&&(n(t),a))for(l=a.length,o=0;o<l;o++)e(a[o],n,i)}(Ae,(function(e){oe=Math.max(e.name.length,oe)}),(function(e){return e.children&&e.children.length>0?e.children:null})),Wt(),he=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",(function(){!Ke&&window.console&&window.console.log("In zoom, d3.event.translate:"+d3.event.translate+" / d3.event.scale:"+d3.event.scale),ge.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})),Se=d3.behavior.drag().on("dragstart",(function(){$("#"+Oe+"_div")[0]&&($("#"+Oe+"_div").hide(),$("#"+Oe+"_canvas").hide(),$("#"+Oe+"_div_protection").hide(),$("#"+Oe+"_div_showRealFreq").hide())})),Ne=d3.select("#tab-4").append("svg").attr("width",Le).attr("height",de).attr("class","overlay").call(Se).call(he).on("dblclick.zoom",null).on("mouseover",(function(){d3.select(this).classed("baseDraggable",!0)})).on("mouseout",(function(){d3.select(this).classed("baseDraggable",!1)})),$("html").hasClass("ie10+")&&$("#tab-4").dblclick((function(){zt||At("reviewReport"),zt=!1})),xe=d3.tip().attr("class","d3-tip").html((function(e){var l,a,r,s,_,c,O,f,T,g,u,h,K,N,x="",M="",b="",P=[];if(!_e){if(-1!==L.indexOf("Simplified")?(l="启用中。",a="停用中。",r="双击节点可以启用它。",s="双击节点可以停用它。",_="拖曳节点至其中一个蓝色节点</br>可以改变其时脉源。</br>滚动鼠标滚轮来放大或缩小。</br>双击背景可以检阅报告。",c="单击节点可以显示其细部。",O="双击节点可以显示其细部。",f="它有",T="個时脉源可供使用:",g="启用器: ",u="选择器: ",h="除法器: ",K="汇流排频率",N="引擎频率"):-1!==L.indexOf("Traditional")?(l="啟用中。",a="停用中。",r="雙擊節點可以啟用它。",s="雙擊節點可以停用它。",_="拖曳節點至其中一個藍色節點</br>可以改變其時脈源。</br>滾動鼠標滾輪來放大或縮小。</br>雙擊背景可以檢閱報告。",c="單擊節點可以顯示其細部。",O="雙擊節點可以顯示其細部。",f="它有",T="個時脈源可供使用:",g="啟用器: ",u="選擇器: ",h="除法器: ",K="匯流排頻率",N="引擎頻率"):(l=" is enabled.",a=" is disabled.",r="Dblclicking on the node can enable it.",s="Dblclicking on the node can disable it.",_="Dragging the node into one of the blue nodes</br>can change its clock source.</br>Rolling the mouse wheel can zoom in or out.</br>Dblclicking on the background can review report.",c="Clicking on the node can show details.",O="Dblclicking on the node can show details.",f="It has ",T=" clock sources for use:",g="Activator: ",u="Selector: ",h="Divider: ",K="Bus Clock",N="Engine Clock"),"SYSTICK"!==(S=e.name))if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+yt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)M=NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(M,P)&&P.push(M);else C!==S+yt&&P.push(C);else{if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(vt))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[vt].length;t<n;t+=1)M=NUTOOL_CLOCK.g_CLKSEL[vt][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(M,P)&&P.push(M);else P.push(NUTOOL_CLOCK.g_Module[S][0].slicePriorToX("/").toString());0!=p.indexOf("KM1M7CF")&&P.push("CPUCLK")}if(x=S,e.enabled?(e!==se&&-1===$.inArray(S,ye)?(x=x+l+"</br>("+s,$("#"+Oe+"_div").is(":visible")&&Oe===S||(x=x+"</br>"+c),x=x+"</br>"+_):x=x+l+"</br>("+O,x+=")</br>"):x=e!==se&&-1===$.inArray(S,ye)?x+a+"</br>("+r+"</br>"+_+")</br>":x+a+"</br>("+O+")</br>",P.length>0)for(x=(x+="<hr>")+f+P.length+T+"</br>",t=0,n=P.length;t<n;t+=1)x=x+(t+1)+". "+P[t]+"</br>";if(NUTOOL_CLOCK.g_Module.hasOwnProperty(S)){if(x+="<hr>",E=NUTOOL_CLOCK.g_Module[S][1],j=[],Y=0,-1===E.indexOf("/"))j.push(E);else{for(;-1!==E.indexOf("/")&&(j.push(E.slicePriorToX("/")),E=E.sliceAfterX("/"),!((Y+=1)>10)););j.push(E)}for(x+=g,i=0,o=j.length;i<o;i+=1)M=Ye(j[i]),0!==i&&""!==M&&(x+=" / "),x+=M;if(x+="</br>",d=[],-1!==NUTOOL_CLOCK.g_Module[S][0].indexOf(yt)){if(C=NUTOOL_CLOCK.g_Module[S][0],Y=0,-1===C.indexOf("/"))d.push(C);else{for(;-1!==C.indexOf("/")&&(d.push(C.slicePriorToX("/")),C=C.sliceAfterX("/"),!((Y+=1)>10)););d.push(C)}for(x+=u,i=0,o=d.length;i<o;i+=1)0===i||rt(d[i])||(x+=" / "),x+=Ye(d[i]),NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(d[i])&&(x=x+" / "+Ye(NUTOOL_CLOCK.g_CLKSEL_EXTENDED[d[i]][0].slicePriorToX(":")));x+="</br>"}0===d.length&&"SYSTICK"===S&&(x=x+u+$t+"[2]</br>"),"none"!==NUTOOL_CLOCK.g_Module[S][2]&&(x=x+h+Ye(NUTOOL_CLOCK.g_Module[S][2])+"</br>")}else if(S===Xt||"APLL"===S||"PLLFN"===S){for(x=x+"<hr>"+g,i=0,o=(j=["PD","OE","PLLEN","PDFN","OEFN","PLLFN"]).length;i<o;i+=1)x.lastIndexOf(g)+g.length!==x.length&&""!==Ye(j[i])&&(x+=" / "),x+=Ye(j[i]);for(i=0,o=(d=["PLL_SRC","PLL_SRC"]).length;i<o;i+=1)if(""!==Ye(d[i])){x+="</br>",x+=u,x+=Ye(d[i]);break}x+="</br>"}else{switch(M="",b="",S){case"LIRC":M=Ye(St);break;case Ft:M=Ye(xt),""!==Ye("HIRC1EN")&&(M=M+" / "+Ye("HIRC1EN"));break;case Ht:M=Ye(Mt),""!==Ye("HIRC2EN")&&(M=M+" / "+Ye("HIRC2EN"));break;case"HIRC48":M=Ye("HIRC48EN");break;case"MIRC":M=Ye("MIRCEN");break;case"MIRC1P2M":M=Ye("MIRC1P2MEN");break;case"LXT":M=Ye(bt);break;case wt:M=Ye(Et);break;case"PLL2":case"PLL480M":M=Ye("PLL2CKEN");break;case"HSUSB_OTG_PHYOTGPHY":M=Ye(Et)}""!==M&&(b=b+g+M+"</br>"),""!==(M=Ye(S+yt))&&(b=b+u+M+"</br>"),""!==(M=Ye(S+"DIV"))&&(b=b+h+M+"</br>"),""!==b&&(x=x+"<hr>"+b)}}return e.enabled&&NUTOOL_CLOCK.g_Module.hasOwnProperty(S)&&Je(S)&&(x=(x+="<hr>")+K+" "+Ze(S)+"</br>",Qe(S)&&(x=x+N+" ("+S+"): "+e.freq+"</br>")),fe=x,x})),Ne.call(xe),xe.direction("e").offset([0,5]),Me=d3.behavior.drag().on("dragstart",(function(e){!Ke&&window.console&&window.console.log("In dragstart, d.name: "+e.name),e!=se&&-1===$.inArray(e.name,ye)&&(d3.event.sourceEvent.stopPropagation(),$("#"+Oe+"_div")[0]&&($("#"+Oe+"_div").hide(),$("#"+Oe+"_canvas").hide(),$("#"+Oe+"_div_protection").hide(),$("#"+Oe+"_div_showRealFreq").hide()),ge.selectAll("path.selected").data([]).exit().remove(),Ce=!0,Te.nodes(e))})).on("drag",(function(e){!Ke&&window.console&&window.console.log("In drag, d.name: "+e.name),_e=!0,e!=se&&-1===$.inArray(e.name,ye)&&(Ce&&function(e,i){var o=[];if(!Ke&&window.console&&window.console.log("In initiateDrag"),it(),ae=e,ge.selectAll("g.node").sort((function(e){return e.id!=ae.id?1:-1})),ge.selectAll("path.link").filter((function(e){return e.target.id==ae.id})).remove(),"SYSTICK"!==(S=ae.name)){if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+yt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)o.push(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString())}else{if(C=NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(vt)?vt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)o.push(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString());else o.push(C.slicePriorToX("/").toString());0!=p.indexOf("KM1M7CF")&&o.push("CPUCLK")}ge.selectAll("g.node").data(Te.nodes(se),(function(e){return e.id||(e.id=++t)})).select("circle.nodeCircle").style("fill",(function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"blue":"#41AF88"})),d3.select(i).select(".ghostCircle").attr("pointer-events","none"),d3.selectAll(".ghostCircle").data(Te.nodes(se),(function(e){return e.id||(e.id=++t)})).attr("class",(function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"ghostCircle show":"ghostCircle"})),d3.select(i).attr("class","node activeDrag"),Ce=!1}(e,ne=this),e.x0+=d3.event.dy,e.y0+=d3.event.dx,d3.select(this).attr("transform","translate("+e.y0+","+e.x0+")"),ve())})).on("dragend",(function(e){var t,n,l,a;if(!Ke&&window.console&&window.console.log("In dragend, d.name: "+e.name),_e=!1,e!=se&&-1===$.inArray(e.name,ye))if(ne=this,le){if((t=ae.parent.children.indexOf(ae))>-1&&ae.parent.children.splice(t,1),void 0!==le.children||void 0!==le._children?void 0!==le.children?le.children.push(ae):le._children.push(ae):(le.children=[],le.children.push(ae)),T=f=-1,l=le.name,"SYSTICK"!==(a=ae.name)){if(C=NUTOOL_CLOCK.g_Module[a][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if((N=NUTOOL_CLOCK.g_CLKSEL[C][i]).slicePriorToX(":").slicePriorToX("/").toString()===l){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C)?(c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=Nt(C)+(Nt(c)<<O)>>>0,T=parseInt(N.sliceAfterX(":"),10),s=Math.pow(2,O)-1,K=T-(g=T&s)>>O>>>0,tt(C,g),tt(c,K)):(f=Nt(C),T=parseInt(N.sliceAfterX(":"),10),tt(C,T));break}}else if(-1!==l.indexOf("CPUCLK"))tt("CLKSRC",1,$t);else if(tt("CLKSRC",0,$t),C=vt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if(-1!==(N=NUTOOL_CLOCK.g_CLKSEL[C][i]).indexOf(l)){tt(C,parseInt(N.sliceAfterX(":"),10),"",!1);break}le.enabled?-1!==(n=$.inArray(a,Tt))&&(Tt.splice(n,1),pt.splice(n,1),me("tab-4",a,"",""),Tt.push(a),e.freq=$("#"+a+"_span_showRealFreq").text(),pt.push(e.freq)):te(a),T!==f&&ie(a,l),Wt(),Vt()}else Vt()})),be=function(e){var i=[];if(le=null,ae){if("SYSTICK"!==(S=ae.name)?(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+yt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C)&&(i=NUTOOL_CLOCK.g_CLKSEL[C].slice())):(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(vt)?i=NUTOOL_CLOCK.g_CLKSEL[vt].slice():i.push(NUTOOL_CLOCK.g_Module[S][0]),0!=p.indexOf("KM1M7CF")&&i.push("CPUCLK")),i.length>0)for(t=0,n=i.length;t<n;t+=1){if(N=i[t].slicePriorToX(":").slicePriorToX("/").toString(),e.name===N){le=e;break}t===n-1&&!Ke&&window.console&&window.console.log(S+" cannot be "+e.name+"'s children.")}else e.name===C?le=e:!Ke&&window.console&&window.console.log(S+" cannot be "+e.name+"'s children.");ve()}},Pe=function(){le=null,ve()},ve=function(){var e,t=[];null!==ae&&null!==le&&(t=[{source:{x:le.y0,y:le.x0},target:{x:ae.y0,y:ae.x0}}]),(e=ge.selectAll(".templink").data(t)).enter().append("path").attr("class","templink").attr("d",d3.svg.diagonal()).attr("pointer-events","none"),e.attr("d",d3.svg.diagonal()),e.exit().remove()},ge=Ne.append("g").attr("id","g_svgGroup"),(se=Ae).x0=de/2,se.y0=Le/2,nn(se),ke=se,$e=he.scale(),Re=-ke.y0,Re*=$e,Ie=(Ie=-ke.x0)*$e+3*de/4,d3.select("g").transition().duration(re).attr("transform","translate("+Re+","+Ie+")scale("+$e+")"),he.scale($e),he.translate([Re,Ie])}function me(e,t,n,i){var o,l,r,s,C,_,L,d,c,O,f,T,g,u,h,K=[],S=[],N="HXT".toEquivalent().toString(),x="PLL".toEquivalent().toString(),M="HIRC".toEquivalent().toString(),b="HIRC2".toEquivalent().toString(),E="LIRC".toEquivalent().toString(),P="HCLK".toEquivalent().toString(),U="PCLK".toEquivalent().toString();if(0===(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i).indexOf(P)||0===C.indexOf("RTC32k")||0===C.indexOf("LIRC")||0===C.indexOf(E)||0===C.indexOf(M)||0===C.indexOf(b)||0===C.indexOf("MIRC")||0===C.indexOf("LXT")||0===C.indexOf(N)||0===C.indexOf(x)||0===C.indexOf("PLL2")||0===C.indexOf("PLL480M")||0===C.indexOf("APLL")||0===C.indexOf("PLLFN")||0===C.indexOf("HSUSB_OTG_PHY")||0===C.indexOf("PCLK0")||0===C.indexOf("PCLK1")||0===C.indexOf("PCLK2"))K.push(C);else if(C==="HCLK_S".toEquivalent())K.push(P);else if(C==="PCLK_S".toEquivalent()||C===U)K.push(U);else if(0===C.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL["STCLK_S".toEquivalent()]).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,ce)&&K.push(S[o].slicePriorToX(":"));else if(0===C.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL.STCKSEL).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,ce)&&K.push(S[o].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL[C]).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,ce)&&K.push(S[o].slicePriorToX(":"));if("SYSTICK"===t&&0!==p.indexOf("KM1M7CF")&&K.push("CPUCLK"),a=0,"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=Nt(NUTOOL_CLOCK.g_Module[t][2])),_="","SYSTICK"!==t){if(_=d=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(_)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[_][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),L=Nt(_)+(Nt(f)<<T)>>>0):L=Nt(_),-1!==L&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d))for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===L.toString()){_=NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":");break}}else if(0===p.indexOf("KM1M7CF"))_=1==(L=Nt("CLKSRC").toString())?"CPUCLK":0==(L=Nt("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(ht("CLKSRC"))_="CPUCLK";else if(L=Nt(d="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d)){for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===L){_=NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":");break}}else _=NUTOOL_CLOCK.g_Module[t][0];if(-1===$.inArray(_,K)&&(!0,_=K[0],i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i)))for(r=0,s=NUTOOL_CLOCK.g_CLKSEL[i].length;r<s;r+=1)if(-1!==(d=NUTOOL_CLOCK.g_CLKSEL[i][r]).indexOf(_)&&d.indexOf(":")===_.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],T=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),Nt(i)+(Nt(f)<<T)>>>0,h=(g=parseInt(d.sliceAfterX(":"),10))-(u=g&Math.pow(2,T)-1)>>T>>>0,tt(i,u),tt(f,h)):(Nt(i),tt(i,g=parseInt(d.sliceAfterX(":"),10)));break}O=t==="CLKO_Divider".toEquivalent().toString()||t==="CLKO1_Divider".toEquivalent().toString()?ze(_)/Math.pow(2,a+1):ze(_)/(a+1),$("#"+t+"_div_showRealFreq")[0]||(c="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(c)),$("#"+t+"_span_showRealFreq").text(O.toHzString()),$("#"+t+"_div_showRealFreq").hide(),!Ke&&window.console&&window.console.log("In createModuleOnly, "+t+"'s clock:"+O.toHzString())}function $e(){var e=$("#tabs");it(),$("#tabs ul").append("<li id='li-4'><a href='#tab-4'><span id=module_span>Modules</span></a></li>"),$("#tabs").append("<div id='tab-4'></div>"),-1!==L.indexOf("Simplified")?$("#module_span").text("模块"):-1!==L.indexOf("Traditional")?$("#module_span").text("模組"):$("#module_span").text("Modules"),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),$("#tab-4").css("width",n-f-8+"px")):(e.css("width",n-8+"px"),$("#tab-4").css("width",n-8+"px")),e.css("height",o-8+"px"),$("#tab-4").css("height",o-8+"px"),Ie(nt(NUTOOL_CLOCK.g_Module)),$("#tabs")[0].style.visibility="visible","none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}function Ae(e){var t,i,l,a,r,s,C,_,d,c,O,T,g,K,S,N,b,E,j,Y,Z,J,Q,ee,te,ne,ie,oe,le,ae,re,se,Ce,_e,Le=$("#tabs"),de="Select one of the following frequencies to be the frequency of HCLK.",Oe="",fe=[],Te=[],ge=20,ue=20,he=0,Ne=45,xe=30,Me=20,be=[],Ee="#C62A39",Pe="#DF630E",Ue="#BC8484",ve="HXT".toEquivalent().toString(),ke="PLL".toEquivalent().toString(),Re="HIRC".toEquivalent().toString(),Ie="HIRC2".toEquivalent().toString(),me="LIRC".toEquivalent().toString(),Ae="HCLK".toEquivalent().toString(),ye="PCLK".toEquivalent().toString(),we="HCLK_N".toEquivalent().toString(),Xe="PCLK_N".toEquivalent().toString(),Fe="HCLK_S".toEquivalent().toString(),He="PCLK_S".toEquivalent().toString(),De="PCLK0SEL".toEquivalent().toString(),Be="PCLK1SEL".toEquivalent().toString(),qe="PCLK2SEL".toEquivalent().toString(),We="XTL32K_EN".toEquivalent().toString(),Ve="XTL12M_EN".toEquivalent().toString();if(se=function(e,n,o,f,p){var u,S,N,M,b=h.getContext(e),E=[],P={},U=function(e){if(-1!==pe&&100!==pe&&(e=pe),void 0===e&&(e=-1),-1===e)for(t=0,i=E.length;t<i;t+=1)ae>=E[t].x&&ae<=E[t].x+E[t].textLength&&re>=E[t].y-18-3&&re<=E[t].y&&(e=t);if(e===E.length)for(t=0,i=E.length;t<i;t+=1)if(E[t].color!==Ue){e=t;break}if(-1!==e&&-1===E[e].name.indexOf("Disabled"))for(t=0,i=E.length;t<i;t+=1){if(t===e){if(E[t].lastColor=E[t].color=Ee,-1!==n.indexOf("BASECLK")?(_="BASESEL",d=E[t].name.slicePriorToLastX(":")):-1!==n.indexOf(Ae)?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?(_="CPUCKDIV",d=E[t].name):(_=Fe,d=E[t].name.slicePriorToLastX(":")):-1!==n.indexOf("PCLK0")?(_=De,d=E[t].name):-1!==n.indexOf("PCLK1")?(_=Be,d=E[t].name):-1!==n.indexOf("PCLK2")?(_=qe,d=E[t].name):(_=He,d=E[t].name),-1!==d.indexOf("DIV")&&-1!==d.indexOf(":")&&(d=(c=d).slicePriorToX(":")+"+"+c.sliceAfterX("+")),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_CLKSEL[_][l]).indexOf(d)&&O.indexOf(":")===d.length){tt(_,parseInt(O.sliceAfterX(":"),10));break}v()}else E[t].color!==Ue&&(E[t].lastColor=E[t].color="black");b.fillStyle="white",b.fillRect(E[t].x,E[t].y-18,E[t].textLength+10,18),b.fillStyle=E[t].color,b.fillText(E[t].name,E[t].x,E[t].y)}P.name&&ae>=P.x&&ae<=P.x+P.textLength&&re>=P.y-18&&re<=P.y&&k(o)},v=function(){for(S=0,t=0,i=E.length;t<i;t+=1){if(E[t].color===Ee){-1===(O=E[t].name).indexOf(Ae)&&-1===O.indexOf("BASECLK")&&(S=-1!==O.indexOf("MHz")?1e6*parseFloat(O.sliceAfterX(":"),O.length-3):-1!==O.indexOf("kHz")?1e3*parseFloat(O.sliceAfterX(":"),O.length-3):parseFloat(O.sliceAfterX(":"),O.length-2));break}if(t===i-1)return this}if(0===S&&(_=Fe,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_)))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1){if(O=NUTOOL_CLOCK.g_CLKSEL[_][l],Nt(_)===parseInt(O.sliceAfterX(":"),10)){S=ze(O.slicePriorToLastX(":"));break}l===a-1&&!Ke&&window.console&&window.console.log('"ERROR! generateRealModuleFrequency of buildHCLKandPCLKtab has an error')}if(-1!==Nt(we))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(we)){for(M=Nt(we).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[we].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[we][l].sliceAfterX(":")===M){N=NUTOOL_CLOCK.g_CLKSEL[we][l].slicePriorToX(":");break}-1!==N.indexOf("/")&&(S/=parseInt(N.sliceAfterX("/"),10))}else S/=Nt(we)+1;if(0!==S&&(q=S,$("#HCLK_span_showRealFreq").text(q.toHzString())),""!==(O=$("#HCLK_span_showRealFreq").text()))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(De))W=Nt(De)>0?O.toFloat()/Math.pow(2,Nt(De)):O.toFloat(),$("#PCLK0_span_showRealFreq").text(W.toHzString()),V=Nt(Be)>0?O.toFloat()/Math.pow(2,Nt(Be)):O.toFloat(),$("#PCLK1_span_showRealFreq").text(V.toHzString()),G=Nt(qe)>0?O.toFloat()/Math.pow(2,Nt(qe)):O.toFloat(),$("#PCLK2_span_showRealFreq").text(G.toHzString()),z=0;else{if(-1!==Nt(He))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(He)){for(M=Nt(He).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[He].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[He][l].sliceAfterX(":")===M){N=NUTOOL_CLOCK.g_CLKSEL[He][l].slicePriorToX(":");break}S=-1===N.indexOf("/")?O.toFloat():O.toFloat()/parseInt(N.sliceAfterX("/"),10)}else S=O.toFloat()/Math.pow(2,Nt(He));else S=O.toFloat();-1!==Nt(Xe)&&(S/=Nt(Xe)+1),z=S,$("#PCLK_span_showRealFreq").text(z.toHzString()),W=0,V=0,G=0}return dt(),this},k=function(e){if($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(e)){for(K=[],l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)K.push(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/"));for(-1!==L.indexOf("Simplified")?(de="请设置值给除频器"+e+"。合理的数值应该为"+K+"的其中一个。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(de="請設置值給除頻器"+e+"。合理的數值應該為"+K+"的其中一個。",s="設置值給除頻器"+e,C="確認"):(de="Please configure a value to "+e+". The feasible value should be one of "+K+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+de+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){for(te=parseInt($("#"+e+"_input_dialog").val(),10).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/")===te){N=NUTOOL_CLOCK.g_CLKSEL[e][l];break}P.name="1/("+e+": "+te+")",b.fillStyle="#FFFFFF",P.textLength=b.measureText(P.name).width,b.fillRect(P.x,P.y-18,P.textLength,25),b.fillStyle=P.lastColor=P.color=Ee,P.x=P.x+(P.textLength-b.measureText(P.name).width)/2,b.fillText(P.name,P.x,P.y),tt(e,N.sliceAfterX(":")),v(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),te=Nt(e).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].sliceAfterX(":")===te){N=NUTOOL_CLOCK.g_CLKSEL[e][l];break}$("#"+e+"_input_dialog").val(N.slicePriorToX(":").sliceAfterX("/")).width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||-1===K.indexOf(this.value))&&($("#"+e+"_input_dialog").val("1"),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again."))}))}else{for(t=0,i=x.length;t<i;t+=1)for(g=x[t],l=0,a=NUTOOL_CLOCK.g_register_map[g].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_register_map[g][l]).indexOf(e)&&O.indexOf(":")===e.length){K=-1!==O.indexOf("-")?parseInt(O.sliceBetweenXandX(":","-"),10)-parseInt(O.sliceAfterX("-"),10)+1:parseInt(O.sliceAfterX(":"),10),K=Math.pow(2,K)-1;break}-1!==L.indexOf("Simplified")?(de="请设置值给除频器"+e+"。合理的范围从0到"+K+"。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(de="請設置值給除頻器"+e+"。合理的範圍從0到"+K+"。",s="設置值給除頻器"+e,C="確認"):(de="Please configure a value to "+e+". The feasible range is from 0 to "+K+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+de+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){te=parseInt($("#"+e+"_input_dialog").val(),10),P.name="1/("+e+": "+te+" + 1)",b.fillStyle="#FFFFFF",P.textLength=b.measureText(P.name).width,b.fillRect(P.x,P.y-18,P.textLength,25),b.fillStyle=P.lastColor=P.color=Ee,P.x=P.x+(P.textLength-b.measureText(P.name).width)/2,b.fillText(P.name,P.x,P.y),tt(e,te),v(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val(Nt(e)).width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>K||parseInt(this.value,10)<0)&&($("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again."))}))}};for(b.font="18px Arial",b.fillStyle="black",he=f.length,Z=0,fe=[],Te=[],t=0,i=he;t<i;t+=1)-1===f[t].indexOf(Ae)&&-1===f[t].indexOf("BASECLK")?fe.push(f[t]+": "+ze(f[t]).toHzString()):fe.push(f[t]),b.measureText(fe[fe.length-1]).width>Z&&(Z=b.measureText(fe[fe.length-1]).width),-1!==$.inArray(f[t].slicePriorToX("/").toString(),ce)?Te[t]="black":Te[t]=Ue;if(Z+=30,he>1?(ee=""!==o?Ne+b.measureText("1/("+o+": 0 + 1)").width:0,ne=ge+Z+xe+ee+Ne+b.measureText(n).width+ge,ie=40+22*(f.length-1)+40):(ne=""!==o?ge+Z+b.measureText("1/("+o+": 0 + 1)").width+Ne+b.measureText(n).width+ge:ge+Z+b.measureText(n).width+ge,ie=80),void 0!==p&&0!==p.length&&(ie=40+22*(p.length-1)+40),e.setAttribute("width",ne),e.setAttribute("height",ie),b.font="18px Arial",b.fillStyle="black",J=ge,E=[],(P={}).name="",he>1){for(t=0,i=he;t<i;t+=1)Q=ue+22*t+Me,b.fillStyle=Te[t],b.fillText(fe[t],J,Q),new st(J,Q+2,J+Z,Q+2).drawWithArrowheads(b),E.push({name:fe[t],x:J,y:Q,textLength:b.measureText(fe[t]).width,color:Te[t],lastColor:Te[t]});b.beginPath(),b.moveTo(ge+Z,ue),b.lineTo(ge+Z,ue+22*(he-1)+40),b.lineTo(ge+Z+xe,ue+22*(he-1)+Me),b.lineTo(ge+Z+xe,40),b.lineTo(ge+Z,ue),b.stroke(),ee=0,""!==o&&(new st(ge+Z+xe,ue+22*(he-1)/2+Me,ge+Z+xe+Ne,ue+22*(he-1)/2+Me).drawWithArrowheads(b),ee+=Ne,J=ge+Z+xe+Ne,Q=ue+22*(he-1)/2+Me+9-2,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(b.fillText("1/("+o+": 0)",J,Q),ee+=b.measureText("1/("+o+": 0)").width,P={name:"1/("+o+": 0)",x:J,y:Q,textLength:b.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(b.fillText("1/("+o+": 0 + 1)",J,Q),ee+=b.measureText("1/("+o+": 0 + 1)").width,P={name:"1/("+o+": 0 + 1)",x:J,y:Q,textLength:b.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"})),new st(ge+Z+xe+ee,ue+22*(he-1)/2+Me,ge+Z+xe+ee+Ne,ue+22*(he-1)/2+Me).drawWithArrowheads(b),b.fillText(n,ge+Z+xe+ee+Ne,ue+22*(he-1)/2+Me+9-2)}else Q=40,b.fillText(fe[0],J,Q),new st(J,Q+2,J+Z,Q+2).drawWithArrowheads(b),E.push({name:fe[0],x:J,y:Q,textLength:b.measureText(fe[0]).width,color:Te[0],lastColor:Te[0]}),ee=0,""!==o&&(J=ge+Z,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(b.fillText("1/("+o+": 0)",J,Q+9-2),ee+=b.measureText("1/("+o+": 0)").width,P={name:"1/("+o+": 0)",x:J,y:Q+9-2,textLength:b.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(b.fillText("1/("+o+": 0 + 1)",J,Q+9-2),ee+=b.measureText("1/("+o+": 0 + 1)").width,P={name:"1/("+o+": 0 + 1)",x:J,y:Q+9-2,textLength:b.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new st(ge+Z+ee,Q,ge+Z+ee+Ne,Q).drawWithArrowheads(b),ee+=Ne),b.fillText(n,ge+Z+ee,Q+9-2);h.addEvent(e,"mousemove",(function(n){Ce(e,n),function(){for(u=!1,t=0,i=E.length;t<i;t+=1)ae>=E[t].x&&ae<=E[t].x+E[t].textLength&&re>=E[t].y-18-3&&re<=E[t].y?E[t].color!==Pe&&(E[t].lastColor=E[t].color,E[t].color=Pe,u=!0):E[t].color!==E[t].lastColor&&(E[t].color=E[t].lastColor,u=!0);if(u)for(t=0,i=E.length;t<i;t+=1)b.fillStyle="#FFFFFF",b.fillRect(E[t].x,E[t].y-18,E[t].textLength+10,18),b.fillStyle=E[t].color,b.fillText(E[t].name,E[t].x,E[t].y);u=!1,P.name&&(ae>=P.x&&ae<=P.x+P.textLength&&re>=P.y-18&&re<=P.y?P.color!==Pe&&(P.lastColor=P.color,P.color=Pe,u=!0):P.color!==P.lastColor&&(P.color=P.lastColor,u=!0)),u&&(b.fillStyle="#FFFFFF",b.fillRect(P.x,P.y-18,P.textLength,25),b.fillStyle=P.color,b.fillText(P.name,P.x,P.y))}()})),h.addEvent(e,"click",(function(){U()})),-1!==n.indexOf(Ae)?(Oe="<div id='HCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Ae+"<span class=realOutput_after_span>: </span><span id='HCLK_span_showRealFreq'></span></p></div>",r.append(Oe),$("#HCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(85+ie+30)+"px; width: 90%;"),$("#HCLK_div_showRealFreq").css("border-bottom","8px solid black"),$("#HCLK_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf("PCLK0")?(Oe="<div id='PCLK0_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>PCLK0<span class=realOutput_after_span>: </span><span id='PCLK0_span_showRealFreq'></span></p></div>",r.append(Oe),$("#PCLK0_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(oe+ie+30)+"px;"),$("#PCLK0_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf("PCLK1")?(Oe="<div id='PCLK1_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>PCLK1<span class=realOutput_after_span>: </span><span id='PCLK1_span_showRealFreq'></span></p></div>",r.append(Oe),$("#PCLK1_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(oe+ie+60)+"px;"),$("#PCLK1_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf("PCLK2")?(Oe="<div id='PCLK2_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>PCLK2<span class=realOutput_after_span>: </span><span id='PCLK2_span_showRealFreq'></span></p></div>",r.append(Oe),$("#PCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(oe+ie+90)+"px;"),$("#PCLK2_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(ye)&&(Oe="<div id='PCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+ye+"<span class=realOutput_after_span>: </span><span id='PCLK_span_showRealFreq'></span></p></div>",r.append(Oe),$("#PCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(oe+ie+30)+"px;"),$("#PCLK_span_showRealFreq").css("color","#2E2EFE")),-1!==L.indexOf("Simplified")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: ")):($(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),function(){if(""!==o){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(M=Nt(o).toString(),t=0,i=NUTOOL_CLOCK.g_CLKSEL[o].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[o][t].sliceAfterX(":")===M){N=NUTOOL_CLOCK.g_CLKSEL[o][t].slicePriorToX(":");break}-1===N.indexOf("/")?P.name="1/("+o+": 1)":P.name="1/("+o+": "+N.sliceAfterX("/")+")"}else P.name="1/("+o+": "+Nt(o)+" + 1)";b.fillStyle="#FFFFFF",P.textLength=b.measureText(P.name).width,b.fillRect(P.x,P.y-18,P.textLength,25),b.fillStyle=P.lastColor=P.color=Ee,P.x=P.x+(P.textLength-b.measureText(P.name).width)/2,b.fillText(P.name,P.x,P.y)}if(N="",O="BASECLK"===n?"BASESEL":n===Ae?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?"CPUCKDIV":Fe:"PCLK0"===n?De:"PCLK1"===n?Be:"PCLK2"===n?qe:He,-1!==(M=Nt(O).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(O))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[O].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[O][t].sliceAfterX(":")===M){N=NUTOOL_CLOCK.g_CLKSEL[O][t].slicePriorToX(":");break}if(M=E.length,""!==N)for(t=0,i=E.length;t<i;t+=1)if(-1!==(O=E[t].name).indexOf("DIV")&&-1!==O.indexOf(":")&&(O=(T=O).slicePriorToX(":")+"+"+T.sliceAfterX("+")),-1!==O.indexOf(":")){if(-1!==O.indexOf(N)&&O.indexOf(":")===N.length&&E[t].color!==Ue){M=t;break}}else if(-1!==O.indexOf(N)){M=t;break}U(M)}()},Ce=function(e,t){return le=e.getBoundingClientRect(),ae=t.clientX-le.left,re=t.clientY-le.top,this},_e=function(){var e;if(e=rt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[u.slicePriorToX("(")],10),Se)Se=!1;else if("none"!==$("#add-tab-3").css("display")){if(q>e)return void(-1!==L.indexOf("Simplified")?ut("CPU频率上限为"+e.toHzString()+"。 "+Ae+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?ut("CPU頻率上限為"+e.toHzString()+"。 "+Ae+"頻率不應超過其限制。"):ut("The upper limit of CPU frequency is "+e.toHzString()+". The "+Ae+" frequency should not run beyond the limit."));$("#tab-4")[0]||$e(),$("#add-tab-3").hide(),M<$("#tabs").tabs("option","active")+1&&(M=$("#tabs").tabs("option","active")+1)}},it(),$("#tab-4")[0]?($("<li id='li-3'><a href='#tab-3'>"+Ae+"/"+ye+"</a></li>").insertBefore("#li-4"),$("<div id='tab-3'></div>").insertBefore("#tab-4")):($("#tabs ul").append("<li id='li-3'><a href='#tab-3'>"+Ae+"/"+ye+"</a></li>"),$("#tabs").append("<div id='tab-3'></div>")),r=$("#tab-3"),P=0,U=0,v=0,k=0,R=0,I=0,m=0,A=0,y=0,ce=[],ht("OSC10K_EN".toEquivalent())&&(P=NUTOOL_CLOCK.g_LIRCfrequency,0===p.indexOf("KM1M7CF")?ce.push(me):ce.push("LIRC")),(ht("OSC22M_EN".toEquivalent())||ht("HIRC1EN"))&&(U=NUTOOL_CLOCK.g_HIRCfrequency,ce.push(Re)),(ht("OSC22M2_EN".toEquivalent())||ht("HIRC2EN"))&&(v=NUTOOL_CLOCK.g_HIRC2frequency,ce.push(Ie)),ht("HIRC48EN")&&(k=NUTOOL_CLOCK.g_HIRC48frequency,ce.push("HIRC48")),ht("MIRCEN")&&(R=NUTOOL_CLOCK.g_MIRCfrequency,ce.push("MIRC")),ht("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency,ce.push("MIRC1P2M")),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(m=NUTOOL_CLOCK.g_RTC32kfrequency,ce.push("RTC32k")),ht(We)&&(A=32768,ce.push("LXT")),ht("LIRC32KEN")&&(A=32e3,ce.push("LXT")),ht(Ve)&&(y=1e6*parseFloat($("#"+Ve+"_input").val()),B=NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency,ce.push(ve),ce.push("HSUSB_OTG_PHY")),(!ht("PD")||ht("PLLEN"))&&w>0&&ce.push(ke),!ht("APD")&&H>0&&ce.push("APLL"),ht("PLL2CKEN")&&X>0&&ce.push("PLL2"),ht("PLL2CKEN")&&F>0&&ce.push("PLL480M"),!ht("PDFN")&&D>0&&ce.push("PLLFN"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")&&ce.push("BASECLK"),ce.push(Ae),be=[],_=Fe,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));if(-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?r[0].appendChild(ot("button","add-tab-3","下一步")):r[0].appendChild(ot("button","add-tab-3","Next Step")),r[0].appendChild(ot("canvas","HCLK_canvas")),(S=$("#HCLK_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:85px; border: 1px solid black;"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(se(S[0],"BASECLK","",be,NUTOOL_CLOCK.g_CLKSEL.CPUCKDIV),be=[],_="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));r[0].appendChild(ot("canvas","HCLK_canvas1")),(N=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:400px; top:85px; border: 1px solid black;"),se(N[0],Ae,"",be)}else se(S[0],Ae,we,be);if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(De)){if(oe=85+ie+30+60,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(De)){for(be=[],ce.push("PCLK0"),l=0,a=NUTOOL_CLOCK.g_CLKSEL[De].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[De][l].slicePriorToX(":"));r[0].appendChild(ot("canvas","PCLK0_canvas")),(E=$("#PCLK0_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+oe+"px; border: 1px solid black;"),se(E[0],"PCLK0","",be)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Be)){for(be=[],ce.push("PCLK1"),l=0,a=NUTOOL_CLOCK.g_CLKSEL[Be].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[Be][l].slicePriorToX(":"));r[0].appendChild(ot("canvas","PCLK1_canvas")),(j=$("#PCLK1_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:300px; top:"+oe+"px; border: 1px solid black;"),se(j[0],"PCLK1","",be)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(qe)){for(be=[],ce.push("PCLK2"),l=0,a=NUTOOL_CLOCK.g_CLKSEL[qe].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[qe][l].slicePriorToX(":"));r[0].appendChild(ot("canvas","PCLK2_canvas")),(Y=$("#PCLK2_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:570px; top:"+oe+"px; border: 1px solid black;"),se(Y[0],"PCLK2","",be)}NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(qe)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:720px; top:"+(oe+ie+30)+"px;"):NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Be)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:450px; top:"+(oe+ie+30)+"px;"):$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(oe+ie+30+40)+"px;")}else{if(ce.push(ye),be=[],_=He,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(He))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)be.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));else be=[Ae];r[0].appendChild(ot("canvas","PCLK_canvas")),b=$("#PCLK_canvas"),oe=85+ie+30+60,b[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+oe+"px; border: 1px solid black;"),-1===Nt(Xe)?se(b[0],ye,"",be):se(b[0],ye,Xe,be),$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(oe+ie+30+40)+"px;")}$("#add-tab-3").addClass("css_btn_class"),h.addEvent($("#add-tab-3")[0],"click",_e),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:2}),2!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:1}),"none"!==$("#clockRegsTree").css("display")?(Le.css("width",n-f-8+"px"),$("#tab-3").css("width",n-f-8+"px")):(Le.css("width",n-8+"px"),$("#tab-3").css("width",n-8+"px")),Le.css("height",o-8+"px"),$("#tab-3").css("height",o-8+"px"),"single"!==e&&M>$("#tabs").tabs("option","active")+1&&_e(),$("#tab-4")[0]&&$("#add-tab-3").hide()}function ye(e){var t,i,l,a,r,s,C,_,d,c,O,T,g,u,S,N,x,b,E,P,U,v,k,R,I,m,A,y,B,q,z,W,V,j,G,Y,Z,J,Q,ee,te,ne,ie,oe,le,ae,re,se,Ce,_e,Le,de,ce,Oe,fe=$("#tabs"),Te=0,pe=0,ge=0,ue=0,he=0,Ke={},Ne=[],xe=[],Me=!1,be=6,Ee=[],Pe=!1,Ue="",ve="",ke="",Re="",Ie="",me="",$e="",ye="",we="",Xe="",Fe="HXT".toEquivalent().toString(),He="PLL".toEquivalent().toString(),De="HIRC".toEquivalent().toString(),Be="HIRC2".toEquivalent().toString(),qe="LIRC".toEquivalent().toString(),ze="HCLK".toEquivalent().toString(),We="HCLK_S".toEquivalent().toString(),Ve="PLLCON".toEquivalent().toString(),je="OSC10K_EN".toEquivalent().toString(),Ge="OSC22M_EN".toEquivalent().toString(),Ye="OSC22M2_EN".toEquivalent().toString(),Ze="XTL32K_EN".toEquivalent().toString(),Je="XTL12M_EN".toEquivalent().toString();Le=0,de=0,"NUC400"===p?(be=4,0===w&&(Te=84e6),0===X&&(pe=24e7)):0===p.indexOf("M25")?(ie=4e6,oe=8e6,re=64e6,se=1e8,Le=16e6,de=1e8,0===w&&(Te=48e6)):"M2351"===p||"M2354"===p||"M261"===p?(ie=2e6,oe=8e6,re=96e6,se=2e8,Le=24e6,de=144e6,0===w&&(Te=48e6)):"M451"===p||"NUC1262"===p||0===p.indexOf("M030")||0===p.indexOf("M031")?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=2e8,se=5e8,0===w&&(Te=0===p.indexOf("M030")||0===p.indexOf("M031")?96e6:"NUC1262"===p?144e6:72e6)):0===p.indexOf("M460")?(be=2,ie=4e6,oe=8e6,re=2e8,se=5e8,Le=5e7,de=5e8,le=1e6,ae=8e6,Ce=2e8,_e=5e8,ce=5e7,Oe=5e8,0===w&&(Te=192e6),0===D&&(ue=18e7)):0===p.indexOf("M480")?(ie=4e6,oe=8e6,re=2e8,se=5e8,Le=5e7,de=5e8,0===w&&(Te=72e6)):0===p.indexOf("KM1M4")?(te=4e6,ne=2e7,re=12e7,se=24e7,Le=6e7,de=12e7,0===w&&(Te=1e8)):0===p.indexOf("KM1M7")?(te=4e6,ne=2e7,re=12e7,se=24e7,Le=6e7,de=16e7,0===w&&(Te=1e8)):"NUC100AN"===p||"NUC100BN"===p||"NUC100CN"===p||"M051AN"===p||"M0519"===p||"NM1500"===p?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=1e8,se=2e8,0===w&&(Te=48e6)):"NUC100DN"===p||"NUC131"===p||"M0518"===p||"NUC200AN"===p||"NUC200AE"===p||"NUC2201"===p||"NUC029xDE"===p||"NUC029xEE"===p?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=2e8,0===w&&(Te=48e6)):"NUC122AN"===p?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=5e8,0===w&&(Te=48e6)):"NUC121AE"===p?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=2e8,se=5e8,0===w&&(Te=96e6)):"NUC123AN_AE"===p||"M0564"===p||0===p.indexOf("NUC126")||"NUC029xGE"===p?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=1e8,se=2e8,0===w&&(Te=48e6)):"MINI58"===p?(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===w&&(Te=5e7)):"NANO100AN"===p?(te=0,ne=0,ie=0,oe=0,Le=re=0,de=se=12e7,0===w&&(Te=96e6)):"NANO100BN"===p?(te=0,ne=0,ie=0,oe=0,Le=re=48e6,de=se=96e6,0===w&&(Te=96e6)):"NANO112"===p?(te=8e5,ne=2e6,ie=0,oe=0,Le=re=16e6,de=se=32e6,0===w&&(Te=16e6)):"NANO103"===p?(te=8e5,ne=2e6,ie=0,oe=0,Le=re=16e6,de=se=36e6,0===w&&(Te=16e6)):"NUC505"===p?(be=2,te=0,ne=0,ie=5e6,oe=8e7,re=3e8,se=1e9,le=25e5,ae=8e7,Ce=2e8,_e=5e8,0===w&&(Te=24e7),0===H&&(ge=24e7)):(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===w&&(Te=48e6)),Z=function(e,n,i,o,l,r,s){if(a=s?r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>",e.append(a),a="<div id='"+i+"_div_showRealFreq'><br /><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+i+"<span class=realOutput_after_span>: </span><span id='"+i+"_span_showRealFreq'></span></p></div><br /><br />",e.append(a),s){for(T=$("#"+i+"_inaccuracy_select"),t=0;t<11;t+=1){Ke=window.document.createElement("option");try{Ke.innerHTML=Ke.value=t+"%",Ke.id=i+"_inaccuracy_"+t+"%"}catch(e){}T[0].appendChild(Ke)}T.val("0%"),T.on("change",(function(){i===He?J($("#PD_input").val(),!1,T.val(),Ve):"APLL"===i?J($("#APD_input").val(),!1,T.val(),"APLLCTL"):"PLLFN"===i&&J($("#PDFN_input").val(),!1,T.val(),"PLLFNCTL0")}))}-1!==L.indexOf("Simplified")?($("#pll_clocks_span").text(He),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: "),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#pll_clocks_span").text(He),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: "),$("[title]").prop("title","輸入期望值")):($("#pll_clocks_span").text(He),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": "),$("[title]").prop("title","Input the expected value")),$("#"+i+"_span_showRealFreq").css("color","#2E2EFE"),$("#"+n+"_input").width(55),$("#"+n+"_input").height(20),$("#PLL2CKEN_input").width(78)},J=function(e,n,o,l){var a,r,s,C="General",_=null;if(void 0!==o){for(l===Ve?$("#PLLCTLtable").dataTable().fnDestroy():"APLLCTL"===l?$("#APLLCTLtable").dataTable().fnDestroy():"PLLFNCTL0"===l&&$("#PLLFNCTLtable").dataTable().fnDestroy(),o=parseInt(o.slice(0,o.length-1),10),e=1e6*parseFloat(e,10),Ne=[],0===p.indexOf("KM1M7CF")?ht(Je)?Ne.push(Fe):Ne.push(De):((ht(Ge)||ht("HIRC1EN"))&&-1===p.indexOf("KM1M7")&&-1===p.indexOf("KM1M4")&&("NUC121AE"===p||"NUC1262"===p?Ne.push(De+"/2"):0===p.indexOf("M25")||0===p.indexOf("M030")||0===p.indexOf("M031")?Ne.push(De+"/4"):Ne.push(De)),!ht("MIRCEN")||0!==p.indexOf("M25")&&"NANO103"!==p||Ne.push("MIRC"),ht(Je)&&Ne.push(Fe)),C="General",t=0,i=NUTOOL_CLOCK.g_register_map[l].length;t<i;t+=1){if("FB_DV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO100AN_BN";break}if("PLL_MLP:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO112_103";break}if("PLLREMAP:20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC400";break}if("FBDIV:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(PLL)";break}if("FRAC:31-20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(APLL)";break}if("FBDIV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="M251";break}if("PLLMUL:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M4";break}if("PLLMUL:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M7";break}if("STBSEL:23"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLL)";break}if("FRDIV:27-16"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLLFN)";break}}if(0!==p.indexOf("M480")&&"M2351"!==p&&"M2354"!==p&&"M261"!==p||(C="M480"),xe=[],n?(Pe=!1,I=K[l]&Math.pow(2,16)-1,R=1048576&K[l]?1:0,m=1===Nt("PLL_SRC")?"NUC121AE"===p||"NUC1262"===p?De+"/2":0===p.indexOf("M25")||0===p.indexOf("M030")||0===p.indexOf("M031")?De+"/4":De:2===Nt("PLL_SRC")||3===Nt("PLL_SRC")?"MIRC":"M460(PLL)"===C&&1===Nt("PLL_SRC")||"M460(PLLFN)"===C&&1===Nt("PLLFNSRC")?De:Fe):Pe=!0,"NANO100AN_BN"===C)for(t=0,i=Ne.length;t<i;t+=1)for(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,6);N<k;N+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)for(u=0,U=Math.pow(2,1);u<U;u+=1)E=u+1,(B=A*(N+32)/Math.pow(2,S+1)/E)>=re&&B<=se&&(q=Math.abs(B-e)/e*100)<=o&&((u<<12)+(S<<8)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((u<<12)+(S<<8)+N,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((u<<12)+(S<<8)+N,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%"));else if("NANO112_103"===C)for(t=0,i=Ne.length;t<i;t+=1)for(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:"MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()),0!==NUTOOL_CLOCK.g_MIRCfrequency?(a=6,r=36):(a=4,r=32),N=1,k=r;N<=k;N+=1)for(S=0,v=Math.pow(2,a);S<v;S+=1)B=(y=A/(S+1))*N,y>=te&&y<=ne&&B>=re&&B<=se&&(q=Math.abs(B-e)/e*100)<=o&&((S<<8)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((S<<8)+N,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((S<<8)+N,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%"));else if("NUC400"===C)for(t=0,i=Ne.length;t<i;t+=1){if(s=Ne[t],(A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()))>32e5&&A<15e7)for(g=0,P=Math.pow(2,1);g<P;g+=1)for(N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:case 2:E=2;break;case 3:E=4}Me=!1,0===g?A/2/(S+2)>8e5&&A/2/(S+2)<8e6&&A*(N+2)/(S+2)>1e8&&A*(N+2)/(S+2)<2e8&&(Me=!0):A/2/(S+2)>8e5&&A/2/(S+2)<8e6&&A*(N+2)/(S+2)>2e8&&A*(N+2)/(S+2)<5e8&&(Me=!0),Me&&(B=A*(N+2)/(S+2)/E,(q=Math.abs(B-e)/e*100)<=o&&(g===R&&(u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]=g,xe[0][3]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][4]=s,xe[0][5]=(B/1e6).toFixed(4)+"MHz",xe[0][6]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]=g,xe[xe.length-1][3]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][4]=s,xe[xe.length-1][5]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][6]=q.toFixed(4)+"%")))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xX",xe[0][3]="0xXXXX",xe[0][4]=s,xe[0][5]=(B/1e6).toFixed(4)+"MHz",xe[0][6]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xX",xe[xe.length-1][3]="0xXXXX",xe[xe.length-1][4]=s,xe[xe.length-1][5]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][6]=q.toFixed(4)+"%"))}else if("NUC505(PLL)"===C){for(s=Ne[0],A=1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,7);N<k;N+=1)for(S=0,v=Math.pow(2,6);S<v;S+=1)for(u=0,U=Math.pow(2,3);u<U;u+=1)E=u+1,A/(S+1)>=ie&&A/(S+1)<=oe&&A*(N+1)/(S+1)>=re&&A*(N+1)/(S+1)<=se&&(B=A*(N+1)/(S+1)/E,(q=Math.abs(B-e)/e*100)<=o&&((u<<13)+(S<<7)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<13)+(S<<7)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<13)+(S<<7)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%")));B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}else if("NUC505(APLL)"===C)for(s=Ne[0],A=1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,7);N<k;N+=1)for(S=0,v=Math.pow(2,6);S<v;S+=1)for(u=0,U=Math.pow(2,3);u<U;u+=1)E=u+1,A/(S+1)>=le&&A/(S+1)<=ae&&A*(N+1)/(S+1)>=Ce&&A*(N+1)/(S+1)<=_e&&(B=A*(N+1)/(S+1)/E,(q=Math.abs(B-e)/e*100)<=o&&((u<<13)+(N<<6)+S===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((u<<13)+(N<<6)+S,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((u<<13)+(N<<6)+S,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%")));else if("M460(PLL)"===C)for(t=0,i=Ne.length;t<i;t+=1){for(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:case 2:E=2;break;case 3:E=4}A/(S+1)>=ie&&A/(S+1)<=oe&&2*A*(N+2)/(S+1)>=re&&2*A*(N+2)/(S+1)<=se&&(B=2*A*(N+2)/(S+1)/E)>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}else if("M460(PLLFN)"===C)for(t=0,i=Ne.length;t<i;t+=1){for(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:case 2:E=2;break;case 3:E=4}A/(S+1)>=le&&A/(S+1)<=ae&&2*A*(N+2)/(S+1)>=Ce&&2*A*(N+2)/(S+1)<=_e&&N+2>=12&&N+2<=255&&(B=2*A*(N+2)/(S+1)/E)>=ce&&B<=Oe&&(q=Math.abs(B-e)/e*100)<=o&&((u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}else if("M480"===C)for(t=0,i=Ne.length;t<i;t+=1){for(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:case 2:E=2;break;case 3:E=4}A/(S+1)>=ie&&A/(S+1)<=oe&&2*A*(N+2)/(S+1)>=re&&2*A*(N+2)/(S+1)<=se&&(B=2*A*(N+2)/(S+1)/E)>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}else if("KM1M4"===C)for(t=0,i=Ne.length;t<i;t+=1)for((s=Ne[t])===Fe&&(A=1e6*parseFloat($("#"+Je+"_input").val())),N=10,k=81;N<k;N+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)B=(y=A*N/(2*(x=0===S?1:S)))/2,1!==S&&A/x>=te&&A/x<=ne&&y>=re&&y<=se&&B>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((S<<8)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((S<<8)+N,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((S<<8)+N,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%"));else if("KM1M7"===C)if("PLLIDIV:9-8"===NUTOOL_CLOCK.g_register_map.CHIPPLLCTR2[0])for(t=0,i=Ne.length;t<i;t+=1)for((s=Ne[t])===Fe&&(A=1e6*parseFloat($("#"+Je+"_input").val())),N=10,k=Math.pow(2,6);N<k;N+=1)for(S=0,v=Math.pow(2,2);S<v;S+=1)for(u=0,U=Math.pow(2,1);u<U;u+=1)B=(y=A*N/(x=0===S?1:S))/(E=u+1),1!==S&&A/x>=te&&A/x<=ne&&y>=re&&y<=se&&B>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((u<<6)+(S<<8)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((u<<6)+(S<<8)+N,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((u<<6)+(S<<8)+N,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%"));else for(t=0,i=Ne.length;t<i;t+=1)for((s=Ne[t])===De?A=NUTOOL_CLOCK.g_HIRCfrequency:s===Fe&&(A=1e6*parseFloat($("#"+Je+"_input").val())),N=10,k=Math.pow(2,6);N<k;N+=1)for(S=0,v=Math.pow(2,1);S<v;S+=1)for(u=0,U=Math.pow(2,1);u<U;u+=1)B=(y=A*N/(x=0===S?1:1===S?2:S))/(E=u+1),A/x>=te&&A/x<=ne&&y>=re&&y<=se&&B>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((u<<6)+(S<<8)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0x"+at((u<<6)+(S<<8)+N,4).toUpperCase(),xe[0][2]=s,xe[0][3]=(B/1e6).toFixed(4)+"MHz",xe[0][4]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0x"+at((u<<6)+(S<<8)+N,4).toUpperCase(),xe[xe.length-1][2]=s,xe[xe.length-1][3]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][4]=q.toFixed(4)+"%"));else if("M251"===C)for(t=0,i=Ne.length;t<i;t+=1){for(s=Ne[t],A="MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:s===De+"/4"?NUTOOL_CLOCK.g_HIRCfrequency/4:1e6*parseFloat($("#"+Je+"_input").val()),N=0,k=Math.pow(2,6);N<k;N+=1)for(S=0,v=Math.pow(2,4);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:E=2;break;case 2:case 3:E=4}b=0!==N?N:64,A/(x=0!==S?S:16)>=ie&&A/x<=oe&&A*b/x>=re&&A*b/x<=se&&(B=A*b/x/E)>=Le&&B<=de&&(q=Math.abs(B-e)/e*100)<=o&&((u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}else for(t=0,i=Ne.length;t<i;t+=1){if(s=Ne[t],A=s===De?NUTOOL_CLOCK.g_HIRCfrequency:0===s.indexOf(De)&&"/"===s.charAt(4)?NUTOOL_CLOCK.g_HIRCfrequency/parseInt(s.sliceAfterX("/"),10):1e6*parseFloat($("#"+Je+"_input").val()),console.log(`buildPLLCTLtable ${s}: ${A}`),A>te&&A<ne)for(N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,v=Math.pow(2,5);S<v;S+=1)for(u=0,U=Math.pow(2,2);u<U;u+=1){switch(u){case 0:E=1;break;case 1:case 2:E=2;break;case 3:E=4}A/2/(S+2)>ie&&A/2/(S+2)<oe&&A*(N+2)/(S+2)>re&&A*(N+2)/(S+2)<se&&(B=A*(N+2)/(S+2)/E,(q=Math.abs(B-e)/e*100)<=o&&((u<<14)+(S<<9)+N===I&&s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="0",xe[0][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="0",xe[xe.length-1][2]="0x"+at((u<<14)+(S<<9)+N,4).toUpperCase(),xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%")))}B=A,(q=Math.abs(B-e)/e*100)<=o&&(s===m?(xe.unshift([]),xe[0][0]="",xe[0][1]="1",xe[0][2]="0xXXXX",xe[0][3]=s,xe[0][4]=(B/1e6).toFixed(4)+"MHz",xe[0][5]=q.toFixed(4)+"%"):(xe[xe.length]=[],xe[xe.length-1][0]="",xe[xe.length-1][1]="1",xe[xe.length-1][2]="0xXXXX",xe[xe.length-1][3]=s,xe[xe.length-1][4]=(B/1e6).toFixed(4)+"MHz",xe[xe.length-1][5]=q.toFixed(4)+"%"))}l===Ve?$("#PLL_tableWrapper")[0]||$("<span id='PLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLCTLtable'></table></span>'").insertAfter($("#PD_div")):"APLLCTL"===l?$("#APLL_tableWrapper")[0]||$("<span id='APLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='APLLCTLtable'></table></span>'").insertAfter($("#APD_div")):"PLLFNCTL0"===l&&($("#PLLFN_tableWrapper")[0]||$("<span id='PLLFN_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLFNCTLtable'></table></span>'").insertAfter($("#PDFN_div"))),-1!==L.indexOf("Simplified")?(Ue="输入",ve="实际输出",ke="误差率",Re="没有可用的候选者。",Ie="列出从_START_到_END_。共有_TOTAL_候选者。",me="列出从0到0。共0候选者。",$e="前一页",ye="下一页",we="搜寻:",Xe="点击使得向上排序"):-1!==L.indexOf("Traditional")?(Ue="輸入",ve="實際輸出",ke="誤差率",Re="沒有可用的候選者。",Ie="列出從_START_到_END_。共有_TOTAL_候選者。",me="列出從0到0。共0候選者。",$e="前一頁",ye="下一頁",we="搜尋:",Xe="點擊使得向上排序"):(Ue="Input",ve="Real Output",ke="Inaccuracy",Re="No candidate is available.",Ie="Showing _START_ to _END_ of _TOTAL_ candidates",me="Showing 0 to 0 of 0 candidates",$e="Previous",ye="Next",we="Search:",Xe="Click to sort ascending"),_="NANO100AN_BN"===C||"NANO112_103"===C||"KM1M4"===C||"KM1M7"===C?$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:be,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:xe,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:Ue},{sTitle:ve},{sTitle:ke}],oLanguage:{sZeroRecords:Re,sInfo:Ie,sInfoEmpty:me,oPaginate:{sPrevious:$e,sNext:ye},sSearch:we,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):"NUC505(APLL)"===C?$("#APLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:be,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:xe,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:Ue},{sTitle:ve},{sTitle:ke}],oLanguage:{sZeroRecords:Re,sInfo:Ie,sInfoEmpty:me,oPaginate:{sPrevious:$e,sNext:ye},sSearch:we,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):"M460(PLLFN)"===C?$("#PLLFNCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:be,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:xe,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:Ue},{sTitle:ve},{sTitle:ke}],oLanguage:{sZeroRecords:Re,sInfo:Ie,sInfoEmpty:me,oPaginate:{sPrevious:$e,sNext:ye},sSearch:we,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):"NUC400"===C?$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:4,aaSorting:[[6,"asc"]],pagingType:"simple",aaData:xe,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:"PLLREMAP"},{sTitle:"PLLCTL[15:0]"},{sTitle:Ue},{sTitle:ve},{sTitle:ke}],oLanguage:{sZeroRecords:Re,sInfo:Ie,sInfoEmpty:me,oPaginate:{sPrevious:$e,sNext:ye},sSearch:we,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:be,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:xe,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:Ue},{sTitle:ve},{sTitle:ke}],oLanguage:{sZeroRecords:Re,sInfo:Ie,sInfoEmpty:me,oPaginate:{sPrevious:$e,sNext:ye},sSearch:we,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}),l===Ve?($("#PLLCTLtable tbody").delegate("tr td:first-child","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&("NANO100AN_BN"===C||"NANO112_103"===C?(V=Ee[t].childNodes[1].innerText,j=Ee[t].childNodes[2].innerText,w=Ee[t].childNodes[3].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),G=393216,Y=K[l]&G,Y=K[l]-Y,K[l]=j===De?Y+(1<<17)>>>0:"MIRC"===j?Y+(2<<17)>>>0:Y):"KM1M4"===C||"KM1M7"===C?(V=Ee[t].childNodes[1].innerText,w=Ee[t].childNodes[3].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16))):"NUC400"===C?(W=Ee[t].childNodes[1].innerText,z=Ee[t].childNodes[2].innerText,V=Ee[t].childNodes[3].innerText,j=Ee[t].childNodes[4].innerText,w=Ee[t].childNodes[5].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xX"!==z&&(G=1048576,Y=K.PLLCTL&G,Y=K.PLLCTL-Y,z=(z=parseInt(z,10))<<20>>>0,K.PLLCTL=Y+z),"0xXXXX"!==V&&(Y=K.PLLCTL&Math.pow(2,16)-1,Y=K.PLLCTL-Y,K.PLLCTL=Y+parseInt(V.slice(2),16)),G=524288,Y=K.PLLCTL&G,Y=K.PLLCTL-Y,K.PLLCTL=j===De?Y+(1<<19)>>>0:Y,G=131072,Y=K.PLLCTL&G,Y=K.PLLCTL-Y,K.PLLCTL="1"===W?Y+(1<<17)>>>0:Y):"NUC505(PLL)"===C?(W=Ee[t].childNodes[1].innerText,V=Ee[t].childNodes[2].innerText,j=Ee[t].childNodes[3].innerText,w=Ee[t].childNodes[4].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),G=65536,Y=K[l]&G,Y=K[l]-Y,K[l]="1"===W?Y+65536>>>0:Y):"M251"===C?(W=Ee[t].childNodes[1].innerText,V=Ee[t].childNodes[2].innerText,j=Ee[t].childNodes[3].innerText,w=Ee[t].childNodes[4].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),G=1572864,Y=K[l]&G,Y=K[l]-Y,0===j.indexOf(De)?K[l]=Y+(1<<19)>>>0:0===j.indexOf("MIRC")?K[l]=Y+(3<<19)>>>0:K[l]=Y,G=131072,Y=K[l]&G,Y=K[l]-Y,K[l]="1"===W?Y+(1<<17)>>>0:Y):(W=Ee[t].childNodes[1].innerText,V=Ee[t].childNodes[2].innerText,j=Ee[t].childNodes[3].innerText,w=Ee[t].childNodes[4].innerText,w=1e6*parseFloat(w.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),G=524288,Y=K[l]&G,Y=K[l]-Y,0===j.indexOf(De)?K[l]=Y+(1<<19)>>>0:K[l]=Y,G=131072,Y=K[l]&G,Y=K[l]-Y,K[l]="1"===W?Y+(1<<17)>>>0:Y),et(),$("#"+He+"_span_showRealFreq").text(w.toHzString()),$("label[for='radio_PD_enable']").click())})),w=0,0!==xe.length&&$("#PLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLCTLtable thead").each((function(){this.setAttribute("title",Xe)}))):"APLLCTL"===l?($("#APLLCTLtable tbody").delegate("tr","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&(V=Ee[t].childNodes[1].innerText,j=Ee[t].childNodes[2].innerText,H=Ee[t].childNodes[3].innerText,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),et(),$("#APLL_span_showRealFreq").text(H.toHzString()),$("label[for='radio_APD_enable']").click())})),H=0,0!==xe.length&&$("#APLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#APLLCTLtable thead").each((function(){this.setAttribute("title",Xe)}))):"PLLFNCTL0"===l&&($("#PLLFNCTLtable tbody").delegate("tr","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&(W=Ee[t].childNodes[1].innerText,V=Ee[t].childNodes[2].innerText,j=Ee[t].childNodes[3].innerText,D=Ee[t].childNodes[4].innerText,D=1e6*parseFloat(D.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=K[l]&Math.pow(2,16)-1,Y=K[l]-Y,K[l]=Y+parseInt(V.slice(2),16)),G=1<<31>>>0,Y=Math.abs(K.PLLFNCTL1&G),Y=K.PLLFNCTL1-Y,0===j.indexOf(De)?K.PLLFNCTL1=Y+(1<<31)>>>0:K.PLLFNCTL1=Y,G=536870912,Y=K.PLLFNCTL1&G,Y=K.PLLFNCTL1-Y,K.PLLFNCTL1="1"===W?Y+(1<<29)>>>0:Y,et(),$("#PLLFN_span_showRealFreq").text(D.toHzString()),$("label[for='radio_PDFN_enable']").click())})),D=0,0!==xe.length&&$("#PLLFNCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLFNCTLtable thead").each((function(){this.setAttribute("title",Xe)}))),_.$("td").tooltip({delay:0,track:!0,fade:0})}},ee=function(e){!ht(Je)||12!==parseInt($("#"+Je+"_input").val(),10)&&24!==parseInt($("#"+Je+"_input").val(),10)?($("#PLL2_span_showRealFreq").text(""),X=0,F=0):(e>240?he=240:e<0?he=0:(C=Math.floor(240/e-1),_=Math.ceil(240/e-1),d=240/(C+1),c=240/(_+1),Math.abs(e-d)>Math.abs(e-c)?(O=_,he=c):(O=C,he=d)),he=1e6*parseFloat(he),$("#PLL2_span_showRealFreq").text(he.toHzString()),tt("PLL2DIV",O),X=1e6*parseFloat($("#PLL2_span_showRealFreq").text()),F=48e7)},Q=function(){var e,t,n=!1;if(Se)Se=!1;else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&ht("PLL2CKEN")&&ht(Je)&&12!==parseInt($("#"+Je+"_input").val(),10)&&24!==parseInt($("#"+Je+"_input").val(),10))pt("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous.");else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&ht("PLL2CKEN")&&!ht(Je))pt("请启用HXT，否则PLL2及PLL480M将不能工作正常。","請啟用HXT，否則PLL2及PLL480M將不能工作正常。","Please enable HXT, or PLL2 and PLL480M cannot work properly.");else if(ht(je)||ht(Ge)||ht("HIRC1EN")||ht(Ye)||ht("HIRC2EN")||ht("HIRC48EN")||ht("MIRCEN")||ht("MIRC1P2MEN")||ht(Je)||ht(Ze)||ht("LIRC32KEN")||ht("PLL2CKEN")){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(We))for(e=0,t=NUTOOL_CLOCK.g_CLKSEL[We].length;e<t;e++){switch(NUTOOL_CLOCK.g_CLKSEL[We][e].slicePriorToX(":").slicePriorToX("/").toString()){case Fe:ht(Je)&&(n=!0);break;case"LXT":(ht(Ze)||ht("LIRC32KEN"))&&(n=!0);break;case He:(!ht("PD")||ht("PLLEN"))&&w>0&&(n=!0);break;case"PLL2":ht("PLL2CKEN")&&X>0&&(n=!0);break;case De:(ht(Ge)||ht("HIRC1EN"))&&(n=!0);break;case Be:(ht(Ye)||ht("HIRC2EN"))&&(n=!0);break;case qe:case"LIRC":ht(je)&&(n=!0);break;default:case"MIRC":ht("MIRCEN")&&(n=!0);break;case"MIRC1P2M":ht("MIRC1P2MEN")&&(n=!0);break;case"HIRC48":ht("HIRC48EN")&&(n=!0)}if(n)break}n?"none"!==$("#add-tab-2").css("display")&&($("#tab-3")[0]||Ae(),$("#add-tab-2").hide(),M<$("#tabs").tabs("option","active")+1&&(M=$("#tabs").tabs("option","active")+1)):-1!==L.indexOf("Simplified")?ut("请至少为"+ze+"启用一个时脉源。"):-1!==L.indexOf("Traditional")?ut("請至少為"+ze+"啟用一個時脈源。"):ut("Please enable at least one clock source for "+ze+".")}else-1!==L.indexOf("Simplified")?ut("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?ut("請至少啟用一個時脈源。"):ut("Please enable at least one clock source.")},it(),$("#tab-3")[0]?($("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+He+"</span></a></li>").insertBefore("#li-3"),$("<div id='tab-2'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+He+"</span></a></li>"),fe.append("<div id='tab-2'></div>")),l=$("#tab-2"),tt("PD",1),tt("OE",1),tt("PLLEN",0),Z(l,"PD",He,"",0!==Le&&0!==de?"MHz ("+Le.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(tt("PLL2CKEN",0),Z(l,"PLL2CKEN","PLL2","","MHz",!1,!1),$("#PD_div")[0]&&$("#PLL2CKEN_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&(tt("APD",0),Z(l,"APD","APLL","","MHz",!1,!0),$("#PD_div")[0]&&$("#APD_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1&&(tt("PDFN",1),tt("OEFN",1),Z(l,"PDFN","PLLFN","",0!==ce&&0!==Oe?"MHz ("+Le.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),$("#PD_div")[0]&&$("#PDFN_div").css("border-top","8px solid black")),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ot("button","add-tab-2","下一步")):l[0].appendChild(ot("button","add-tab-2","Next Step")),$("#add-tab-2").addClass("css_btn_class"),h.addEvent($("#add-tab-2")[0],"click",Q),fe.tabs("refresh"),fe.tabs({active:1}),"none"!==$("#clockRegsTree").css("display")?fe.css("width",n-f-8+"px"):fe.css("width",n-8+"px"),fe.css("height",o-8+"px"),$("#tab-2").css("height",o-8+"px"),$(".cb-enable").click((function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),-1!==s.indexOf("PLL2CKEN")?(tt("PLL2CKEN",1),0!==X||!ht(Je)||12!==parseInt($("#"+Je+"_input").val(),10)&&24!==parseInt($("#"+Je+"_input").val(),10)?(!ht(Je)||12!==parseInt($("#"+Je+"_input").val(),10)&&24!==parseInt($("#"+Je+"_input").val(),10))&&(pt("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous."),$("#PLL2CKEN_input").change()):$("#PLL2CKEN_input").change()):-1!==s.indexOf("APD")?(0===H&&$("#APD_input").change(),tt("APD",0)):-1!==s.indexOf("PDFN")?(0===D&&$("#PDFN_input").change(),tt("PDFN",0),tt("OEFN",0)):(0===p.indexOf("KM1M7CF")&&(ht(Je)?tt("PLL_SRC",1):tt("PLL_SRC",0)),0===w&&$("#PD_input").change(),tt("PD",0),tt("OE",0),tt("PLLEN",1)),-1!==(s=s.sliceBetweenXandX("radio_","_enable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","black"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","black"):$(".PLL_"+s+"_p").css("color","black"),dt())})),$(".cb-disable").click((function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),-1!==s.indexOf("PLL2CKEN")?(tt("PLL2CKEN",0),X=0,F=0,$("#PLL2_span_showRealFreq").text("")):-1!==s.indexOf("APD")?(tt("APD",1),$("#APLLCTLtable").dataTable().fnDestroy(),$("#APLL_tableWrapper").remove(),$("#APLL_span_showRealFreq").text(""),H=0):-1!==s.indexOf("PDFN")?(tt("PDFN",1),tt("OEFN",1),$("#PLLFNCTLtable").dataTable().fnDestroy(),$("#PLLFN_tableWrapper").remove(),$("#PLLFN_span_showRealFreq").text(""),D=0):(tt("PD",1),tt("OE",1),null!=K.CHIPPLLCTR2&&(K.CHIPPLLCTR2=NUTOOL_CLOCK.g_register_map_default.CHIPPLLCTR2),tt("PLLEN",0),0===p.indexOf("KM1M7CF")&&tt("PLL_SRC",0),$("#PLLCTLtable").dataTable().fnDestroy(),$("#PLL_tableWrapper").remove(),$("#"+He+"_span_showRealFreq").text(""),w=0),-1!==(s=s.sliceBetweenXandX("radio_","_disable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","#BC8484"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","#BC8484"):$(".PLL_"+s+"_p").css("color","#BC8484"),dt())})),$("#PD_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#"+He+"_inaccuracy_select").val(),Ve):-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again.")})),$("#PLL2CKEN_input").change((function(){void 0!==this.value&&""!==this.value&&parseInt(this.value,10)>0&&/^\d*\.?\d*$/.test(this.value)?(ee(this.value),""!==$("#PLL2_span_showRealFreq").text()?$("label[for='radio_PLL2CKEN_enable']").click():$("label[for='radio_PLL2CKEN_disable']").click()):($("#PLL2CKEN_input").val(""),$("label[for='radio_PLL2CKEN_disable']").click(),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again."))})),$("#APD_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#APLL_inaccuracy_select").val(),"APLLCTL"):-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again.")})),$("#PDFN_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"):-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。請再試一次。"):ut("The inputted content is incorrect. Please try again.")})),(ht(Je)||ht(Ge)||ht("HIRC1EN")||ht(Ye)||ht("HIRC2EN")||ht("HIRC48EN")||ht("MIRCEN"))&&(w>0||H>0||D>0||1===M||"undefined"!=typeof NUTOOL_PER)?(1===M&&0===w&&(w=Te),1===M&&0===H&&(H=ge),1===M&&0===D&&(D=ue),w>0&&($("#PD_input").val(w/1e6),J(w/1e6,!0,$("#"+He+"_inaccuracy_select").val(),Ve)),H>0&&($("#APD_input").val(H/1e6),J(H/1e6,!0,$("#APLL_inaccuracy_select").val(),"APLLCTL")),D>0&&($("#PDFN_input").val(D/1e6),J(D/1e6,!0,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"))):(w=0,H=0,D=0),ht(Je)&&("12"===$("#"+Je+"_input").val()||"24"===$("#"+Je+"_input").val())&&(X>0||1===M)?(1===M&&0===X&&(X=pe),$("#PLL2CKEN_input").val(X/1e6),$("#PLL2CKEN_input").change()):(X=0,F=0),"single"!==e&&M>2&&(ht(je)||ht(Ge)||ht("HIRC1EN")||ht(Ye)||ht("HIRC2EN")||ht("HIRC48EN")||ht("MIRCEN")||ht("MIRC1P2MEN")||ht(Je)||ht(Ze)||ht("LIRC32KEN")||ht("PLL2CKEN"))&&Q(),$("#tab-3")[0]&&$("#add-tab-2").hide()}function we(e){var t,n,i,o,l,a,r,s,C,d,c,O,T,g=$("#tabs"),u="",K="HXT".toEquivalent().toString(),S="HXTWAIT".toEquivalent().toString(),N="HIRC".toEquivalent().toString(),x="HIRC2".toEquivalent().toString(),b="LIRC".toEquivalent().toString(),E="PWRCON".toEquivalent().toString(),w="OSC10K_EN".toEquivalent().toString(),X="OSC22M_EN".toEquivalent().toString(),F="OSC22M2_EN".toEquivalent().toString(),H="XTL32K_EN".toEquivalent().toString(),D="XTL12M_EN".toEquivalent().toString(),B=!1,q=!1,z=!1,W=!1,V=!1;if(C=function(e,t,n,i,o,l,r){"input"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"input_select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"text"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable' selected><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"alwaysEnabled"===l?a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"RTC32k"===l&&(a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+"(from </p><select id='"+t+"_select' title='Select a clock source' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>): 32.768"+o+"</p></div><br />"),e.append(a)},c=function(){Se?Se=!1:ht(w)||ht(X)||ht("HIRC1EN")||ht(F)||ht("HIRC2EN")||ht("HIRC48EN")||ht("MIRCEN")||ht("MIRC1P2MEN")||ht(D)||ht(H)||ht("LIRC32KEN")?"none"!==$("#add-tab-1").css("display")&&($("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ae():ye(),M<$("#tabs").tabs("option","active")+1&&(M=$("#tabs").tabs("option","active")+1),$("#add-tab-1").hide(),ht(w)&&(P=NUTOOL_CLOCK.g_LIRCfrequency),(ht(X)||ht("HIRC1EN"))&&(U=NUTOOL_CLOCK.g_HIRCfrequency),(ht(F)||ht("HIRC2EN"))&&(v=NUTOOL_CLOCK.g_HIRC2frequency),ht("HIRC48EN")&&(k=NUTOOL_CLOCK.g_HIRC48frequency),ht("MIRCEN")&&(R=NUTOOL_CLOCK.g_MIRCfrequency),ht("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency),ht(H)&&(A=32768),ht("LIRC32KEN")&&(A=32e3),ht(D)&&(y=1e6*parseFloat($("#"+D+"_input").val())),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(m=NUTOOL_CLOCK.g_RTC32kfrequency)):-1!==L.indexOf("Simplified")?ut("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?ut("請至少啟用一個時脈源。"):ut("Please enable at least one clock source.")},O=function(){var e=nt(NUTOOL_CLOCK.g_CLKSEL),l="",a="";for(ht(H)?(l="LXT",a=K):(l=K,a="LXT"),t=0,n=e.length;t<n;t+=1)for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[e[t]].length;i<o;i+=1)-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf(a)&&(-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf("HXTorLXT")?NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace("HXTorLXT",l):NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace(a,l))},T=function(){ht(H)?NUTOOL_CLOCK.g_Module.RTC[0]="LXT":0===p.indexOf("KM1M7CF")?NUTOOL_CLOCK.g_Module.RTC[0]=b:NUTOOL_CLOCK.g_Module.RTC[0]="LIRC"},it(),g[0].setAttribute("style","border: 1px solid white; position:absolute; margin-top: 55px; left:"+(f+8)+"px; top:0px;"),$("#tab-2")[0]||$("#tab-3")[0]?void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-2"),$("<div id='tab-1'></div>").insertBefore("#tab-2")):($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-3"),$("<div id='tab-1'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-1'><a href='#tab-1'><span id=base_clocks_span>Base Clocks</span></a></li>"),$("#tabs").append("<div id='tab-1'></div>")),l=$("#tab-1"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf(w+":")})).length?0===p.indexOf("KM1M7CF")?C(l,w,b,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):C(l,w,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):0===p.indexOf("KM1M7CF")?C(l,w,b,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0):C(l,w,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0)),0!==NUTOOL_CLOCK.g_HIRCfrequency)if(0===NUTOOL_CLOCK.g_HIRCfrequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf(X+":")})).length?C(l,X,N,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","text",!0):C(l,X,N,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","alwaysEnabled",!0);else{for(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("HIRCSEL")?(C(l,X,"HIRC0",0,"MHz","select",!0),C(l,"HIRC1EN","HIRC1",36,"MHz","text",!0)):C(l,X,N,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRCfrequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRCfrequencyArray[t]/1e6}catch(e){}$("#"+X+"_select")[0].appendChild(d)}ht("HIRC_FSEL")?$("#"+X+"_select").val(16):$("#"+X+"_select").val(12),$("#"+X+"_select").on("change",(function(){"16"===$(this).val()?tt("HIRC_FSEL",1):tt("HIRC_FSEL",0),ht(X)&&(NUTOOL_CLOCK.g_HIRCfrequency=parseInt(1e6*$(this).val(),10),dt())}))}if(0!==NUTOOL_CLOCK.g_HIRC2frequency)if(0===NUTOOL_CLOCK.g_HIRC2frequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf(F+":")})).length?C(l,F,x,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","text",!0):C(l,F,x,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","alwaysEnabled",!0);else{for(C(l,F,x,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRC2frequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRC2frequencyArray[t]/1e6}catch(e){}$("#"+F+"_select")[0].appendChild(d)}ht("HIRC_FSEL")?$("#"+F+"_select").val(16):$("#"+F+"_select").val(12),$("#"+F+"_select").on("change",(function(){"16"===$(this).val()?tt("HIRC_FSEL",1):tt("HIRC_FSEL",0),ht(F)&&(NUTOOL_CLOCK.g_HIRC2frequency=parseInt(1e6*$(this).val(),10),dt())}))}if(0!==NUTOOL_CLOCK.g_HIRC48frequency&&C(l,"HIRC48EN","HIRC48",NUTOOL_CLOCK.g_HIRC48frequency/1e6,"MHz","text",!0),0!==NUTOOL_CLOCK.g_MIRCfrequency&&C(l,"MIRCEN","MIRC",NUTOOL_CLOCK.g_MIRCfrequency/1e6,"MHz","text",!0),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf("MIRC1P2MEN:")})).length?C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","text",!0):C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","alwaysEnabled",!0)),0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf(H+":")})).length&&C(l,H,"LXT","32.768","kHz","text",!0),-1!==Nt("LIRC32KEN")&&C(l,"LIRC32KEN","LIRC32K","32","kHz","text",!0),0!==NUTOOL_CLOCK.g_RTC32kfrequency){C(l,"RTC32kEN","RTC32k",NUTOOL_CLOCK.g_RTC32kfrequency/1e3,"kHz","RTC32k",!0),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value="LXT"}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value="LIRC"}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),ht("RTCSEL")?$("#RTC32kEN_select").val("LIRC"):$("#RTC32kEN_select").val("LXT"),$("#RTC32kEN_select").on("change",(function(){"LIRC"===$(this).val()?tt("RTCSEL",1):tt("RTCSEL",0)}))}if(0!==_.filter(NUTOOL_CLOCK.g_register_map[E],(function(e){return-1!==e.indexOf(D+":")})).length)if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(S)){for(C(l,D,K,y>0?y/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input_select",!0),t=0,n=NUTOOL_CLOCK.g_CLKSEL[S].length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_CLKSEL[S][t].slicePriorToX(":")}catch(e){}$("#"+D+"_select")[0].appendChild(d)}for(u=Nt(S).toString(),t=0,n=NUTOOL_CLOCK.g_CLKSEL[S].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[S][t].sliceAfterX(":")===u&&$("#"+D+"_select").val(NUTOOL_CLOCK.g_CLKSEL[S][t].slicePriorToX(":"));$("#"+D+"_select").on("change",(function(){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[S].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[S][t].slicePriorToX(":")===$(this).val()&&tt(S,NUTOOL_CLOCK.g_CLKSEL[S][t].sliceAfterX(":"))}))}else C(l,D,K,y>0?y/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input",!0);l.append("<br />"),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ot("button","add-tab-1","下一步")):l[0].appendChild(ot("button","add-tab-1","Next Step")),$("#add-tab-1").addClass("css_btn_class"),h.addEvent($("#add-tab-1")[0],"click",c),g.tabs({heightStyle:"auto"}),g.tabs("refresh"),g.tabs({activate:function(){Ct(),null===ge?$("#searchModule").hide():"none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}}),$(".cb-enable").click((function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),""===$("#"+D+"_input").val()&&$("#"+D+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),s=s.sliceBetweenXandX("radio_","_enable"),$(".ref_"+s+"_p").css("color","black"),tt(s,1),0===p.indexOf("KM1M7CF")&&tt("PLL_SRC",1),B?(0===s.indexOf(D)?(r=$("label[for='radio_"+H+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+H+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+H+"_p").css("color","#BC8484"),tt(H,0)):0===s.indexOf(H)&&(r=$("label[for='radio_"+D+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+D+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+D+"_p").css("color","#BC8484"),tt(D,0)),O()):q?0===s.indexOf(X)?(r=$("label[for='radio_HIRC1EN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_HIRC1EN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_HIRC1EN_p").css("color","#BC8484"),tt("HIRC1EN",0),tt("HIRCSEL",0),ht("HIRC_FSEL")?NUTOOL_CLOCK.g_HIRCfrequency=16e6:NUTOOL_CLOCK.g_HIRCfrequency=12e6):0===s.indexOf("HIRC1EN")&&(r=$("label[for='radio_"+X+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+X+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+X+"_p").css("color","#BC8484"),tt(X,0),tt("HIRCSEL",1),NUTOOL_CLOCK.g_HIRCfrequency=36e6):z&&0===s.indexOf(H)?T():W?0===s.indexOf(D)?(r=$("label[for='radio_"+H+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+H+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+H+"_p").css("color","#BC8484"),tt(H,0)):0===s.indexOf(H)&&(r=$("label[for='radio_"+D+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+D+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+D+"_p").css("color","#BC8484"),tt(D,0)):V&&(0===s.indexOf(H)?(r=$("label[for='radio_LIRC32KEN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_LIRC32KEN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_LIRC32KEN_p").css("color","#BC8484"),tt("LIRC32KEN",0),tt("C32KS",0)):0===s.indexOf("LIRC32KEN")&&(r=$("label[for='radio_"+H+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+H+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+H+"_p").css("color","#BC8484"),tt(H,0),tt("C32KS",1))),dt()})),$(".cb-disable").click((function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),s=s.sliceBetweenXandX("radio_","_disable"),$(".ref_"+s+"_p").css("color","#BC8484"),tt(s,0),0===p.indexOf("KM1M7CF")&&tt("PLL_SRC",0),z&&0===s.indexOf(H)&&T(),dt()})),$("#"+D+"_input").change((function(){void 0===this.value||""===this.value||parseInt(this.value,10)<parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(this.value,10)>parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10)?($("#"+D+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),-1!==L.indexOf("Simplified")?ut("所输入的内容是不正确的。它应为"+NUTOOL_CLOCK.g_HXTRange+"。请再试一次。"):-1!==L.indexOf("Traditional")?ut("所輸入的內容是不正確的。它應為"+NUTOOL_CLOCK.g_HXTRange+"。請再試一次。"):ut("The inputted content is incorrect. It should be "+NUTOOL_CLOCK.g_HXTRange+". Please try again.")):ht(D)&&(y=1e6*parseFloat($("#"+D+"_input").val()),dt())})),-1!==L.indexOf("Simplified")?($("#base_clocks_span").text("基础时脉源"),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("周期"),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#base_clocks_span").text("基礎時脈源"),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("週期"),$("[title]").prop("title","輸入期望值")):($("#base_clocks_span").text("Base Clocks"),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".wait_span").text("Wait"),$(".cycles_span").text("cycles"),$("[title]").prop("title","Input the expected value")),$("#"+D+"_input").width(55),$("#"+D+"_input").height(20),"MINI51AN"===p||"MINI51DE"===p||"MINI55"===p||"MINI57"===p||"MINI58"===p||"NM1200"===p||"NUC029AE"===p?(B=!0,ke=!0,O()):"NANO103"===p?(q=!0,ke=!1):"NUC400"===p?(z=!0,ke=!1,T()):"NUC121AE"===p?(W=!0,ke=!1):"M2351"===p||"M2354"===p||"M261"===p?(V=!0,ke=!1):ke=!1,"single"!==e&&M>1&&c(),($("#tab-2")[0]||$("#tab-3")[0])&&$("#add-tab-1").hide(),ht(w)?$("label[for='radio_"+w+"_enable']").click():$("label[for='radio_"+w+"_disable']").click(),ht(X)?$("label[for='radio_"+X+"_enable']").click():$("label[for='radio_"+X+"_disable']").click(),ht("HIRC1EN")?$("label[for='radio_HIRC1EN_enable']").click():$("label[for='radio_HIRC1EN_disable']").click(),ht(F)?$("label[for='radio_"+F+"_enable']").click():$("label[for='radio_"+F+"_disable']").click(),ht("HIRC2EN")?$("label[for='radio_HIRC2EN_enable']").click():$("label[for='radio_HIRC2EN_disable']").click(),ht("HIRC48EN")?$("label[for='radio_HIRC48EN_enable']").click():$("label[for='radio_HIRC48EN_disable']").click(),ht("MIRCEN")?$("label[for='radio_MIRCEN_enable']").click():$("label[for='radio_MIRCEN_disable']").click(),ht("MIRC1P2MEN")?$("label[for='radio_MIRC1P2MEN_enable']").click():$("label[for='radio_MIRC1P2MEN_disable']").click(),ht(H)?$("label[for='radio_"+H+"_enable']").click():$("label[for='radio_"+H+"_disable']").click(),ht("LIRC32KEN")?$("label[for='radio_LIRC32KEN_enable']").click():$("label[for='radio_LIRC32KEN_disable']").click(),ht(D)?$("label[for='radio_"+D+"_enable']").click():$("label[for='radio_"+D+"_disable']").click()}function Xe(){var e,t,n=$("#MCUselect"),i={},o=[],l=!1;for(n.children().length>0&&n.children().remove(),e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)try{o.push(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")")}catch(e){}for(o.sort(lt),e=0,t=o.length;e<t;e+=1)(i=window.document.createElement("option")).id=i.innerHTML=i.value=o[e],n[0].appendChild(i);for(e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)if(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")"===u){l=!0;break}l?n.val(u):n.val($("#MCUselect option:first-child").val()).change(),n.on("change",(function(){g!==$(this).val()&&(g=$(this).val(),window.setTimeout(De,0))}))}function Fe(){var e,t,n,i,o,l,a,r,s,C,c="",O=[],T=[],g=nt(NUTOOL_CLOCK.g_Module).slice(),u={},h=$("#rootTree_Clock"),S=$("#clockRegsTree"),N="HXT".toEquivalent().toString(),M="PLL".toEquivalent().toString(),b="HIRC".toEquivalent().toString(),P="HIRC2".toEquivalent().toString(),U="LIRC".toEquivalent().toString(),v="HCLK".toEquivalent().toString(),k="PCLK".toEquivalent().toString(),R="PWRCON".toEquivalent().toString(),I="XTL32K_EN".toEquivalent().toString(),m="XTL12M_EN".toEquivalent().toString(),A="PCLK0SEL".toEquivalent().toString();for(g.push(v),"CPUCLK"!==v&&g.push("CPUCLK"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===p.indexOf("KM1M7CF")?g.push(U):g.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&g.push(b),0!==NUTOOL_CLOCK.g_HIRC2frequency&&g.push(P),0!==NUTOOL_CLOCK.g_HIRC48frequency&&g.push("HIRC48"),0!==NUTOOL_CLOCK.g_MIRCfrequency&&g.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&g.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&g.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[R],(function(e){return-1!==e.indexOf(I+":")})).length&&g.push("LXT"),0!==_.filter(NUTOOL_CLOCK.g_register_map[R],(function(e){return-1!==e.indexOf(m+":")})).length&&g.push(N),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]&&g.push(M),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&g.push("PLL2"),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&g.push("PLL480M"),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&g.push("APLL"),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL0&&g.push("PLLFN"),0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&g.push("HSUSB_OTG_PHY"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(A)?(g.push("PCLK0"),g.push("PCLK1"),g.push("PCLK2")):g.push(k),g.sort(),e=0,t=x.length;e<t;e+=1)T[e]=x[e];for(T.sort(),e=0,t=T.length;e<t;e+=1)T[e].length>E&&(E=T[e].length);for(10*(E+1+2+8)+50>(f=250)&&(f=10*(E+1+2+8)+40,$("#ChipType").width(f-16),$("#MCU").width(f-16)),e=0,t=T.length;e<t;e+=1){if((c=T[e]).length<E)for(n=0,i=E-c.length;n<i;n+=1)c+=d;o={},(l={}).id=T[e],o.data=c+":0x"+at(K[T[e]]).toUpperCase(),o.attr=l,O[e]=o}(l={}).id="clock_tree",Mt(),u.data="Simplified Chinese"===L?"Clock寄存器":"Traditional Chinese"===L?"Clock暂存器":"Clock Registers",u.attr=l,u.state="open",u.children=O,0===S.length&&(h[0].appendChild(ot("div","clockRegsTree","Loading...")),S=$("#clockRegsTree")),0===p.indexOf("M460")?S[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+f+"px; height: "+14*T.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"):S[0].setAttribute("style","background-color: #FFFFFF; float:left; width:"+(f-16)+"px; height: "+20*T.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),S.hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),S.jstree({json_data:{data:u},themes:{theme:"default",icons:!1,dots:!0},core:{animation:0},plugins:["themes","json_data","ui","crrm"]}).bind("hover_node.jstree",(function(e,t){var n,i=t.rslt.obj.attr("id");NUTOOL_CLOCK.g_register_map_description.hasOwnProperty(i)&&(n="Simplified Chinese"===L||"Traditional Chinese"===L?"位址: ":"Address: ",n+=NUTOOL_CLOCK.g_register_map_description[i],$("#"+i).simpletip({fixed:!0,offset:[80,-10]}),$("#"+i).eq(0).simpletip().update(n))})).bind("dblclick.jstree",(function(e){var t=$(e.target).closest("li")[0].id;"clock_tree"!==t&&-1===NUTOOL_CLOCK.g_register_map_description[t].indexOf("Read Only")&&(S.jstree("rename",$("#"+t)),$("#"+t).eq(0).simpletip().blockShow(),$("#"+t).eq(0).simpletip().hide())})).bind("rename.jstree",(function(e,t){var n=t.rslt.obj.attr("id"),i=t.rslt.old_name,o=t.rslt.new_name;-1!==o.indexOf(M)?(-1!==L.indexOf("Simplified")?ut("若要设置"+M+"，请至"+M+"页面。"):-1!==L.indexOf("Traditional")?ut("若要設置"+M+"，請至"+M+"頁面。"):ut("To configure "+M+", please refer to the "+M+" page."),S.jstree("rename_node",$("#"+n),i)):-1!==o.indexOf(":0x")&&o.slicePriorToX(":")===i.slicePriorToX(":")&&o.sliceAfterX(":").length===i.sliceAfterX(":").length&&o!==i?(K[n]=parseInt(o.sliceAfterX(":"),16),Ct(),$t(),NUTOOL_CLOCK.g_readConfigFilePath="",_t(),je(),Me=!0,Lt(),Me=!1,!Ke&&window.console&&window.console.log("In the end of rename.jstree.")):S.jstree("rename_node",$("#"+n),i)})).bind("loaded.jstree",(function(){Wt(),et(),be=!0,"undefined"!=typeof NUTOOL_PER&&(Pe=!0)})).bind("destroy.jstree",(function(){})),S.css("font-size","16px"),S.css("font-family",'Monaco, Consolas, "Lucida Console", monospace;'),C="Simplified Chinese"===L?"搜寻模块":"Traditional Chinese"===L?"搜尋模組":"Search Module",h[0].appendChild(ot("div","searchModule","")),(a=$("#searchModule")).append("<span id=searchModule_span></span>"),(r=$("#searchModule_span")).css("font-size","16px"),r.css("font-weight","bold"),a.append("<input id='searchInput' type='text' value=''>"),s=$("#searchInput"),a[0].setAttribute("style","background-color: #FFFFFF; border-right: 16px solid #FFFFFF; float:left; width:"+(f-16)+"px; height: 22px;"),r.text(C),s[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+(r.width()+10)+"px; width:"+(f-16-r.width()-10)+"px; height: 16px;"),s.change((function(){var n,i,o;if(null!==ge&&(ge.selectAll("g.node").on("searchFromInput")(this.value),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2})),n=$(this).val(),a.simpletip({fixed:!0,offset:[100,-7]}),i="",""!==n){for(o=[],e=0,t=g.length;e<t;e+=1)0===g[e].toLowerCase().indexOf(n.toLowerCase())&&o.push(g[e]);if(o.length>0)for(i="Simplified Chinese"===L?"符合的搜寻结果为:<br />":"Traditional Chinese"===L?"符合的搜尋結果為:<br />":"The matched search result is:<br />",e=0,t=o.length;e<t;e+=1)i=i+o[e]+"<br />"}""!==i?(!Ke&&window.console&&window.console.log("In $searchInput.change, unblockShow."),a.eq(0).simpletip().unblockShow(),a.eq(0).simpletip().update(i),a.eq(0).simpletip().show()):(a.eq(0).simpletip().blockShow(),a.eq(0).simpletip().hide())})),a.hide()}function He(e,t,n,i){var o,l,a="js"===n?"script":"css"===n?"link":"none",r="js"===n?"src":"css"===n?"href":"none",s=window.document.getElementsByTagName(a);for("undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="ClockConfigure/"+e,t="ClockConfigure/"+t),l=function(e,t){var n;return"js"===t?((n=document.createElement("script")).setAttribute("type","text/javascript"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("src",e):n.setAttribute("src",`./src/${e}`)):"css"===t&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("href",e):n.setAttribute("href",`./src/${e}`)),n}(t,n),"function"==typeof i&&(l.onload=function(){i()}),!Ke&&window.console&&window.console.log("In replacejscssfile, oldfilename:"+e+" / newfilename:"+t),o=s.length;o>=0;o-=1)s[o]&&null!==s[o].getAttribute(r)&&(s[o].getAttribute(r)===e||s[o].getAttribute(r)===t)&&s[o].parentNode.removeChild(s[o]);s[0].parentNode.appendChild(l)}function De(){if(g!==u){try{window.external.updateCurrentDialogSize()}catch(e){}He("NUC_"+p+"_Content.js","NUC_"+(p=Ve(g))+"_Content.js","js",Be)}}function Be(){u=g,_t(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",We(),Lt()}function qe(e){var t;return t=e,"NUC200AN"===e||"NUC200AE"===e||"NUC2201"===e?t="NUC200":"NANO100AN"===e||"NANO100BN"===e||"NANO103"===e||"NANO112"===e?t="NANO100":"NUC100AN"===e||"NUC100BN"===e||"NUC100CN"===e||"NUC100DN"===e||"NUC131"===e||"NUC121AE"===e||"NUC123AN_AE"===e||"NUC122AN"===e||0===e.indexOf("NUC126")?t="NUC100":"M051BN"===e?t="M051":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?t="M0A21":0===e.indexOf("M030G")?t="M030G":0===e.indexOf("M03")?t="M031":"M051DN"===e||"M051DE"===e||"M051AN"===e||"M058S"===e?t="M051":0===e.indexOf("MINI5")?t="MINI51":0===e.indexOf("NUC029")?t="NUC029":0===e.indexOf("M235")?t="M2351":0===e.indexOf("M25")?t="M251":0===e.indexOf("M460")?t="M460":0===e.indexOf("M480")?t="M480":0===e.indexOf("KM1M4BF")?t="KM1M4BF":0===e.indexOf("KM1M7AF")?t="KM1M7AF":0===e.indexOf("KM1M7BF")?t="KM1M7BF":0===e.indexOf("KM1M7CF")?t="KM1M7CF":0===e.indexOf("M2003")&&(t="M2003C"),t}function ze(e){var t,n,i="HXT".toEquivalent().toString(),o="PLL".toEquivalent().toString(),l="HIRC".toEquivalent().toString(),a="HIRC2".toEquivalent().toString(),r="LIRC".toEquivalent().toString(),s="HCLK".toEquivalent().toString(),C="PCLK".toEquivalent().toString();return n=-1!==e.indexOf("DIV")?Nt(e.sliceAfterX("(").slicePriorToX(":").slicePriorToX("+"))+1:-1!==e.indexOf("/")?parseInt(e.sliceAfterX("/"),10):1,0===e.indexOf("LIRC")||0===e.indexOf(r)?t=P/n:0===e.indexOf("HIRC48")?t=k/n:0===e.indexOf(l)?t=U/n:0===e.indexOf(a)?t=v/n:0===e.indexOf("MIRC1P2M")?t=I/n:0===e.indexOf("MIRC")?t=R/n:0===e.indexOf("LXT")?t=A/n:0===e.indexOf(i)?t=y/n:0===e.indexOf("RTC32k")?t=m/n:0===e.indexOf("PLL480M")?t=F/n:0===e.indexOf("PLL2")?t=X/n:0===e.indexOf(o)?t=w/n:0===e.indexOf("APLL")?t=H/n:0===e.indexOf("PLLFN")?t=D/n:0===e.indexOf("HSUSB_OTG_PHY")?t=B/n:0===e.indexOf(s)?t=q/n:0===e.indexOf("PCLK0")?t=W/n:0===e.indexOf("PCLK1")?t=V/n:0===e.indexOf("PCLK2")?t=G/n:0===e.indexOf(C)?t=z/n:0===e.indexOf("CPUCLK")&&(t=q/n),t}function We(e){var t,n,i,o,l,a,r,s={},C=nt(NUTOOL_CLOCK.g_CLKSEL),_=[],L="XTL32K_EN".toEquivalent().toString(),d="XTL12M_EN".toEquivalent().toString(),c="PWRCON".toEquivalent().toString(),O="PLLCON".toEquivalent().toString(),f="HXT".toEquivalent().toString(),T="PLL".toEquivalent().toString();if(void 0!==NUTOOL_CLOCK.g_unusedModule)for(void 0!==NUTOOL_CLOCK.g_unusedModule[u]?s="function"==typeof NUTOOL_CLOCK.g_unusedModule[u]?NUTOOL_CLOCK.g_unusedModule[u]():NUTOOL_CLOCK.g_unusedModule[u]:void 0!==NUTOOL_CLOCK.g_unusedModule[u.slicePriorToX("(")]&&(s="function"==typeof NUTOOL_CLOCK.g_unusedModule[u.slicePriorToX("(")]?NUTOOL_CLOCK.g_unusedModule[u.slicePriorToX("(")]():NUTOOL_CLOCK.g_unusedModule[u.slicePriorToX("(")]),_=nt(NUTOOL_CLOCK.g_Module),i=0,a=s.length;i<a;i+=1){for(r=s[i],n=0,l=_.length;n<l;n+=1)if(r.toUpperCase()===_[n].toUpperCase()){delete NUTOOL_CLOCK.g_Module[r];break}if("LXT"===r.toUpperCase()){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(L+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf("LXT:")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf("LXT/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===f.toUpperCase()){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(d+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===T.toUpperCase())for(delete NUTOOL_CLOCK.g_register_map[O],delete NUTOOL_CLOCK.g_register_map_default[O],delete NUTOOL_CLOCK.g_register_map_description[O],t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(T+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(T+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}for(t=0,o=(x=nt(NUTOOL_CLOCK.g_register_map_default)).length;t<o;t+=1)"undefined"==typeof NUTOOL_PER&&!0===xe&&void 0!==NUTOOL_CLOCK.g_register_map_default[x[t]].NuClockConfig?NUTOOL_CLOCK.g_register_map_default[x[t]]=NUTOOL_CLOCK.g_register_map_default[x[t]].NuClockConfig:"undefined"==typeof NUTOOL_PER&&!1===xe&&void 0!==NUTOOL_CLOCK.g_register_map_default[x[t]].NuClockConfigTest?NUTOOL_CLOCK.g_register_map_default[x[t]]=NUTOOL_CLOCK.g_register_map_default[x[t]].NuClockConfigTest:"undefined"!=typeof NUTOOL_PER&&!1===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[x[t]].NuCodeGenTool?NUTOOL_CLOCK.g_register_map_default[x[t]]=NUTOOL_CLOCK.g_register_map_default[x[t]].NuCodeGenTool:"undefined"!=typeof NUTOOL_PER&&!0===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[x[t]].NuCodeGenTest&&(NUTOOL_CLOCK.g_register_map_default[x[t]]=NUTOOL_CLOCK.g_register_map_default[x[t]].NuCodeGenTest);if(void 0!==e&&nt(e).length>0)for(t=0,o=x.length;t<o;t+=1)K[x[t]]=e[x[t]];else for(t=0,o=x.length;t<o;t+=1)K[x[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[x[t]],16)}function Ve(e){return-1===e.indexOf("(")&&(e+="("),0===e.indexOf("M0564")?"M0564":0===e.indexOf("M45")||0===e.indexOf("M4TK")?"M451":0===e.indexOf("M46")?-1!==e.indexOf("CAE")?"M460LD":"M460HD":0===e.indexOf("M48")?-1!==e.indexOf("8AE")||-1!==e.indexOf("CAE")?"M480LD":"M480MD":0===e.indexOf("KM1M4BF")?"KM1M4BF":0===e.indexOf("KM1M7AF")?"KM1M7AF":0===e.indexOf("KM1M7BF")?"KM1M7BF":0===e.indexOf("KM1M7CF")?"KM1M7CF":0===e.indexOf("M251")||0===e.indexOf("M252")?"M251":0===e.indexOf("M253")?"M253":0===e.indexOf("M254")||0===e.indexOf("M256")||0===e.indexOf("M258")?"M258":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?"M0A21":0===e.indexOf("M030G")||0===e.indexOf("M031G")?"M030G_31G":0===e.indexOf("M031BT")?"M031BT":0===e.indexOf("M031")||0===e.indexOf("M032")?"M031":0===e.indexOf("M2351")?"M2351":0===e.indexOf("M2354")?"M2354":0===e.indexOf("M26")?"M261":0===e.indexOf("M0518")?"M0518":0===e.indexOf("M0519")?"M0519":0===e.indexOf("M05")&&-1!==e.indexOf("DN(")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("DE(")?"M051DE":0===e.indexOf("MHC54ZDN")||0===e.indexOf("PL054TDN")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("BN(")||0===e.indexOf("E32")?"M051BN":0===e.indexOf("M058S")?"M058S":0===e.indexOf("M05")&&-1!==e.indexOf("AN(")?"M051AN":0===e.indexOf("MINI57")?"MINI57":0===e.indexOf("MINI58")?"MINI58":0===e.indexOf("MINI5")&&-1!==e.indexOf("AN(")?"MINI51AN":0===e.indexOf("MINI5")&&-1!==e.indexOf("AE(")||0===e.indexOf("MINI54XFHC")||0===e.indexOf("MINI55")||0===e.indexOf("NVS06AL")?"MINI55":0===e.indexOf("MINI5")&&-1!==e.indexOf("DE(")||0===e.indexOf("MINI54FHC")?"MINI51DE":0===e.indexOf("NUC2201")?"NUC2201":0===e.indexOf("NUC2")&&-1!==e.indexOf("AN(")?"NUC200AN":0===e.indexOf("NUC2")&&-1!==e.indexOf("AE(")?"NUC200AE":0===e.indexOf("NUC029ZAN")?"NUC029ZAN":0===e.indexOf("NUC029LDE")||0===e.indexOf("NUC029SDE")?"NUC029xDE":0===e.indexOf("NUC029LGE")||0===e.indexOf("NUC029SGE")||0===e.indexOf("NUC029KGE")?"NUC029xGE":0===e.indexOf("NUC029LEE")||0===e.indexOf("NUC029SEE")?"NUC029xEE":0===e.indexOf("NUC029TAE")?"NUC029TAE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AE(")?"NUC029AE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AN(")?"NUC029AN":0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO100")||-1===e.indexOf("AN(")?0!==e.indexOf("NANO100")&&0!==e.indexOf("NANO110")&&0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO130")||-1===e.indexOf("BN(")?0===e.indexOf("NANO103")&&-1!==e.indexOf("AE(")?"NANO103":0===e.indexOf("NANO1")&&-1!==e.indexOf("AN(")?"NANO112":0===e.indexOf("NM11")||0===e.indexOf("NM12")?"NM1200":0===e.indexOf("NM15")?"NM1500":0===e.indexOf("NUC121")||0===e.indexOf("NUC125")?"NUC121AE":0===e.indexOf("NUC122")&&-1!==e.indexOf("AN(")?"NUC122AN":0!==e.indexOf("NUC123")||-1===e.indexOf("AE0(")&&-1===e.indexOf("AE1(")&&-1===e.indexOf("AN0(")&&-1===e.indexOf("AN1(")?0===e.indexOf("NUC1")&&-1!==e.indexOf("AN(")?"NUC100AN":0===e.indexOf("NUC1")&&-1!==e.indexOf("BN(")?"NUC100BN":0===e.indexOf("NUC1")&&-1!==e.indexOf("CN(")?"NUC100CN":0===e.indexOf("NUC1")&&-1!==e.indexOf("DN(")?"NUC100DN":0===e.indexOf("NUC1261")?"NUC1261":0===e.indexOf("NUC1262")?"NUC1262":0===e.indexOf("NUC1263")?"NUC1263":0===e.indexOf("NUC126")?"NUC126":0===e.indexOf("NUC13")?"NUC131":0===e.indexOf("NUC505")?"NUC505":0===e.indexOf("I91")?"ISD9100":0===e.indexOf("I93")?"ISD9300":0===e.indexOf("M2003")?"M2003C":"NUC400":"NUC123AN_AE":"NANO100BN":"NANO100AN"}function je(){var e,t,n,i="",o="",l="",a=[],r=[],s=[],C=0,_="",L="",d="",c="",O="",f="",g="",h="",K=!1,S=function(){e="NUC_"+p+"_Content.js","undefined"==typeof NUTOOL_PER?(p="NUC400",u="NUC442JG8AE(LQFP144)"):(p="M251",u="M251EB2AE(TSSOP28)"),l=Ve(u),He(e,"NUC_"+l+"_Content.js","js",We),window.setTimeout(De,0)};if("",i=NUTOOL_CLOCK.g_readConfigFileContentText,!i||/^\s*$/.test(i))return i,S(),K;for(;-1!==i.indexOf("\r")&&i.indexOf("\r")<i.indexOf("MCU:");)i=i.sliceAfterX("\r");if(o=i.sliceBetweenXandX("MCU:","\r"),l=Ve(o),-1===$.inArray(qe(l),T))return pt("从配置档读出的晶片型号 "+l+" 不正确。","從配置檔讀出的晶片型號 "+l+" 不正確。","The chip type of "+l+" read from the config file is incorrect."),S(),K;for(p!=l&&He(e=void 0!==p&&""!==p?"NUC_"+p+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+l+"_Content.js","js");-1!==i.indexOf("Reg:");){if(h=(i=i.sliceAfterX("Reg:")).sliceBetweenXandX("0x","\r"),!/^[0-9A-Fa-f]+$/.test(h)||8!==h.length)return pt("从配置档读出的暂存器"+i.slicePriorToX(" = ")+"的值"+h+"是不正确的。","從配置檔讀出的暫存器"+i.slicePriorToX(" = ")+"的值"+h+"是不正確的。","The value "+h+" of "+i.slicePriorToX(" = ")+" read from the config file is incorrect."),S(),K;if(a[i.slicePriorToX(" = ")]=parseInt(h,16),i=i.slice(1),C>100)break;C+=1}return-1!==i.indexOf("LXT:")&&"32768"!==(_=(i=i.sliceAfterX("LXT:")).slicePriorToX("\r"))&&"32000"!==_?(pt("从配置档读出的LXT频率是不正确的。","從配置檔讀出的LXT頻率是不正確的。","The frequency of LXT read from the config file is incorrect."),S(),K):(t="HXT".toEquivalent().toString(),-1!==i.indexOf(t+":")&&(L=(i=i.sliceAfterX(t+":")).slicePriorToX("\r"),parseInt(L,10)<1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(L,10)>1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10))?(pt("从配置档读出的"+t+"频率是不正确的。","從配置檔讀出的"+t+"頻率是不正確的。","The frequency of "+t+" read from the config file is incorrect."),S(),K):(n="PLL".toEquivalent().toString(),-1!==i.indexOf(n+":")&&(d=(i=i.sliceAfterX(n+":")).slicePriorToX("\r")),-1!==i.indexOf("PLL2:")&&(c=(i=i.sliceAfterX("PLL2:")).slicePriorToX("\r")),-1!==i.indexOf("APLL:")&&(O=(i=i.sliceAfterX("APLL:")).slicePriorToX("\r")),-1!==i.indexOf("PLLFN:")&&(f=(i=i.sliceAfterX("PLLFN:")).slicePriorToX("\r")),-1!==i.indexOf("Step:")&&(g=(i=i.sliceAfterX("Step:")).slicePriorToX("\r"),parseInt(g,10)<1||parseInt(g,10)>4)?(pt("从配置档读出的最後步骤是不正确的。","從配置檔讀出的最後步驟是不正確的。","The last step read from the config file is incorrect."),S(),K):(i,p=l,u=o,We(a),(r=nt(a)).sort(),(s=nt(NUTOOL_CLOCK.g_register_map_default)).sort(),s.compare(r)?($("#ChipTypeSelect").val(qe(p)),""!==_&&(A=parseInt(_,10)),""!==L&&(y=parseInt(L,10)),""!==d&&(w=parseInt(d,10)),""!==c&&(X=parseInt(c,10)),""!==O&&(H=parseInt(O,10)),""!==f&&(D=parseInt(f,10)),""!==g&&(M=parseInt(g,10)),Ct(),K):(pt("从配置档读出的时脉暂存器里至少一个是不正确的。","從配置檔讀出的暫存器裡至少一個時脈是不正確的。","At least one of the clock registers read from the config file is incorrect."),S(),K))))}function Ge(){n=1022,t=(o=635)-8,recordedDialogSize=null}function Ye(e){var t,n,i,o,l,a,r,s="";if(-1===e.indexOf("["))for(t=0,n=x.length;t<n;t+=1)for(l=x[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1){if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){s=-1===a.indexOf("-")?l+"["+a.sliceAfterX(":")+"]":l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}if(-1!==a.indexOf(e.slice(1))&&a.indexOf(":")===e.length-1&&"!"===e[0]){s=-1===a.indexOf("-")?"!"+l+"["+a.sliceAfterX(":")+"]":"!"+l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}}else s=e;return s}function Ze(e){var t,n,i,o,l,a,r,s="HCLK".toEquivalent().toString(),C="PCLK".toEquivalent().toString(),_="";if("SYSTICK"!==e&&0!==e.indexOf("CLKO")&&0!==e.indexOf("CKO"))for(l=NUTOOL_CLOCK.g_Module[e][1].slicePriorToX("/").toString(),t=0,n=x.length;t<n;t+=1){for(a=x[t],i=0,o=NUTOOL_CLOCK.g_register_map[a].length;i<o;i+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][i]).indexOf(l)&&r.indexOf(":")===l.length){_=0===a.indexOf("AHB")?"("+s+"):"+q.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK1)?"(PCLK1):"+V.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK2)?"(PCLK2):"+G.toHzString():0!==W?"(PCLK0):"+W.toHzString():"("+C+"):"+z.toHzString();break}if(""!==_)break}else _="("+s+"):"+q.toHzString();return _}function Je(e){return-1===NUTOOL_CLOCK.g_BusNonExistent.indexOf(e)}function Qe(e){var t,n,i=!0,o="HCLK".toEquivalent().toString(),l="PCLK".toEquivalent().toString();return t=NUTOOL_CLOCK.g_Module[e][0],n=NUTOOL_CLOCK.g_Module[e][2],t!==o&&t!==l&&"PCLK0"!==t&&"PCLK1"!==t&&"PCLK2"!==t||"none"!==n||(i=!1),i}function et(){var e,t,n,i,o,l;for(e=0,t=x.length;e<t;e+=1){if((l=o=x[e]).length<E)for(n=0,i=E-l.length;n<i;n+=1)l+=d;$("#clockRegsTree").jstree("rename_node",$("#"+o),l+":0x"+at(K[o]).toUpperCase())}}function tt(e,t,n,i){var o,l,a,r,s,C,_,L,d,c;if(n){for(a=0,r=NUTOOL_CLOCK.g_register_map[n].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[n][a]).indexOf(e)&&C.indexOf(":")===e.length){-1===C.indexOf("-")?(d=1<<(_=parseInt(C.sliceAfterX(":"),10))>>>0,c=(K[n]&d)>>>0,c=K[n]-c,t=t<<_>>>0,K[n]=c+t):(_=parseInt(C.sliceAfterX("-"),10),L=parseInt(C.sliceBetweenXandX(":","-"),10)-_+1,d=Math.pow(2,L)-1<<_>>>0,c=(K[n]&d)>>>0,c=K[n]-c,t=t<<_>>>0,K[n]=c+t);break}}else for(o=0,l=x.length;o<l;o+=1)for(s=x[o],a=0,r=NUTOOL_CLOCK.g_register_map[s].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[s][a]).indexOf(e)&&C.indexOf(":")===e.length){-1===C.indexOf("-")?(d=1<<(_=parseInt(C.sliceAfterX(":"),10))>>>0,c=(K[s]&d)>>>0,c=K[s]-c,t=t<<_>>>0,K[s]=c+t):(_=parseInt(C.sliceAfterX("-"),10),L=parseInt(C.sliceBetweenXandX(":","-"),10)-_+1,d=Math.pow(2,L)-1<<_>>>0,c=(K[s]&d)>>>0,c=K[s]-c,t=t<<_>>>0,K[s]=c+t);break}i||et()}function nt(e){var t,n=[],i=0;for(t in e)e.hasOwnProperty(t)&&(n[i]=t,i+=1);return i=null,t=null,n}function it(){$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),$("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$("#generateCodeDialog").is(":visible")&&$("#generateCodeDialog").dialog("destroy")}function ot(e,t,n,i){var o;return i?((o=window.document.createElement("input")).value=n,o.type=e):(o=window.document.createElement(e)).innerHTML=n,o.id=t,o}function lt(e,t){var n,i,o,l,a,r=0,s=/(\d+)|(\D+)/g,C=/\d/;if(isFinite(e)&&isFinite(t))return e-t;if((n=String(e).toLowerCase())===(i=String(t).toLowerCase()))return 0;if(!C.test(n)||!C.test(i))return n>i?1:-1;for(n=n.match(s),i=i.match(s),a=n.length>i.length?i.length:n.length;r<a;)if(o=n[r],l=i[r],r+=1,o!==l)return isFinite(o)&&isFinite(l)?("0"===o.charAt(0)&&(o="."+o),"0"===l.charAt(0)&&(l="."+l),o-l):o>l?1:-1;return n.length-i.length}function at(e,t){var n=Number(e).toString(16);for(t=null==t?t=8:t;n.length<t;)n="0"+n;return n}function rt(e){return!isNaN(parseFloat(e))&&isFinite(e)}function st(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}function Ct(){var e,t;for(N=[],e=0,t=x.length;e<t;e+=1)N[x[e]]=K[x[e]];Y=P,Z=U,J=v,Q=k,ee=R,te=I,ne=A,ie=y,oe=w,le=X,ae=H,re=D,se=q,Ce=z,_e=W,Le=V,de=G}function _t(){K=[],x=[],E=0,P=0,U=0,v=0,k=0,R=0,I=0,A=0,y=0,m=0,w=0,X=0,F=0,H=0,D=0,B=0,q=0,z=0,W=0,V=0,G=0,ce=[],Oe="",Se=!1,r="","",M=1,ge=null,$("#tab-1").remove(),$("#tab-2").remove(),$("#tab-3").remove(),$("#tab-4").remove(),$("#tabs > ul > li").remove(),$("#clockRegsTree").jstree("destroy"),$("#searchModule").jstree("destroy"),$("#clockRegsTree").remove(),$("#searchModule").remove(),it()}function Lt(){$("#ChipType").show(),$("#MCU").show(),"none"!==$("#clockRegsTree").css("display")?($("#tabs").css("width",n-f-8+"px"),$("#tabs").css({left:f+8+"px"})):($("#tabs").css("width",n-8+"px"),$("#tabs").css({left:"0px"})),"undefined"==typeof NUTOOL_PER&&Xe(),Fe(),we()}function dt(){var e,t,n,i,o,l,a,r,s=!1,C=!1,_=$("#tabs").tabs("option","active");if(!Me){if(Me=!0,_+1<M){for(e=0,t=x.length;e<t;e+=1)if(N[x[e]]!==K[x[e]]){s=!0;break}(Y>0&&Y!==P||Z>0&&Z!==U||J>0&&J!==v||Q>0&&Q!==k||ee>0&&ee!==R||te>0&&te!==I||ne>0&&ne!==A||ie>0&&ie!==y||oe>0&&oe!==w||le>0&&le!==X||ae>0&&ae!==H||re>0&&re!==D||se>0&&se!==q||Ce>0&&Ce!==z||_e>0&&_e!==W||Le>0&&Le!==V||de>0&&de!==G)&&(C=!0),(s||C)&&(Pe?ct(_):(n=function(){ct(_)},i=function(){!function(e){switch(Me=!0,function(){var e,t;for(e=0,t=x.length;e<t;e+=1)K[x[e]]=N[x[e]];P=Y,U=Z,v=J,k=Q,R=ee,I=te,A=ne,y=ie,w=oe,X=le,H=ae,D=re,q=se,z=Ce,W=_e,V=Le,G=de}(),$("#li-"+(e+1)).remove(),$("#tab-"+(e+1)).remove(),e+1){case 1:$("#tab-1")[0]||we("single");break;case 2:$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ae():ye();break;case 3:$("#tab-3")[0]||Ae("single")}$("#tabs").tabs({active:e}),Me=!1}(_)},Ne||(-1!==L.indexOf("Simplified")?(o="警告!",l='这样的改变将会影响之前的设定。请问你要继续它吗?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暂时略过这个讯息</label>',a="要",r="不要"):-1!==L.indexOf("Traditional")?(o="警告!",l='這樣的改變將會影響之前的設定。請問你要繼續它嗎?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暫時略過這個訊息</label>',a="要",r="不要"):(o="Warning!",l='The modification will influence the prior settings.<br />Would you like to continue it?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>Skip this message temporarily</label>',a="Yes",r="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+l+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,dialogClass:"no-close",title:o,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:a,click:function(){$("#checkbox_skip").is(":checked")&&(Pe=!0),n(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:r,click:function(){$("#checkbox_skip").is(":checked")&&(Pe=!0),i(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))))}Me=!1}}function ct(e){var t,n=0,i="HCLK".toEquivalent().toString(),o="OSC10K_EN".toEquivalent().toString(),l="OSC22M_EN".toEquivalent().toString(),a="OSC22M2_EN".toEquivalent().toString(),r="XTL32K_EN".toEquivalent().toString(),s="XTL12M_EN".toEquivalent().toString();for(Me=!0,Ct(),$("#tabs")[0].style.visibility="hidden",n=e+1+1;n<=4;n+=1)$("#li-"+n).remove(),$("#tab-"+n).remove();switch(Ee=!0,e+1){case 1:ht(o)||ht(l)||ht("HIRC1EN")||ht(a)||ht("HIRC2EN")||ht("HIRC48EN")||ht("MIRCEN")||ht("MIRC1P2MEN")||ht(s)||ht(r)||ht("LIRC32KEN")?$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ae():ye():-1!==L.indexOf("Simplified")?ut("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?ut("請至少啟用一個時脈源。"):ut("Please enable at least one clock source.");break;case 2:$("#tab-3")[0]||Ae();break;case 3:$("#tab-4")[0]||(t=rt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[u.slicePriorToX("(")],10),q>t?-1!==L.indexOf("Simplified")?ut("CPU频率上限为"+t.toHzString()+"。 "+i+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?ut("CPU頻率上限為"+t.toHzString()+"。 "+i+"頻率不應超過其限制。"):ut("The upper limit of CPU frequency is "+t.toHzString()+". The "+i+" frequency should not run beyond the limit."):$e())}et(),Ee=!1,$("#tabs").tabs({active:e}),Me=!1,$("#tabs")[0].style.visibility="visible"}function Ot(e){var t="",n="HCLK".toEquivalent().toString(),i=!0;return!ht("CLKSRC")&&$("#SYSTICK_span_showRealFreq").text().toFloat()>q/2&&(i=!1,t="Simplified Chinese"===L?"SysTick的时脉源频率必需小於或等於"+n+"/2。":"Traditional Chinese"===L?"SysTick的時脈源頻率必需小於或等於"+n+"/2。":"The clock source of SysTick must be less than or equal to "+n+"/2."),i||e(t),i}function ft(e){var t,n,i;"Simplified Chinese"===L?(t="时脉设置错误",n=e,i="确定"):"Traditional Chinese"===L?(t="時脈設置錯誤",n=e,i="確定"):(t="Clock Configure Error",n=e,i="Confirm"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+n+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:i,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function Tt(e){var t,n,i,o,l,a;"Simplified Chinese"===L?(i="时脉设置错误",o=e+"<br /><br />若你仍想要关掉应用程式，请按'关闭'。但所有设置将会回复到初始值。若你想要修正他们，请按'修正'。",l="关闭",a="修正"):"Traditional Chinese"===L?(i="時脈設置錯誤",o=e+"<br /><br />若你仍想要關掉應用程式，請按'關閉'。但所有設置將會回復到初始值。若你想要修正他們，請按'修正'。",l="關閉",a="修正"):(i="Clock Configure Error",o=e+"<br /><br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",l="Close",a="Fix"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:i,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:l,click:function(){for($(this).is(":visible")&&$(this).dialog("destroy"),_t(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",x=nt(NUTOOL_CLOCK.g_register_map_default),K=[],t=0,n=x.length;t<n;t+=1)K[x[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[x[t]],16);$t()}},{text:a,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function pt(e,t,n){"Simplified Chinese"===L?window.alert(e):"Traditional Chinese"===L?window.alert(t):window.alert(n)}function gt(e){var t,n,i,o,l,a,r=!0;if("undefined"!=typeof NUTOOL_PER)e();else if(!Ne){for(t=0,n=x.length;t<n;t+=1)if(S[x[t]]!==K[x[t]]){r=!1;break}r?e():(-1!==L.indexOf("Simplified")?(i="警告!",o="配置档已被修改过。请问你要储存它吗?",l="要",a="不要"):-1!==L.indexOf("Traditional")?(i="警告!",o="配置檔已被修改過。請問你要儲存它嗎?",l="要",a="不要"):(i="Warning!",o="The configuration has been modified.<br />Would you like to save it?",l="Yes",a="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){mt(),e(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:a,click:function(){e(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))}}function ut(e){var t,n;$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),-1!==L.indexOf("Simplified")?(t="警告!",n="确认"):-1!==L.indexOf("Traditional")?(t="警告!",n="確認"):(t="Warning!",n="Confirm"),$('<div id="warningDialog"><p>'+e+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:n,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function ht(e,t){var n,i,o,l,a,r,s,C="OSC10K_EN".toEquivalent().toString(),_="OSC22M_EN".toEquivalent().toString(),L="OSC22M2_EN".toEquivalent().toString(),d={},c=0,O=!1;if(d[C]=["M030G_31G","KM1M7CF"],d[_]=["KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF"],d[L]=["KM1M7CF"],d.MIRC1P2MEN=["M258"],void 0!==d[e]&&-1!==d[e].indexOf(p))c=1;else if(t){for(o=0,l=NUTOOL_CLOCK.g_register_map[t].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[t][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(K[t]&s)>>>0;break}}else for(n=0,i=x.length;n<i;n+=1)for(a=x[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(K[a]&s)>>>0;break}return 0!==c&&(O=!0),O}function Kt(e){return 0!==e.indexOf("!")?ht(e):!ht(e.sliceAfterX("!"))}function St(e){var t=window.document.createEvent("Event");t.initEvent("dblclick",!0,!0),void 0!==e.id?d3.select("#"+e.id)[0][0].dispatchEvent(t):d3.select("#"+e)[0][0].dispatchEvent(t)}function Nt(e){var t,n,i,o,l,a,r,s,C,_=-1;for(t=0,n=x.length;t<n;t+=1)for(l=x[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1)if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){-1===a.indexOf("-")?C=1<<(r=parseInt(a.sliceAfterX(":"),10))>>>0:(r=parseInt(a.sliceAfterX("-"),10),s=parseInt(a.sliceBetweenXandX(":","-"),10)-r+1,C=Math.pow(2,s)-1<<r>>>0),_=(_=(K[l]&C)>>>0)>>>r>>>0;break}return _}function xt(){var e,t,n,i,o,l,a=nt(NUTOOL_CLOCK.g_Module),r=[],s=0,C=!0;for(Ee=!0,e=0,n=a.length;e<n;e+=1){if(o=a[e],r=[],s=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))r.push(l);else{for(;-1!==l.indexOf("/")&&(r.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((s+=1)>10)););r.push(l)}for(C=!0,t=0,i=r.length;t<i;t+=1)if(!Kt(r[t])){C=!1;break}C&&St(o)}et(),Ee=!1}function Mt(){var e=localStorage.getItem("UIlanguage");L=void 0===e||null==e?"English":e,e=null}function bt(e){var t,n,i,o,l,a,L,d,c,O,f,T,g,u,h,S,N,M,b,E=nt(NUTOOL_CLOCK.g_Module),j="HXT".toEquivalent().toString(),Y="HXTWAIT".toEquivalent().toString(),Z="PLL".toEquivalent().toString(),J="HIRC".toEquivalent().toString(),Q="HIRC2".toEquivalent().toString(),ee="LIRC".toEquivalent().toString(),te="HCLK".toEquivalent().toString(),ne="PCLK".toEquivalent().toString(),ie="PWRCON".toEquivalent().toString(),oe="PLLCON".toEquivalent().toString(),le="HCLK_S".toEquivalent().toString(),ae="PCLK_S".toEquivalent().toString(),re="PCLK0SEL".toEquivalent().toString(),se="PCLK1SEL".toEquivalent().toString(),Ce="PCLK2SEL".toEquivalent().toString(),_e="HCLK_N".toEquivalent().toString(),Le="PCLK_N".toEquivalent().toString(),de="OSC10K_EN".toEquivalent().toString(),ce="OSC22M_EN".toEquivalent().toString(),Oe="OSC22M2_EN".toEquivalent().toString(),fe="XTL32K_EN".toEquivalent().toString(),Te="XTL12M_EN".toEquivalent().toString(),pe="Enabled-Module Frequencies:\n",ue="",he="",Ke="",Se="",Ne=[],xe=[],Me=[],be=[];if(void 0===e&&(e="default"),O=function(e,t){return""===e?e=t:e+="|"+t,e},f=function(){for(ue="","undefined"==typeof NUTOOL_PER&&(ue+="    /* If the macros do not exist in your project, please refer to the related clk.h in Header folder of the tool package */\n"),0===p.indexOf("M480")&&(ue+="    /* Set XT1_OUT(PF.2) and XT1_IN(PF.3) to input mode */\n    PF->MODE &= ~(GPIO_MODE_MODE2_Msk | GPIO_MODE_MODE3_Msk);\n\n"),-1===Nt("HIRC1EN")&&-1===Nt("HIRC_FSEL")||(ue+="    /* Select clock source */\n",b=!1,-1!==Nt("HIRC_FSEL")&&ht(ce)&&("NANO112"===p?ht("HIRC_FSEL")?ue+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC_FSEL_Msk;\n":ue+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC_FSEL_Msk;\n":ht("HIRC_FSEL")?ue+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC0FSEL_Msk;\n":ue+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC0FSEL_Msk;\n",b=!0),-1!==Nt("HIRC1EN")&&(ht(ce)||ht("HIRC1EN"))&&(ht(ce)?ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_HIRCSEL_Msk;\n":ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_HIRCSEL_Msk;\n",b=!0),b&&(ue+="\n")),t=0,i=L.length;t<i;t+=1)l=Ut(L[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),"RTC_LXTCTL"===L[t]&&("M2354"===p?(ht(fe)&&(ue+="    /* LXT source from external LXT */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),ht("LIRC32KEN")&&(ue+="    /* LXT source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n")):(ht(fe)&&(ue+="    /* LXT source from external LXT */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),ht("LIRC32KEN")&&(ue+="    /* LXT source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"))),"RTC_CLKSRC"===L[t]&&(ht("RTCSEL")?ue+="    /* RTC32k source from internal */\n    RTC_SetClockSource(RTC_CLKSRC_INTERNAL);\n\n":ue+="    /* RTC32k source from external */\n    RTC_SetClockSource(RTC_CLKSRC_EXTERNAL);\n\n"),L[t]===ie&&(he="",Ke="",ht(de)&&(void 0!==Me[0]&&"none"!==Me[0]&&(he=O(he,Me[0])),void 0!==be[0]&&"none"!==be[0]&&(Ke=O(Ke,be[0]))),ht(ce)&&(void 0!==Me[1]&&"none"!==Me[1]&&(he=O(he,Me[1])),void 0!==be[1]&&"none"!==be[1]&&(Ke=O(Ke,be[1]))),ht(fe)&&(void 0!==Me[2]&&"none"!==Me[2]&&(he=O(he,Me[2])),void 0!==be[2]&&"none"!==be[2]&&(Ke=O(Ke,be[2].slicePriorToLastX("/")))),ht("LIRC32KEN")&&void 0!==be[2]&&"none"!==be[2]&&(Ke=O(Ke,be[2].sliceAfterX("/"))),ht(Te)?(void 0!==Me[3]&&"none"!==Me[3]&&(he=O(he,Me[3])),void 0!==be[3]&&"none"!==be[3]&&(Ke=O(Ke,be[3]))):0!==p.indexOf("KM1M4")&&0!==p.indexOf("KM1M7")||(he=""),ht("HIRC1EN")&&(void 0!==Me[4]&&"none"!==Me[4]&&(he=O(he,Me[4])),void 0!==be[5]&&"none"!==be[5]&&(Ke=O(Ke,be[5]))),ht("HIRC48EN")&&(void 0!==Me[4]&&"none"!==Me[4]&&(he=O(he,Me[4])),void 0!==be[5]&&"none"!==be[5]&&(Ke=O(Ke,be[5]))),ht("MIRCEN")&&(void 0!==Me[5]&&"none"!==Me[5]&&(he=O(he,Me[5])),void 0!==be[6]&&"none"!==be[6]&&(Ke=O(Ke,be[6]))),ht("MIRC1P2MEN")&&(void 0!==Me[6]&&"none"!==Me[6]&&(he=O(he,Me[6])),void 0!==be[7]&&"none"!==be[7]&&(Ke=O(Ke,be[7]))),""!==he&&("NUC505"===p?ue+="    /* Enable clock source */\n    CLK->PWRCTL |= "+he+";\n\n":-1!==he.indexOf("(")&&-1!==he.indexOf(");")?-1!==he.indexOf("Disable")?ue+="    /* Disable clock source */\n    "+he+"\n\n":ue+="    /* Enable clock source */\n    "+he+"\n\n":ue+="    /* Enable clock source */\n    CLK_EnableXtalRC("+he+");\n\n"),""!==Ke&&(-1!==Ke.indexOf("(")&&-1!==Ke.indexOf(");")?ue+="    /* Waiting for clock source ready */\n    "+Ke+"\n\n":ue+="    /* Waiting for clock source ready */\n    CLK_WaitClockReady("+Ke+");\n\n")),L[t]===oe&&void 0!==NUTOOL_CLOCK.g_register_map[oe]&&(ht("PD")||0===_.filter(NUTOOL_CLOCK.g_register_map[oe],(function(e){return-1!==e.indexOf("PD:")})).length||(ue+="    /* Disable "+Z+" first to avoid unstable when setting "+Z+" */\n",ue+="    CLK_DisablePLL();\n\n",ue+="    /* Set "+Z+" frequency */\n",ue+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[L[t]]).toUpperCase()+"UL;\n\n","none"!==be[4]&&(ue+="    /* Waiting for "+Z+" ready */\n    CLK_WaitClockReady("+be[4]+");\n\n")),ht("PLLEN")&&0!==_.filter(NUTOOL_CLOCK.g_register_map.CHIPPLLCTR1,(function(e){return-1!==e.indexOf("PLLEN:")})).length&&(0===p.indexOf("KM1M7C")?(ue+="    /* Disable "+Z+" circuit */\n    CLK_DisablePLL();\n\n",ue+="    CLK->CHIPPLLCTR1 = 0xA53C0002U;\n",ue+="    "+l+" = 0x"+at(K[L[t]]).toUpperCase()+"U;\n",ue+="    CLK->CHIPPLLCTR1 = 0xA53C000"+(K.CHIPPLLCTR1<<29>>>31)*Math.pow(2,2)+"U | CLK->CHIPPLLCTR1 | (1U << CLK_CHIPPLLCTR1_PLLEN_Pos);\n\n"):0===p.indexOf("KM1M4B")?(ue+="    /* Disable "+Z+" circuit */\n    CLK_DisablePLL();\n\n",ue+="    /* Set "+Z+" frequency */\n",ue+="    "+l+" = 0x"+at(K[L[t]]).toUpperCase()+"UL;\n",ue+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n"):(ue+="    /* Set "+Z+" frequency */\n",ue+="    "+l+" = 0x"+at(K[L[t]]).toUpperCase()+"UL;\n",0===p.indexOf("KM1M7A")?ue+="    CLK->CHIPPLLCTR1 = 0xA53C0003UL;\n\n":(p.indexOf("KM1M7B"),ue+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n")),0===p.indexOf("KM1M7")?ue+="    /* Waiting for "+Z+" operating ready */\n    CLK_WaitClockReady(CLK_CHIPCKSTAT_PLLOK_Msk);\n\n":0===p.indexOf("KM1M4")?ue+="    /* Waiting for "+Z+" operating ready */\n    CLK_WaitClockReady(CLK_STABLE_PLLCLK);\n\n":ue+="    /* Waiting for "+Z+" ready */\n    CLK_WaitPLLReady();\n\n")),"APLLCTL"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.APLLCTL||ht("APD")||(ue+="    /* Disable APLL first to avoid unstable when setting APLL */\n",ue+="    CLK->PLLCTL |= CLK_APLLCTL_PD_Msk;\n\n",ue+="    /* Set APLL frequency */\n",ue+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[L[t]]).toUpperCase()+"UL;\n\n"),"PLLFNCTL0"!==L[t]&&"PLLFNCTL1"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.PLLFNCTL0||ht("PDFN")||(ue+="    /* Disable PLLFN first to avoid unstable when setting PLLFN */\n",ue+="    CLK->PLLCTL |= CLK_PLLFNCTL1_PD_Msk;\n\n",ue+="    /* Set PLLFN frequency */\n",ue+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[L[t]]).toUpperCase()+"UL;\n\n"),"PLL2CTL"===L[t]&&void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&ht("PLL2CKEN")&&(ue+="    /* Set PLL2 frequency */\n",ue+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[L[t]]).toUpperCase()+"UL;\n\n",ue+="    /* Waiting for PLL2 ready */\n    CLK_WaitClockReady(CLK_STATUS_PLL2STB_Msk);\n\n");if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(-1!==(u=Nt(T="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===u){g=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}if(0===p.indexOf("KM1M7CF")?-1!==g.indexOf("HRCCLK1")?ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC1, CLK_CPUCKDIV_":-1!==g.indexOf("HRCCLK2")?ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC2, CLK_CPUCKDIV_":-1!==g.indexOf("HXOCLK")?ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HXO, CLK_CPUCKDIV_":-1!==g.indexOf("PLLCLK")&&(ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_PLL, CLK_CPUCKDIV_"):0===p.indexOf("KM1M4")||0===p.indexOf("KM1M7")?ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_"+g.slicePriorToX("CLK")+", CLK_CPUCKDIV_":(ue+="    /* Set BASECLK clock */\n    CLK_SelectBASECLK(SELECT_"+g+");\n\n",ue+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CPUCLK_DIV_"),-1!==(u=Nt(T="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===u){g=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}ue+=g.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else ue+="    /* Set HCLK clock */\n    CLK_SetHCLK("+vt(te,le,_e)+");\n\n";if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(re))"M2354"!==p&&(ue+="    /* Set PCLK-related clock */\n"),0===p.indexOf("M480")||0===p.indexOf("M46")?(S=Nt(re),ue+="    CLK->PCLKDIV = (CLK_PCLKDIV_PCLK0DIV"+Math.pow(2,S)+" | ",S=Nt(se),ue+="CLK_PCLKDIV_PCLK1DIV"+Math.pow(2,S)+");\n\n"):0===p.indexOf("M0A21")||0===p.indexOf("M0A23")||0===p.indexOf("M25")||0===p.indexOf("M030")||0===p.indexOf("M031")?(S=Nt(re),ue+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,S)+" | ",S=Nt(se),ue+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,S)+");\n\n"):"M2351"===p||"M261"===p?(S=Nt(re),ue+=0===S?"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK | ":"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK_DIV"+Math.pow(2,S)+" | ",S=Nt(se),ue+=0===S?"CLK_PCLKDIV_APB1DIV_HCLK);\n\n":"CLK_PCLKDIV_APB1DIV_HCLK_DIV"+Math.pow(2,S)+");\n\n"):"M2354"===p||("M2003C"===p?(S=Nt(re),ue+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,S)+" | ",S=Nt(se),ue+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,S)+" | ",S=Nt(Ce),ue+="CLK_PCLKDIV_APB2DIV_DIV"+Math.pow(2,S)+");\n\n"):(NUTOOL_CLOCK.g_CLKSEL[re].length<=2?ht(re)?ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK0SEL_Msk;\n":ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK0SEL_Msk;\n":(S=Nt(re),ue+=0===S?"    CLK_SetPCLK0(CLK_APB0DIV_HCLK);\n":"    CLK_SetPCLK0(CLK_APB0DIV_1_"+Math.pow(2,S)+"HCLK);\n"),NUTOOL_CLOCK.g_CLKSEL[se].length<=2?ht(se)?ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":(S=Nt(se),ue+=0===S?"    CLK_SetPCLK1(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK1(CLK_APB1DIV_1_"+Math.pow(2,S)+"HCLK);\n\n"),NUTOOL_CLOCK.g_CLKSEL[Ce].length<=2?ht(Ce)?ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":(S=Nt(Ce),ue+=0===S?"    CLK_SetPCLK2(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK2(CLK_APB1DIV_1_"+Math.pow(2,S)+"HCLK);\n\n")));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(ae))if(0===ae.indexOf("IOCKDIV")){if(ue+="    /* Set IOCLK clock */\n",0===p.indexOf("KM1M4")||0===p.indexOf("KM1M7")?ue+="    CLK_SetIOCLK(CLK_IOCKDIV_":ue+="    CLK_SetIOCLK(IOCLK_DIV_",-1!==(u=Nt(T=ae).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[T].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[T][t].sliceAfterX(":")===u){g=NUTOOL_CLOCK.g_CLKSEL[T][t].slicePriorToX(":");break}ue+=g.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else ue+="    /* Set PCLK-related clock */\n","NUC123AN_AE"===p?ht(ae)?ue+="    CLK->APBDIV = CLK->APBDIV | CLK_APBDIV_APBDIV_Msk;\n\n":ue+="    CLK->APBDIV = CLK->APBDIV & ~CLK_APBDIV_APBDIV_Msk;\n\n":"NANO112"===p?ue+="    CLK->APB_DIV = 0x"+at(Nt(ae)).toUpperCase()+"UL;\n\n":ht(ae)?ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLKSEL_Msk;\n\n":ue+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLKSEL_Msk;\n\n";else-1!==Nt(Le)&&(ue+="    /* Set PCLK divider */\n",ue+="    CLK_SetModuleClock(PCLK_MODULE, CLK_CLKDIV0_PCLK("+(Nt(Le)+1)+"), 1);\n\n");return ue},ve=!0,"M451"===p?(L=[ie,oe],c='#include "M451Series.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):0===p.indexOf("M460")?(L=[ie,oe,"PLLFNCTL0","PLLFNCTL1"],c='#include "M460.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):"M480MD"===p?(L=[ie,oe],c='#include "M480.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M480LD"===p?(L=[ie,oe],c='#include "M480.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):0===p.indexOf("KM1M4BF")?(L=[ie,oe],c='#include "NuMicro.h"',Me=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[Y],(function(e){return-1!==e.indexOf(":"+Nt(Y).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],be=["none","none","none","CLK_WaitClockReady(CLK_STABLE_HXOCLK);","none","none","none"]):0===p.indexOf("KM1M7AF")||0===p.indexOf("KM1M7BF")?(L=[ie,oe],c='#include "NuMicro.h"',Me=["none","none","none","CLK_EnableXtalRC(CLK_CHIPCKCTR_HXOEN_Msk, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[Y],(function(e){return-1!==e.indexOf(":"+Nt(Y).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],be=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);\n\n    /* Disable "+Z+" circuit */\n    CLK_DisablePLL();","none","none","none"]):0===p.indexOf("KM1M7CF")?(L=[ie,oe],c='#include "NuMicro.h"',Me=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[Y],(function(e){return-1!==e.indexOf(":"+Nt(Y).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],be=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);","none","none","none","none"]):"M2351"===p?(L=["RTC_LXTCTL",ie,oe],c='#include "M2351.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M2354"===p?(L=["RTC_LXTCTL",ie,oe],c='#include "M2354.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","CLK_PWRCTL_MIRCEN_Msk","CLK_PWRCTL_MIRC1P2MEN_Msk"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","CLK_STATUS_MIRCSTB_Msk","none"]):"M253"===p?(L=[ie],c='#include "M253.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","","none","CLK_STATUS_MIRCSTB_Msk"]):0===p.indexOf("M25")?(L=[ie,oe],c='#include "M251.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","CLK_STATUS_MIRCSTB_Msk"]):"M261"===p?(L=["RTC_LXTCTL",ie,oe],c='#include "M261.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):0===p.indexOf("M0A21")||0===p.indexOf("M0A23")?(L=[ie,oe],c='#include "NuMicro.h"',Me=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],be=["none","CLK_STATUS_HIRCSTB_Msk","none","none","none","none","none"]):0===p.indexOf("M030G")?(L=[ie,oe],c='#include "M030G.h"',Me=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],be=["none","CLK_STATUS_HIRCSTB_Msk","none","none","CLK_STATUS_PLLSTB_Msk","none","none"]):0===p.indexOf("M031")?(L=[ie,oe],c='#include "M031Series.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M051AN"===p||"M051BN"===p||"M051DN"===p||"M051DE"===p?(L=[ie,oe],c='#include "M051Series.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M058S"===p?(L=[ie,oe],c='#include "M058S.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0518"===p?(L=[ie,oe],c='#include "M0518.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0519"===p?(L=[ie,oe],c='#include "M0519.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC100AN"===p||"NUC100BN"===p||"NUC100DN"===p?(L=[ie,oe],c='#include "NUC100Series.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC131"===p?(L=[ie,oe],c='#include "NUC131.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC121AE"===p?(L=[ie,oe],c='#include "NUC121.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN","CLK_PWRCTL_HXTEN","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NUC122AN"===p?(L=[ie,oe],c='#include "NUC122.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC123AN_AE"===p?(L=[ie,oe],c='#include "NUC123.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):0===p.indexOf("NUC126")?(L=[ie,oe],c='#include "'+p+'.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M0564"===p?(L=[ie,oe],c='#include "M0564.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC2201"===p?(L=[ie,oe],c='#include "NUC2201.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029AN"===p||"NUC029TAE"===p||"NUC029ZAN"===p?(L=[ie,oe],c='#include "NUC029xAN.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xDE"===p?(L=[ie,oe],c='#include "NUC029xDE.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xEE"===p?(L=[ie,oe],c='#include "NUC029xEE.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029xGE"===p?(L=[ie,oe],c='#include "NUC029xGE.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC200AN"===p?(L=[ie,oe],c='#include "NUC200Series.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC200AE"===p?(L=[ie,oe],c='#include "NUC230_240.h"',Me=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],be=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"MINI57"===p?(L=[ie],c='#include "Mini57Series.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXT_EN","CLK_PWRCTL_HXT_EN","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","none","none","none"]):"MINI58"===p?(L=[ie,oe],c='#include "Mini58Series.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_XTLEN_LXT","CLK_PWRCTL_XTLEN_HXT","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NANO100AN"===p||"NANO100BN"===p?(L=[ie,oe],c='#include "Nano100Series.h"',Me=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],be=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO112"===p?(L=[ie,oe],c='#include "Nano1X2Series.h"',Me=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],be=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO103"===p?(L=[ie,oe],c='#include "Nano103.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRC0EN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC1EN_Msk","CLK_PWRCTL_MIRCEN_Msk"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRC0STB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC1STB_Msk","CLK_STATUS_MIRCSTB_Msk"]):"NUC505"===p?(L=["RTC_CLKSRC",ie,oe,"APLLCTL"],c='#include "NUC505Series.h"',Me=["none","none","none","CLK_PWRCTL_HXTEN_Msk","none","none"],be=["none","none","none","none","none","none"]):"MINI51AN"===p?(L=[ie],c='#include "Mini51.h"',ve=!1):"MINI51DE"===p?(L=[ie],c='#include "Mini51Series.h"',ve=!1):"MINI55"===p?(L=[ie],c='#include "Mini55Series.h"',ve=!1):"NUC029AE"===p?(L=[ie],c='#include "NUC029FAE.h"',Me=[],be=[],ve=!1):"NUC100CN"===p?(L=[ie,oe],c='#include "NUC100Series.h"',Me=[],be=[],ve=!1):"NM1200"===p?(L=[ie],c='#include "Mini51.h"',Me=[],be=[],ve=!1):"NM1500"===p?(L=[ie,oe],c='#include "MT500Series.h"',Me=[],be=[],ve=!1):"M2003C"===p?(L=[ie],c='#include "M2003C.h"',Me=[],be=[],ve=!1):(L=[ie,oe,"PLL2CTL"],c='#include "NUC472_442.h"',Me=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],be=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]),"undefined"!=typeof NUTOOL_PER&&(c='#include "NuCodeGenProj.h"',"modularizeCode"===e&&(c+='\n#include "clk_conf.h"')),r="",null!==ge){for(r="Base Clocks:\n",ht(de)&&P>0&&(0===p.indexOf("KM1M7CF")?((h={}).module=ee,h.busClock=P.toHzString(),h.engineClock="",Ne.push(h),r+=ee+":"+P.toHzString()+"\n"):((h={}).module="LIRC",h.busClock=P.toHzString(),h.engineClock="",Ne.push(h),r+="LIRC:"+P.toHzString()+"\n")),(ht(ce)||ht("HIRC1EN"))&&U>0&&((h={}).module=J,h.busClock=U.toHzString(),h.engineClock="",Ne.push(h),r+=J+":"+U.toHzString()+"\n"),(ht(Oe)||ht("HIRC2EN"))&&v>0&&((h={}).module=Q,h.busClock=v.toHzString(),h.engineClock="",Ne.push(h),r+=Q+":"+v.toHzString()+"\n"),ht("HIRC48EN")&&k>0&&((h={}).module="HIRC48",h.busClock=k.toHzString(),h.engineClock="",Ne.push(h),r+="HIRC48:"+k.toHzString()+"\n"),ht("MIRCEN")&&R>0&&((h={}).module="MIRC",h.busClock=R.toHzString(),h.engineClock="",Ne.push(h),r+="MIRC:"+R.toHzString()+"\n"),ht("MIRC1P2MEN")&&I>0&&((h={}).module="MIRC1P2M",h.busClock=I.toHzString(),h.engineClock="",Ne.push(h),r+="MIRC1P2M:"+I.toHzString()+"\n"),(ht(fe)||ht("LIRC32KEN"))&&A>0&&((h={}).module="LXT",h.busClock=A.toHzString(),h.engineClock="",Ne.push(h),r+="LXT:"+A.toHzString()+"\n"),ht(Te)&&y>0&&((h={}).module=j,h.busClock=y.toHzString(),h.engineClock="",Ne.push(h),r+=j+":"+y.toHzString()+"\n"),ht(Te)&&m>0&&((h={}).module="RTC32k",h.busClock=m.toHzString(),h.engineClock="",Ne.push(h),r+="RTC32k:"+m.toHzString()+"\n"),(!ht("PD")||ht("PLLEN"))&&w>0&&((h={}).module=Z,h.busClock=w.toHzString(),h.engineClock="",Ne.push(h),r+=Z+":"+w.toHzString()+"\n"),ht("PLL2CKEN")&&X>0&&((h={}).module="PLL2",h.busClock=X.toHzString(),h.engineClock="",Ne.push(h),r+="PLL2:"+X.toHzString()+"\n"),ht("PLL2CKEN")&&F>0&&((h={}).module="PLL480M",h.busClock=F.toHzString(),h.engineClock="",Ne.push(h),r+="PLL480M:"+F.toHzString()+"\n"),!ht("APD")&&H>0&&((h={}).module="APLL",h.busClock=H.toHzString(),h.engineClock="",Ne.push(h),r+="APLL:"+H.toHzString()+"\n"),!ht("PDFN")&&D>0&&((h={}).module="PLLFN",h.busClock=D.toHzString(),h.engineClock="",Ne.push(h),r+="PLLFN:"+D.toHzString()+"\n"),ht(Te)&&B>0&&((h={}).module="HSUSB_OTG_PHY",h.busClock=B.toHzString(),h.engineClock="",Ne.push(h),r+="HSUSB_OTG_PHY:"+B.toHzString()+"\n"),q>0&&((h={}).module=te,h.busClock=q.toHzString(),h.engineClock="",Ne.push(h),r+=te+":"+q.toHzString()+"\n"),z>0&&((h={}).module=ne,h.busClock=z.toHzString(),h.engineClock="",Ne.push(h),r+=ne+":"+z.toHzString()+"\n"),W>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(re)&&((h={}).module="PCLK0",h.busClock=W.toHzString(),h.engineClock="",Ne.push(h),r+="PCLK0:"+W.toHzString()+"\n"),V>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(se)&&((h={}).module="PCLK1",h.busClock=V.toHzString(),h.engineClock="",Ne.push(h),r+="PCLK1:"+V.toHzString()+"\n"),G>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ce)&&((h={}).module="PCLK2",h.busClock=G.toHzString(),h.engineClock="",Ne.push(h),r+="PCLK2:"+G.toHzString()+"\n"),r+=pe,E.sort(),t=0,i=E.length;t<i;t+=1){if(l=E[t],xe=[],M=0,-1===(N=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))xe.push(N);else{for(;-1!==N.indexOf("/")&&(xe.push(N.slicePriorToX("/")),N=N.sliceAfterX("/"),!((M+=1)>10)););xe.push(N)}for(b=!0,n=0,o=xe.length;n<o;n+=1)if(!Kt(xe[n])){b=!1;break}b&&Je(l)&&((h={}).module=l,S=Ze(l),h.busClock=S.sliceAfterX(":")+" "+S.slicePriorToX(":"),r+=l+"=Bus Clock"+S,Qe(l)?(h.engineClock=$("#"+l+"_span_showRealFreq").text().trim(),r=r+"/Engine Clock:"+$("#"+l+"_span_showRealFreq").text().trim()):h.engineClock="",Ne.push(h),r+="\n")}r.lastIndexOf(pe)+28===r.length&&(r=r.slicePriorToX(pe))}if(r+="********************/\n\n",r+=c,r+="\n\n",ve){for(0!==y?"undefined"==typeof NUTOOL_PER?"modularizeCode"===e?(s="#undef  __"+j+"\n",s+="#define __"+j+"         ("+y+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):(r+="/*----------------------------------------------------------------------------\n",r+="  Define "+j+" clock.\n",r+="  Please locate and modify the real one in your project.\n",r+="  Otherwise, the project may fail to build.\n",r+=" *----------------------------------------------------------------------------*/\n",r+="#define __"+j+"         ("+y+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):s="__"+j+"="+y+"ul;__LXT="+A+"ul":s="","default"===e?(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n"):"modularizeCode"===e&&(Se=Et("modularizeCode"),r+="void NuCodeGenProj_init_base(void)\n{\n",C+="void NuCodeGenProj_init_base(void);\n",r+=f(),r+="    return;\n}\n\n","undefined"==typeof NUTOOL_PER?(r+="void NuCodeGenProj_init(void)\n{\n",C+="void NuCodeGenProj_init(void);\n"):(r+="void Clock_Init(void)\n{\n",C+="void Clock_Init(void);\n")),r+="    /*---------------------------------------------------------------------------------------------------------*/\n",r+="    /* Init System Clock                                                                                       */\n",r+="    /*---------------------------------------------------------------------------------------------------------*/\n",d=0,t=0,i=x.length;t<i;t+=1)(l=Ut(x[t]).slicePriorToX("/")).length>d&&(d=l.length);for(t=0,i=L.length;t<i;t+=1)if(void 0!==NUTOOL_CLOCK.g_register_map[L[t]]){if(l=Ut(L[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[L[t]]).toUpperCase()+"UL;\n"}for(t=0,i=x.length;t<i;t+=1)if(-1===$.inArray(x[t],L)&&-1===NUTOOL_CLOCK.g_register_map_description[x[t]].indexOf("Read Only")){if(l=Ut(x[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[x[t]]).toUpperCase()+"UL;\n"}r+="\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==p&&0!==p.indexOf("KM1M4")&&0!==p.indexOf("KM1M7")&&(r+="    /* Unlock protected registers */\n    SYS_UnlockReg();\n\n"),"default"===e?r+=f():"modularizeCode"===e&&(r+="    /* Enable base clock */\n",r+="    NuCodeGenProj_init_base();\n\n",r+=Se)}else{for(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n",l=Ut(ie),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[ie]).toUpperCase()+"UL;\n",void 0!==NUTOOL_CLOCK.g_register_map[oe]&&(l=Ut(oe),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[oe]).toUpperCase()+"UL;\n"),t=0,i=x.length;t<i;t+=1)-1===$.inArray(x[t],L)&&(l=Ut(x[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+at(K[x[t]]).toUpperCase()+"UL;\n");r+="\n    return;\n}\n"}return Ne}function Et(e){var t,n,i,o,l,a,s,_,L,d,c,O=nt(NUTOOL_CLOCK.g_Module),f="CLKO".toEquivalent().toString(),T="CLKO_Divider".toEquivalent().toString(),g="CLKO1".toEquivalent().toString(),u="CLKO1_Divider".toEquivalent().toString(),h="STCLK_S".toEquivalent().toString(),K="_S".toEquivalent().toString(),S="    /* Enable module clock and set clock source */\n",N="",x=[];if(ve){for(void 0===e&&(e="default"),"default"===e?r+="    /* Enable IP clock */\n":"modularizeCode"===e&&(C="",O=O.sort(lt)),N="",t=0,i=O.length;t<i;t+=1){if(l=O[t],x=[],d=0,-1===(L=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))x.push(L);else{for(;-1!==L.indexOf("/")&&(x.push(L.slicePriorToX("/")),L=L.sliceAfterX("/"),!((d+=1)>10)););x.push(L)}for(c=!0,n=0,o=x.length;n<o;n+=1)if(!Kt(x[n])){c=!1;break}c&&(a="",s="",_="",l===f?(s=vt(l),"NANO100AN"===p||"NANO100BN"===p?(a="    CLK_EnableCKO("+s+");\n",_="    CLK_DisableCKO();\n"):"NANO112"===p?(a="    CLK_EnableCKO0("+s+", 1);\n",_="    CLK_DisableCKO0();\n"):0===p.indexOf("KM1M7CF")?(a="    CLK_EnableCKO("+s.slicePriorToX(",")+");\n",_="    CLK_DisableCKO();\n"):(a="    CLK_EnableCKO("+s+", 1);\n",_="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=kt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===T?(s=vt(l),"NANO100AN"===p||"NANO100BN"===p?(a="    CLK_EnableCKO("+s+");\n",_="    CLK_DisableCKO();\n"):"NANO112"===p?(a="    CLK_EnableCKO0("+s+", 0);\n",_="    CLK_DisableCKO0();\n"):(a="    CLK_EnableCKO("+s+", 0);\n",_="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=kt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===g?(a="    CLK_EnableCKO1("+(s=vt(l))+", 1);\n",_="    CLK_DisableCKO1();\n"):l===u?(a="    CLK_EnableCKO1("+(s=vt(l))+", 0);\n",_="    CLK_DisableCKO1();\n"):"CLKO_1Hz"===l?(a=kt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!0),_=kt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1)):"SYSTICK"===l&&(a="",ht("CLKSRC")||-1===Nt("STICKDIV")||(a="    CLK->CLKDIV1 = CLK->CLKDIV1 & ~CLK_CLKDIV1_STICKDIV_Msk;\n",a+="    CLK->CLKDIV1 = CLK->CLKDIV1 + CLK_CLKDIV1_STICK("+(Nt("STICKDIV")+1)+");\n"),a+="    CLK_EnableSysTick("+(s=vt("SYSTICK",h,""))+", 0);\n",_="    CLK_DisableSysTick();\n"),""!==a?("modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,Te+=a):("partial"!==e&&"HSUSBH"!==l&&("WWDT"!==l||"WWDT"===l&&-1!==NUTOOL_CLOCK.g_Module.WWDT[0].indexOf(K))&&(void 0!==NUTOOL_CLOCK.g_Module[l][3]?(a="    CLK_EnableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n",_="    CLK_DisableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n"):(a="    CLK_EnableModuleClock("+l+"_MODULE);\n",_="    CLK_DisableModuleClock("+l+"_MODULE);\n"),"modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,Te+=a),-1!==(s=vt(l)).indexOf("RTC->LXTCTL")?("modularizeCode"===e?r+=s:N+=s,Te+=s):"None"!==s&&"MODULE_NoMsk, MODULE_NoMsk"!==s&&(a="    CLK_SetModuleClock("+l+"_MODULE, "+s+");\n","modularizeCode"===e?r+=a:N+=a,Te+=a)),"modularizeCode"===e&&(""!==a&&(r+="\n    return;\n}\n\n"),""!==_&&(r+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",r+=_,r+="\n    return;\n}\n\n")),"functionalTest"===e&&(r+=_))}return""!==N&&("default"===e&&(r+="\n    /* Set IP clock */\n"),r+=N),S}}function Pt(){var e="    /* Enable IP clock */\n",t="    /* Enable module clock and set clock source */\n";ve&&(r.lastIndexOf(e)+26===r.length?r=r.slicePriorToX(e):r.lastIndexOf(t)+51===r.length?r=r.slicePriorToX(t):r+="\n",r+="    /* Update System Core Clock */\n    /* User can use SystemCoreClockUpdate() to calculate SystemCoreClock. */\n    SystemCoreClockUpdate();\n\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==p&&0!==p.indexOf("KM1M4")&&0!==p.indexOf("KM1M7")&&(r+="    /* Lock protected registers */\n    SYS_LockReg();\n\n"),r+="    return;\n}\n\n")}function Ut(e){var t,n,i,o,l,a=0,r=[],s="SYST_CSR".toEquivalent().toString(),C="";if(void 0!==NUTOOL_CLOCK.g_register_map[e]){for(t=0,n=NUTOOL_CLOCK.g_register_map[e].length;t<n;t+=1)if(l=NUTOOL_CLOCK.g_register_map[e][t].sliceAfterX(":"),-1===r.indexOf(l))if(r.push(l),-1===l.indexOf("-"))a+=Math.pow(2,l);else for(i=parseInt(l.sliceAfterX("-"),10),o=parseInt(l.slicePriorToX("-"),10)+1;i<o;i+=1)a+=Math.pow(2,i);C=e===s?"SysTick->CTRL/0x"+at(a).toUpperCase()+"UL":"RTC_LXTCTL"===e?"RTC->LXTCTL/0x"+at(a).toUpperCase()+"UL":"RTC_CLKSRC"===e?"RTC->CLKSRC/0x"+at(a).toUpperCase()+"UL":"CLK->"+e+"/0x"+at(a).toUpperCase()+"UL"}return C}function vt(e,t,n){var i,o,l,a,r,s,C,_,L,d,c,O,f,T=-1,g="",u="CLKO".toEquivalent().toString(),h="CLKO_Divider".toEquivalent().toString(),S="CLKO1".toEquivalent().toString(),N="CLKO1_Divider".toEquivalent().toString(),M="HXT".toEquivalent().toString(),b="HCLK".toEquivalent().toString(),E=!1,P=!1;if(s=void 0===t?NUTOOL_CLOCK.g_Module[e][0]:t,T=-1,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(s))for(i=0,o=x.length;i<o;i+=1){for(r=x[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(s)?(O=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0],f=parseInt(O.sliceAfterX(":"),10),O=O.slicePriorToX(":"),T=Nt(s)+(Nt(O)<<f)>>>0,E=!0):(T=Nt(s),E=!1);break}if(-1!==T)break}if(-1!==T){if(0===p.indexOf("KM1M7CF")&&"SYSTICK"===e){var U=Nt("CLKSRC").toString(),v=Nt("STCKSEL").toString();C=1==U&&0==v?"CPUCLK":0==U&&0==v?"HXOCLK/128":0==U&&1==v?"HRCCLK1/128":"CPUCLK"}else if("SYSTICK"===e&&ht("CLKSRC"))C=b;else for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[s].length;i<o&&(C=NUTOOL_CLOCK.g_CLKSEL[s][i],T!==parseInt(C.sliceAfterX(":"),10));i+=1)i===o-1&&(g="MODULE_NoMsk");if(C=C.slicePriorToX(":"),ke&&-1!==C.indexOf("XT")&&(C="MINI57"===p?C.replace(M,"EXT").replace("LXT","EXT"):C.replace(M,"XTAL").replace("LXT","XTAL")),"MINI57"===p?-1!==s.indexOf("STCLK")?g=-1===C.indexOf("/")?"CLK_SYSTICK_SRC_"+C:"CLK_SYSTICK_SRC_"+C.slicePriorToX("/")+"_HALF":-1===C.indexOf("/")?g="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C:(_=C,g="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C.slicePriorToX("/")+"_"+_.sliceAfterX("/")):"NUC505"===p?g="CLK_"+s.slicePriorToX("SEL").slicePriorToX("_S")+"_SRC_"+C.replace(M,"EXT").replace("RTC32k","RTC"):0===p.indexOf("KM1M7CF")&&"SYSTICK"===e?g=0===C.indexOf("CPUCLK")?"CLK_SYSTICK_CLK_CPU":0===C.indexOf("HXOCLK/128")?"CLK_SYSTICK_CLK_HXO_DIV128":0===C.indexOf("HRCCLK1/128")?"CLK_SYSTICK_CLK_HRCCLK1_DIV128":"CLK_SYSTICK_CLK_CPU":0===p.indexOf("KM1M7CF")&&"CLKOUT"===e?g=0===C.indexOf("HRCCLK1/8")?"CLK_CLKOUTSEL_HRCCLK1_DIV8":0===C.indexOf("HXOCLK/8")?"CLK_CLKOUTSEL_HXOCLK_DIV8":0===C.indexOf("PLLCLK/256")?"CLK_CLKOUTSEL_PLLCLK_DIV256":"CLK_CLKOUTSEL_HRCCLK1_DIV8":-1===C.indexOf("/")?g="CLK_"+r+"_"+s+"_"+C:-1!==C.indexOf("/")&&-1!==C.indexOf("DIV")?(void 0===n&&(n=C.sliceAfterX("(").slicePriorToX("+")),_=C,g="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")):(_=C,g="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")+"_DIV"+_.sliceAfterX("/")),(0===p.indexOf("M25")||0===p.indexOf("M030")||0===p.indexOf("M031")||0===p.indexOf("M0A21")||0===p.indexOf("M0A23"))&&-1!==g.indexOf("LXTCTL"))return g=-1!==g.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_C32KS_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_C32KS_Msk;\n";if("M2354"===p&&-1!==g.indexOf("LXTCTL"))return g=-1!==g.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_RTCCKSEL_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_RTCCKSEL_Msk;\n";if("NUC2201"!==p&&"NUC029xEE"!==p||-1===g.indexOf("HIRC48")||(g="CLK_CLKSEL0_USB_S_RC48M"),"M480LD"===p&&-1!==g.indexOf("HIRC48")&&(g="CLK_CLKSEL0_USBSEL_RC48M"),E){for(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0].slicePriorToX(":"),i=0,o=x.length;i<o;i+=1){for(r=x[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(_=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&_.indexOf(":")===s.length){P=!0;break}if(P)break}g=g+"|CLK_"+r+"_"+s.slicePriorToX("_")+"_EXT_"+C}}else"SYSTICK"===e?(C=(C=ht("CLKSRC")?b:-1===NUTOOL_CLOCK.g_Module.SYSTICK[0].indexOf("STICKDIV")?NUTOOL_CLOCK.g_Module.SYSTICK[0]:M).slicePriorToX(":"),ke&&-1!==C.indexOf("XT")&&(C=C.replace(M,"XTAL").replace("LXT","XTAL")),"NUC505"!==p?-1===C.indexOf("/")?g="CLK_CLKSEL0_STCLKSEL_"+C:(_=C,g="CLK_CLKSEL0_STCLKSEL_"+C.slicePriorToX("/")+"_DIV"+_.sliceAfterX("/")):g="CLK_STICK_SRC_"+C.replace(M,"EXT").replace("RTC32k","RTC")):g="MODULE_NoMsk";if("SYSTICK"!==e)if("none"===(s=void 0===n?NUTOOL_CLOCK.g_Module[e][2]:n))g+=", MODULE_NoMsk";else{for(T=-1,i=0,o=x.length;i<o;i+=1){for(r=x[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){-1===C.indexOf("-")?c=1<<(L=parseInt(C.sliceAfterX(":"),10))>>>0:(L=parseInt(C.sliceAfterX("-"),10),d=parseInt(C.sliceBetweenXandX(":","-"),10)-L+1,c=Math.pow(2,d)-1<<L>>>0),T=(T=(K[r]&c)>>>0)>>>L>>>0;break}if(-1!==T)break}if(-1!==T)if(e!==u&&e!==h&&e!==S&&e!==N){for(i=0,o=NUTOOL_CLOCK.g_DIV_Module_Defines.length;i<o;i+=1)0===e.indexOf(NUTOOL_CLOCK.g_DIV_Module_Defines[i].slicePriorToX(":"))&&(e=NUTOOL_CLOCK.g_DIV_Module_Defines[i].sliceAfterX(":"));g="NANO100AN"===p||"NANO100BN"===p||"NANO112"===p||"NANO103"===p?g+", CLK_"+e+"_CLK_DIVIDER("+(T+1)+")":0!==p.indexOf("M480")||0!==e.indexOf("USB")&&0!==e.indexOf("OTG")?"MINI57"===p?-1!==e.indexOf("ADC")?g+", CLK_CLKDIV_EADC("+(T+1)+")":g+", CLK_CLKDIV_HCLK("+(T+1)+")":g+", CLK_"+r+"_"+e+"("+(T+1)+")":g+", CLK_"+r+"_USB("+(T+1)+")"}else g=g+", "+T;else g+=", MODULE_NoMsk"}return g}function kt(e,t){var n,i,o,l,a,r,s,C="";if("none"===(r=e))C="MODULE_NoMsk";else for(n=0,i=x.length;n<i;n+=1){for(a=x[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(s=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(r)&&s.indexOf(":")===r.length){C=t?"    CLK->"+a+" = CLK->"+a+" | CLK_"+a+"_"+r+"_Msk;\n":"    CLK->"+a+" = CLK->"+a+" & ~CLK_"+a+"_"+r+"_Msk;\n";break}if(""!==C)break}return C}function Rt(){"undefined"==typeof NUTOOL_PER?"none"===$("#ChipType").css("display")?($("#ChipType").show(),$("#MCU").show(),null!==ge&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#ChipType").hide(),$("#MCU").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px")):"none"===$("#clockRegsTree").css("display")?($("#clockRegsTree").show(),null!==ge&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#clockRegsTree").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px"))}function It(){_t(),je(),Me=!0,Lt(),Me=!1}function mt(t){if(console.log("filename:"+t),console.log(null==t?`${u}.ncfg`:`${t}.ncfg`),Ot(ft))try{wt();var n=`/****************************************************************************\r\n * @file     ${u}.ncfg\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${ue} clock config file\r\n *\r\n * @note Please do not modify this file.\r\n *       Otherwise, it may not be loaded successfully.\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${u}\r\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,null==t?`${u}.ncfg`:`${t}.ncfg`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function $t(){wt();var e=`Please do not modify this file. Otherwise, it may not be loaded successfully.\nMCU:${u}\n${r}`;try{localStorage.setItem("Nu_config",e)}catch(e){}}function At(e){var t,n,i,o,l,a,r,s,C,_,d,c,O,f="checked=true",T="",g=[],u="",h="",K="",S=null,N=[],x=localStorage.getItem("UIlanguage"),M="",b="",E="";if(function(e,t){var n,i,o,l=["*","?",'"',"<",">","|"],a=!0;for(n=0,i=l.length;n<i;n+=1)if(o=l[n],-1!==t.indexOf(l[n])){pt("工程路径不应该包含"+o+"。请修正它。","專案路徑不應該包含"+o+"。請修正它。","The project path should not contain "+o+". Please fix it."),a=!1;break}for(l.push("\\"),l.push("/"),l.push(":"),n=0,i=l.length;n<i;n+=1)if(o=l[n],-1!==e.indexOf(o)){pt("工程名称不应该包含"+o+"。请修正它。","專案名稱不應該包含"+o+"。請修正它。","The project name should not contain "+o+". Please fix it."),a=!1;break}return t.charAt(0).match(/^[a-zA-Z]/)&&t.charAt(1).match(/^[:]/)&&t.charAt(2).match(/^[\/\\]/)||(pt("工程路径开头应为磁碟机代号、磁碟区分隔符号和元件分隔符号(C:)。请修正它。","專案路徑開頭應為磁碟機代號、磁碟區分隔符號和元件分隔符號(C:)。請修正它。","The project path should begin with a drive letter, a volume separator and a component separator (C:). Please fix it."),a=!1),e.slice(-1).match(/^[ .]/)&&(pt("工程名称不应以空格或句号结尾。请修正它。","專案名稱不應以空格或句號結尾。請修正它。","The project name should not end with a space or peroid. Please fix it."),a=!1),a},d=function(){-1!==L.indexOf("Simplified")?(u="模块",h="汇流排频率",K="引擎频率"):-1!==L.indexOf("Traditional")?(u="模組",h="匯流排頻率",K="引擎頻率"):(u="Module",h="Bus Clock",K="Engine Clock"),$("#reviewReportTable")[0]||$("<div id='reviewReportTable'></div>").insertAfter($("#generateCodeDialogMainPart_div")),N=bt(),c=N.length>10?"282px":"100%",N.length>0&&(S=new Tabulator("#reviewReportTable",{height:c,data:N,layout:"fitColumns",columns:[{title:u,field:"module"},{title:h,field:"busClock"},{title:K,field:"engineClock"}],rowClick:function(e,t){null!==ge&&(ge.selectAll("g.node").on("searchFromInput")(t._row.data.module),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}))},langs:{Simplified:{headerFilters:{default:"过滤"}},Traditional:{headerFilters:{default:"過濾..."}},English:{headerFilters:{default:"filter..."}}}}),-1!==L.indexOf("Simplified")?S.setLocale("Simplified"):-1!==L.indexOf("Traditional")?S.setLocale("Traditional"):S.setLocale("English"))},Ot(ft)){if(null==(b=localStorage.getItem("ProjectName"))&&(b=""),null==localStorage.getItem("ProjectLocation")&&"",null==(E=localStorage.getItem("ProjectLocationHistory"))&&(E=""),void 0===x||null==x?(i="Generate Code",o="Project Name","Please input a folder path for storing the generated code:",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",T="Or you can choose a folder from recent projects","Browse",r="Modularize Code",_="Review Report",O="Confirm","Leave"):(null!=(M=localStorage.getItem("CheckModularizeCode"))&&"No"!==M||(M="No",f=""),"Simplified Chinese"===x?(i="产生程式码",o="工程名称","请输入文件夹路径，用于存放生成的代码:",l="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",T="或是您可以从最近的工程中选择一个","浏览",r="模组化代码",_="检阅报告",O="确定","离开"):"Traditional Chinese"===x?(i="產生程式碼",o="專案名稱","請輸入資料夾路徑，用於存放生成的程式碼:",l="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",T="或是您可以從最近的專案中選擇一個","瀏覽",r="模組化程式碼",_="檢閱報告",O="確定","離開"):(i="Generate Code",o="Project Name","Please input a folder path for storing the generated code:",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",T="Or you can choose a folder from recent projects","Browse",r="Modularize Code",_="Review Report",O="Confirm","Leave")),""===b.trim()&&(b="MyProject"),""!==E.trim()){for('<br /><label><select id="generateCodeDialogSelect" style="width: 450px;height:32px;"><option value="default">'+T+"</option>",t=0,n=(g=E.split(">")).length-1;t<n;t++)'<option value="'+g[t]+'">'+g[t]+"</option>";"</select></label>"}-1===["MINI51DE","MINI55","NUC029AE","NUC100CN","NM1200","NM1500"].indexOf(p)?s="checkbox":(r="",s="hidden",f=""),null===ge?(_="",C="hidden"):C="checkbox",it(),void 0===e?(a='<div id="generateCodeDialogMainPart_div"><label>'+o+': <input type="text" id="inputText_projectName" value="'+b+'" style="width:250px;height:24px;"></label><br /><br /><label><p>'+l+"</p></div>",a+='<div id="reviewReportTable"></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},create:function(e,t){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")?$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label><input type='"+C+"' id='checkbox_ReviewReport'/>"+_+"</label></label></div>").prependTo(n):$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label></div>").prependTo(n)},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){localStorage.setItem("ProjectName",$("#inputText_projectName").val()),$("#checkbox_ModularizeCode").is(":checked")?localStorage.setItem("CheckModularizeCode","Yes"):localStorage.setItem("CheckModularizeCode","No"),$("#generateCodeDialog_buttonOk").button("disable"),""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{yt()}catch(e){}$("#generateCodeDialog").dialog("isOpen")?$("#generateCodeDialog").dialog("destroy"):$("#generateCodeDialog_buttonOk").button("enable")}}]})):0===e.indexOf("reviewReport")&&(a='<div id="reviewReportTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:_,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){-1!==e.indexOf("runAnotherTool")?runAnotherTool():$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy")}}]}),d()),$("#generateCodeDialogInput").keypress((function(e){if(22===e.which)$("#generateCodeDialogInput").val(window.clipboardData.getData("Text"))})),$("#generateCodeDialogBrowseFolder").click((function(){""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{yt()}catch(e){}""!==NUTOOL_CLOCK.g_clockFunctionString&&-1!==NUTOOL_CLOCK.g_clockFunctionString.indexOf(":")&&$("#generateCodeDialogInput").val(NUTOOL_CLOCK.g_clockFunctionString),$("#generateCodeDialog").focus()})),$("#generateCodeDialogSelect").change((function(){"default"!==$("#generateCodeDialogSelect").val()&&($("#generateCodeDialogInput").val($("#generateCodeDialogSelect").val()),$("#generateCodeDialogSelect").val($("#generateCodeDialogSelect option:first-child").val()))})),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")?(d(),$("#generateCodeDialogMainPart_div").hide(),$("#generateCodeDialogTableWrapper").show(),$("#generateCodeDialog_buttonOk").button("disable")):($("#reviewReportTable").remove(),$("#generateCodeDialogMainPart_div").show(),$("#generateCodeDialogTableWrapper").hide(),$("#generateCodeDialog_buttonOk").button("enable"))}))}}function yt(){if($("#checkbox_ModularizeCode").is(":checked")){Ft(),a=(a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${u}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\n`).replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`);var n=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\n*****************************************************************************/\n\n#ifndef __${$("#inputText_projectName").val().toUpperCase()}_H__\n#define __${$("#inputText_projectName").val().toUpperCase()}_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${C}#ifdef __cplusplus\n}\n#endif\n#endif /*__${$("#inputText_projectName").val().toUpperCase()}_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\n`;n=n.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,`${$("#inputText_projectName").val()}.h`);var o=`/****************************************************************************\n * @file     nutool_clkcfg.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\n*****************************************************************************/\n\n#ifndef __NUTOOL_CLKCFG_H__\n#define __NUTOOL_CLKCFG_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${s}#ifdef __cplusplus\n}\n#endif\n#endif /*__NUTOOL_CLKCFG_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\n`;o=o.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var l=new Blob([o],{type:"text/plain;charset=utf-8"});saveAs(l,"nutool_clkcfg.h")}else{Xt();var a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${u}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\n`;t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`)}mt($("#inputText_projectName").val())}function wt(){var e,t,n="HXT".toEquivalent().toString(),i="PLL".toEquivalent().toString();for(r="",e=0,t=x.length;e<t;e+=1)r+="Reg:"+x[e]+" = 0x"+at(K[x[e]]).toUpperCase()+"\r\n";A>0&&(r+="LXT:"+A+"\r\n"),y>0&&(r+=n+":"+y+"\r\n"),m>0&&(r+="RTC32k:"+m+"\r\n"),w>0&&(r+=i+":"+w+"\r\n"),X>0&&(r+="PLL2:"+X+"\r\n"),F>0&&(r+="PLL480M:"+F+"\r\n"),H>0&&(r+="APLL:"+H+"\r\n"),D>0&&(r+="PLLFN:"+D+"\r\n"),B>0&&(r+="HSUSB_OTG_PHY:"+B+"\r\n"),r+="Step:"+M+"\r\n",e=null,t=null}function Xt(){bt(),Et(),Pt()}function Ft(){bt("modularizeCode"),Pt()}function Ht(){var e,t;gt((function(){if(be){for(be=!1,_t(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",x=nt(NUTOOL_CLOCK.g_register_map_default),K=[],e=0,t=x.length;e<t;e+=1)K[x[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[x[e]],16);Lt()}Wt()}))}function Dt(){null!==ge&&(Ue=!Ue,ct(M-1-1),$("#tabs").tabs({active:M-1}))}function Bt(){null!==ge&&gt((function(){xt(),Wt()}))}function qt(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,T,p,g,u,h,K,S,N,x,M,b="",E="",P="",U="PLL".toEquivalent().toString();Ne||("Simplified Chinese"===L?(e="设定",t="从下面选取一个语言显示在操作介面上。",n="英文",i="简体中文",o="繁体中文",E="checked",l="确定",a="离开"):"Traditional Chinese"===L?(e="設定",t="從下面選取一個語言顯示在操作介面上。",n="英文",i="简體中文",o="繁體中文",P="checked",l="確定",a="離開"):(e="Settings",t="Select one of the following languages displayed in UI.",n="English",i="Simplified Chinese",o="Traditional Chinese",b="checked",l="Confirm",a="Leave"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$('<div id="languageDialog"><p>'+t+'</p><input type="radio" id="engiish" value="English" name="UIlanguage" '+b+'><label for="engiish">'+n+'</label><br /><input type="radio" id="simplifiedChinese" value="Simplified Chinese" name="UIlanguage" '+E+'><label for="simplifiedChinese">'+i+'</label><br /><input type="radio" id="traditionalChinese" value="Traditional Chinese" name="UIlanguage" '+P+'><label for="traditionalChinese">'+o+'</label><br /><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){$("input").each((function(){if(!0===this.checked&&"on"!==$(this).val()){L!==$(this).val()&&!0,-1!==(L=$(this).val()).indexOf("Simplified")?(r="型号",s="晶片系列:",C="Clock寄存器",_="搜寻模块",d="启用",c="停用",O="等待",T="周期",p="",g="模块",u="的时脉频率: ",h="下一步",K="基础时脉源",S=U,N="模块",x="没有"+U+"相关的时脉源可供使用。",M="输入期望值"):-1!==L.indexOf("Traditional")?(r="型號",s="晶片系列:",C="Clock暂存器",_="搜尋模組",d="啟用",c="停用",O="等待",T="週期",p="",g="模組",u="的時脈頻率: ",h="下一步",K="基礎時脈源",S=U,N="模組",x="沒有"+U+"相關的時脈源可供使用。",M="輸入期望值"):(r="Part No.",s="Chip Series:",C="Clock Registers",_="Search Module",d="Enable",c="Disable",O="Wait",T="cycles",p="The clock of ",g="The clock of ",u=": ",h="Next Step",K="Base Clocks",S=U,N="Module",x="There are no "+U+"-related clock sources available.",M="Input the expected value"),$("#MCU_span").text(r),$("#ChipType_span").text(s),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),C),$("#searchModule_span").text(_),$(".enable_span").text(d),$(".disable_span").text(c),$(".wait_span").text(O),$(".cycles_span").text(T),$(".specificRealOutput_before_span").text(p),$(".realOutput_before_span").text(g),$(".realOutput_after_span").text(u),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=h),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=h),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=h),$("#base_clocks_span").text(K),$("#pll_clocks_span").text(S),$("#module_span").text(N),$("#no_pll_span").text(x),$("[title]").prop("title",M),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px");try{localStorage.setItem("UIlanguage",$(this).val())}catch(e){}tn(),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy")}}))}},{text:a,click:function(){""===L&&(L="English"),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))}function zt(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,T,p,g,u="PLL".toEquivalent().toString();Mt(),-1!==L.indexOf("Simplified")?(n="型号",i="晶片系列:",t="Clock寄存器",e="搜寻模块",o="启用",l="停用",a="等待",r="周期",s="",C="模块",_="的时脉频率: ",d="下一步",c="基础时脉源",O=u,T="模块",p="没有"+u+"相关的时脉源可供使用。",g="输入期望值",Vt("ID_BUTTON_SHOW_REGISTERS","开关选择区域和MFP寄存器树状图"),Vt("ID_BUTTON_LOAD","读取配置档"),Vt("ID_BUTTON_SAVE","存放配置档"),Vt("ID_BUTTON_GENERATE_CODE","产生程式码"),Vt("ID_BUTTON_CONNECT_TO_TARGET","连线到目标芯片"),Vt("ID_BUTTON_RETURN_DEFAULT","回到初始设置"),Vt("ID_BUTTON_SWITCH_CLOCK_TREE","切换时钟树形图"),Vt("ID_BUTTON_DISABLE","取消所有已选模组"),Vt("ID_BUTTON_LANGUAGE","设定"),Vt("ID_BUTTON_INSTRUCTION","阅读用户手册")):-1!==L.indexOf("Traditional")?(n="型號",i="晶片系列:",t="Clock暂存器",e="搜尋模組",o="啟用",l="停用",a="等待",r="週期",s="",C="模組",_="的時脈頻率: ",d="下一步",c="基礎時脈源",O=u,T="模組",p="沒有"+u+"相關的時脈源可供使用。",g="輸入期望值",Vt("ID_BUTTON_SHOW_REGISTERS","開關選擇區域和MFP暫存器樹狀圖"),Vt("ID_BUTTON_LOAD","讀取配置檔"),Vt("ID_BUTTON_SAVE","存放配置檔"),Vt("ID_BUTTON_GENERATE_CODE","產生程式碼"),Vt("ID_BUTTON_CONNECT_TO_TARGET","連線到目標晶片"),Vt("ID_BUTTON_RETURN_DEFAULT","回到初始設置"),Vt("ID_BUTTON_SWITCH_CLOCK_TREE","切換時鐘樹狀圖"),Vt("ID_BUTTON_DISABLE","取消所有已選模組"),Vt("ID_BUTTON_LANGUAGE","設定"),Vt("ID_BUTTON_INSTRUCTION","閱讀用戶手冊")):(n="Part No.",i="Chip Series:",t="Clock Registers",e="Search Module",o="Enable",l="Disable",a="Wait",r="cycles",s="The clock of ",C="The clock of ",_=": ",d="Next Step",c="Base Clocks",O=u,T="Module",p="There are no "+u+"-related clock sources available.",g="Input the expected value",Vt("ID_BUTTON_SHOW_REGISTERS","Switch Select Field and MFP-Registers TreeView"),Vt("ID_BUTTON_LOAD","Load Configuration"),Vt("ID_BUTTON_SAVE","Save Configuration"),Vt("ID_BUTTON_GENERATE_CODE","Generate Code"),Vt("ID_BUTTON_CONNECT_TO_TARGET","Connect to Target Chip"),Vt("ID_BUTTON_RETURN_DEFAULT","Return to Default Settings"),Vt("ID_BUTTON_SWITCH_CLOCK_TREE","Switch Clock Tree"),Vt("ID_BUTTON_DISABLE","Disable All Checked Modules"),Vt("ID_BUTTON_LANGUAGE","Settings"),Vt("ID_BUTTON_INSTRUCTION","Read User Manual")),$("#MCU_span").text(n),$("#ChipType_span").text(i),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),t),$("#searchModule_span").text(e),$(".enable_span").text(o),$(".disable_span").text(l),$(".wait_span").text(a),$(".cycles_span").text(r),$(".specificRealOutput_before_span").text(s),$(".realOutput_before_span").text(C),$(".realOutput_after_span").text(_),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=d),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=d),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=d),$("#base_clocks_span").text(c),$("#pll_clocks_span").text(O),$("#module_span").text(T),$("#no_pll_span").text(p),$("[title]").prop("title",g),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px")}function Wt(){var e,t;for(S=[],e=0,t=x.length;e<t;e+=1)S[x[e]]=K[x[e]]}function Vt(e,t,n){null!=n&&null!=n||(n="top"),null!=document.querySelector(`#${e}`)&&null!=document.querySelector(`#${e}`)&&document.querySelector(`#${e}`)._tippy&&document.querySelector(`#${e}`)._tippy.destroy(),tippy(`#${e}`,{content:`${t}`,placement:`${n}`})}function jt(){d="\f",h.getContext=function(e){return e.getContext("2d")},h.removeContext=function(e){e.remove()},h.addEvent=function(e,t,n){void 0!==e&&e.addEventListener(t,n,!1)},h.triggerEvent=function(e,t){void 0!==$(e)[0]&&$(e).trigger(t)},$("html").addClass("ie10+"),"undefined"==typeof NUTOOL_PER&&(He("","tabulator/promise-polyfill.js","js"),He("","tabulator/js/tabulator.js","js"),He("","tabulator/css/tabulator.css","css")),Mt(),Ge(),je(),$("#rootTree_Clock")[0].setAttribute("style","width:"+f+"px; height: "+t+"px;"),"undefined"==typeof NUTOOL_PER?function(){var e,t,n,i=$("#ChipTypeSelect"),o=$("#ChipType_span"),l=$("#MCU_span");for($("#ChipType")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#MCU")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#ChipType").hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),$("#MCU").hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),-1!==L.indexOf("Simplified")?(o.text("晶片系列:"),l.text("型号:")):-1!==L.indexOf("Traditional")?(o.text("晶片系列:"),l.text("型號:")):(o.text("Chip Series:"),l.text("Part No.:")),o.css("font-size","16px"),o.css("font-weight","bold"),l.css("font-size","16px"),l.css("font-weight","bold"),e=0,t=T.length;e<t;e+=1){n=window.document.createElement("option");try{n.id=n.innerHTML=n.value=T[e]}catch(e){}i[0].appendChild(n)}i.val(qe(p)),Xe(),i.on("change",(function(){var e,t;p!=$(this).val()&&He("NUC_"+p+"_Content.js","NUC_"+(e=$(this).val(),t=e,"NUC200"===e?t="NUC200AN":"NANO100"===e?t="NANO100AN":"NUC100"===e?t="NUC100DN":"M0A21"===e?t="M0A21":"M030G"===e||"M030G"===e?t="M030G_31G":"M031"===e?t="M031BT":"M051"===e?t="M051DE":"MINI51"===e?t="MINI55":"NUC029"===e?t="NUC029AE":"M460"===e?t="M460HD":"M480"===e?t="M480MD":"KM1M4BF"===e?t="KM1M4BF":"KM1M7AF"===e?t="KM1M7AF":"KM1M7BF"===e?t="KM1M7BF":"KM1M7CF"===e?t="KM1M7CF":"M2003"===e&&(t="M2003C"),(p=t)+"_Content.js"),"js",Xe)}))}():M=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,Fe(),Me=!0,we(),Me=!1,$(window.document).mousedown((function(e){return e=e||window.event,l=(e.target||e.srcElement).id,this})),"undefined"!=typeof NUTOOL_PER&&($("#tabs")[0].style.visibility="hidden",$("#rootTree_Clock").hide()),"undefined"!=typeof NUTOOL_PER||Ke||$(window.document).keypress((function(e){switch(e.which){case 122:case 120:case 99:case 113:case 119:default:break;case 13:Se=!0}}))}function Gt(){if(null!=this.files[0]&&null!=this.files[0])if(-1!=this.files[0].name.split(".").pop().toLowerCase().indexOf("ncfg")){var e=this.files[0],t=new FileReader;t.readAsText(e),t.onload=function(t){NUTOOL_CLOCK.g_readConfigFileContentText=t.target.result,NUTOOL_CLOCK.g_readConfigFilePath=URL.createObjectURL(e);try{!function(e){var t="",n="",i="";"",saved_newReadConfigFile=t=NUTOOL_CLOCK.g_readConfigFileContentText;for(;-1!==t.indexOf("\r")&&t.indexOf("\r")<t.indexOf("MCU:");)t=t.sliceAfterX("\r");if(n=(n=t.sliceBetweenXandX("MCU:","\r")).trim(),i=Ve(n),-1===$.inArray(qe(i),T))return pt("从配置档读出的晶片型号 "+i+" 不正确。","從配置檔讀出的晶片型號 "+i+" 不正確。","The chip type of "+i+" read from the config file is incorrect."),t=null,n=null,i=null,null;He(void 0!==p&&""!==p?"NUC_"+p+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+i+"_Content.js","js",e);t,p=i,u=n}(It)}catch(e){}}}else alert("Please select a file with a valid file type. (.ncfg)")}function Yt(e,t){var n,i,o="OSC10K_EN".toEquivalent().toString(),l="OSC22M_EN".toEquivalent().toString(),a=("OSC22M2_EN".toEquivalent().toString(),"XTL32K_EN".toEquivalent().toString()),r="XTL12M_EN".toEquivalent().toString(),s=("PWRCON".toEquivalent().toString(),"HCLK_S".toEquivalent().toString(),"STCLK_S".toEquivalent().toString(),"CLKO".toEquivalent().toString(),"CLKO_Divider".toEquivalent().toString(),"CLKO1".toEquivalent().toString(),"CLKO1_Divider".toEquivalent().toString(),"SYST_CSR".toEquivalent().toString(),"_S".toEquivalent().toString(),"HXT".toEquivalent().toString());"PLL".toEquivalent().toString(),"HIRC".toEquivalent().toString(),"HIRC2".toEquivalent().toString(),"LIRC".toEquivalent().toString(),"HCLK".toEquivalent().toString(),"PCLK".toEquivalent().toString();if("CortexM"==t){var C,_,L,d,c,O=[],f=!1,T=!1,g=!1;for(var h in regNames=nt(NUTOOL_CLOCK.g_register_map_description),e)for(var K=0;K<regNames.length;K++)if(NUTOOL_CLOCK.g_register_map_description[regNames[K]]==Object.keys(e[h])[0]){var S=e[h][Object.keys(e[h])[0]];if("PWRCTL"==regNames[K])for(E=0,max=x.length;E<max;E+=1){var N=x[E];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[N].length;j<maxJ;j+=1){-1!==(M=NUTOOL_CLOCK.g_register_map[N][j]).indexOf(r)||-1!==M.indexOf("XTL12M_EN")?(i=1<<(n=parseInt(M.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(f=!0)):-1!==M.indexOf(l)||-1!==M.indexOf("OSC22M_EN")?(i=1<<(n=parseInt(M.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(T=!0)):-1!==M.indexOf("MIRCEN")&&(i=1<<(n=parseInt(M.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(g=!0))}}}for(var h in e)for(K=0;K<regNames.length;K++)if(NUTOOL_CLOCK.g_register_map_description[regNames[K]]==Object.keys(e[h])[0]){S=e[h][Object.keys(e[h])[0]];if("PLLCTL"==regNames[K]||"CHIPPLLCTR1"==regNames[K]){for(E=0,max=x.length;E<max;E+=1){N=x[E];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[N].length;j<maxJ;j+=1){var M;if(-1!==(M=NUTOOL_CLOCK.g_register_map[N][j]).indexOf("PLL_SRC")&&7===M.indexOf(":")){-1===M.indexOf("-")?i=1<<(n=parseInt(M.sliceAfterX(":"),10))>>>0:(n=parseInt(M.sliceAfterX("-"),10),bitCount=parseInt(M.sliceBetweenXandX(":","-"),10)-n+1,i=Math.pow(2,bitCount)-1<<n>>>0),c=(c=(parseInt(S,16)&i)>>>0)>>>n>>>0;break}}}if(0===p.indexOf("KM1M7AF")||0===p.indexOf("KM1M7BF")||"NUC505"===p)d="HXT",C=1e6*$("#HXTEN_input").val();else if(0===p.indexOf("KM1M7CF"))switch(c){case 0:default:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 1:d="HXT",C=1e6*$("#HXTEN_input").val()}else if(0===p.indexOf("M25"))switch(c){case 0:case 2:d="HXT",C=1e6*$("#HXTEN_input").val();break;case 1:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 3:d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency;break;default:ht(o)?(d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency):ht("MIRCEN")?(d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency):(d="HXT",C=1e6*$("#HXTEN_input").val())}else switch(c){case 0:d="HXT",C=1e6*$("#HXTEN_input").val();break;case 1:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 2:case 3:d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency;break;default:ht(o)?(d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency):ht("MIRCEN")?(d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency):(d="HXT",C=1e6*$("#HXTEN_input").val())}("HXT"==d&&f||"HIRC"==d&&T||"MIRC"==d&&g)&&(_=Qt(C,S),H>0&&(L=en(C,S)))}O.push(`Reg:${regNames[K]} = 0x${S}\r\n`);break}for(var b=`MCU:${u}\r\n`,E=0;E<O.length;E++)b+=O[E];ht(a)&&(b+="LXT:32768\r\n"),ht("LIRC32KEN")&&(b+="LXT:32000\r\n"),ht(r)&&(b+=`${s}:${1e6*parseFloat($("#"+r+"_input").val())}\r\n`,B>0&&(b+=`HSUSB_OTG_PHY:${NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency}\r\n`)),null!=_&&_>0&&(b+=`PLL:${_}\r\n`),H>0&&(b+=`APLL:${L}\r\n`),D>0&&(b+=`PLLFN:${PLLFg_realPLLFNoutputClockreq}\r\n`),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(b+=`RTC32k:${NUTOOL_CLOCK.g_RTC32kfrequency}\r\n`),-1!=b.indexOf("PLL")?b+="Step:4\r\n":b+="Step:3\r\n",NUTOOL_CLOCK.g_readConfigFileContentText=b,NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",It()}else"8051"==t||console.log("returnRegisterValue: unknown type.")}function Zt(e){return Re.filter((t=>-1!=t.indexOf(e)))[0].slicePriorToX("-")}function Jt(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function Qt(e,t){var n,i,o,l,a,r,s,C,_,L;if(0===p.indexOf("M25")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(3,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":r=2;break;case"10":case"11":r=4}l=0==parseInt(o,2)?16:parseInt(o,2),i=0==parseInt(n,2)?64:parseInt(n,2)}else if(0===p.indexOf("NANO100AN")||0===p.indexOf("NANO100BN")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(6,8),a=regValueBinary.slice(3,4)){case"0":default:r=1;break;case"1":r=2}switch(o){case"00":default:l=2;break;case"01":l=4;break;case"10":l=8;break;case"11":l=16}i=parseInt(n,2)+32}else if("NUC505"===p)regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-7),o=regValueBinary.slice(3,9),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1;else if("M261"===p||0===p.indexOf("M460")||0===p.indexOf("M480")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+1,i=parseInt(n,2)+2}else if(0===p.indexOf("KM1M4"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),L=parseInt(regValueBinary.slice(-7),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===p.indexOf("KM1M7AF")||0===p.indexOf("KM1M7BF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),L=parseInt(regValueBinary.slice(-5),2),_=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===p.indexOf("KM1M7CF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),L=parseInt(regValueBinary.slice(-5),2),_=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,7),2);else{switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+2,i=parseInt(n,2)+2}if(0===p.indexOf("KM1M")){if(null==C||null==L)return void console.log("Error: calculatePLLfrequency() failed");0===p.indexOf("KM1M4")?(s=0==C?e*L*.5:e*(1/C)*L*.5,s/=2):0===p.indexOf("KM1M7AF")||0===p.indexOf("KM1M7BF")?(s=0==C||1==C?e*L:e*(1/C)*L,s/=_+1):0===p.indexOf("KM1M7CF")?(s=0==C?e*L:.5*e*L,s/=_+1):console.warn("calculatePLLfrequency: Unknown g_chipType")}else{if(null==n||null==i||null==o||null==l||null==a||null==r)return void console.log("Error: calculatePLLfrequency() failed");s="M261"===p||0===p.indexOf("M460")||0===p.indexOf("M480")?e*(2*i/l)*(1/r):e*(i/l)*(1/r)}return s}function en(e,t){var n,i,o,l,a,r;if("NUC505"===p&&(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(3,10),o=regValueBinary.slice(-6),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1),null!=n&&null!=i&&null!=o&&null!=l&&null!=a&&null!=r)return e*(i/l)*(1/r);console.log("Error: calculateAPLLfrequency() failed")}function tn(){var e;Jt()||localStorage.getItem("CheckPrivacyBannerDismiss")||(e="Simplified Chinese"===L?"本网站使用cookie作为与网站交互时识别流览器之用，浏览本网站即表示您同意本网站对cookie的使用":"Traditional Chinese"===L?"本網站使用cookie作為與網站互動時識別瀏覽器之用，瀏覽本網站即表示您同意本網站對cookie的使用":"This website uses cookies to ensure you get the best experience on our website.",$("#ID_PRIVACY_BANNER_TEXT").text(e),$("#ID_PRIVACY_BANNER_BUTTON").on("click",(function(){$("#ID_PRIVACY_BANNER_DIV").hide(),localStorage.setItem("CheckPrivacyBannerDismiss",!0)})),$("#ID_PRIVACY_BANNER_DIV").show())}window.onload=function(){jt(),$("#ID_BUTTON_SHOW_REGISTERS").on("click",(function(){Rt()})),$("#ID_BUTTON_LOAD").on("click",(function(){$("#rootTree_Clock").is(":visible")&&gt((function(){$("#loadConfiguration").trigger("click")}))})),$("#loadConfiguration").on("change",Gt),$("#ID_BUTTON_SAVE").on("click",(function(){mt()})),$("#ID_BUTTON_GENERATE_CODE").on("click",(function(){At()})),$("#ID_BUTTON_CONNECT_TO_TARGET").on("click",(function(){gt((function(){Jt()?window.electronAPI.send("connect"):async function(){var e;null!=O&&(await navigator.usb.getDevices().then((t=>{t.forEach((t=>{e=t}))})).catch((t=>{console.log(t),e=void 0})),null==e&&(e=await navigator.usb.requestDevice({filters:[{vendorId:1046}]}).catch((t=>{console.log(t),e=void 0}))),null!=e&&O.postMessage({action:"connect"}))}()}))})),$("#ID_BUTTON_RETURN_DEFAULT").on("click",(function(){Ht()})),$("#ID_BUTTON_SWITCH_CLOCK_TREE").on("click",(function(){Dt()})),$("#ID_BUTTON_DISABLE").on("click",(function(){Bt()})),$("#ID_BUTTON_LANGUAGE").on("click",(function(){qt()})),$("#ID_BUTTON_INSTRUCTION").on("click",(function(){window.open("https://www.nuvoton.com/resource-download.jsp?tp_GUID=UG1320220506173038")})),zt(),$.ajax({url:"./src/PartNumID.cpp",async:!1}).responseText.split(/\r\n|\n/).filter((function(e){return new RegExp(".*[^/]{.*0x.*[PROJ].*}").test(e)})).forEach((function(e){if(-1==e.indexOf("not release")){let t=e.substring(e.indexOf('"')+1,e.lastIndexOf('"')),n=e.substring(e.indexOf("0x"),e.lastIndexOf("PROJ")-2),i=e.substring(e.indexOf("PROJ"),e.lastIndexOf("}"));Re.push(t+"-"+n+"-"+i)}})),tn(),Jt()?(window.electronAPI.onConnected(((e,t)=>{console.log("electronAPI: onConnected"),!0,window.electronAPI.send("getPIDValue")})),window.electronAPI.onReturnPIDValue(((e,t)=>{if(console.log("electronAPI: onReturnPIDValue"),c=Zt(t),console.log("connected device: "+c),-1!=u.toUpperCase().indexOf(c.toUpperCase())){var n=[],o=[];for(o=nt(NUTOOL_CLOCK.g_register_map_description),i=0;i<o.length;i++)n.push(NUTOOL_CLOCK.g_register_map_description[o[i]]);window.electronAPI.send("getMFPValues",n)}else window.electronAPI.send("connectComplete"),Mt(),pt("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.")})),window.electronAPI.onReturnRegisterValue(((e,t,n)=>{console.log("electronAPI: onReturnRegisterValue"),Yt(t,n)})),window.electronAPI.onDisconnect(((e,t)=>{console.log("electronAPI: onDisconnect"),!1})),window.electronAPI.onWarning(((e,t)=>{console.warn(t)}))):window.Worker&&((O=new Worker("./src/worker/webusb.worker-bundle.js")).onmessage=async function(e){let t=e.data.action,n=e.data;if("connected"==t)console.log("worker: connected"),!0,O.postMessage({action:"getPIDValue"});else if("returnPIDValue"==t)if(console.log("worker: returnPIDValue"),c=Zt(n.value),-1!=u.toUpperCase().indexOf(c.toUpperCase())){var o=[],l=[];for(l=nt(NUTOOL_CLOCK.g_register_map_description),i=0;i<l.length;i++)o.push(NUTOOL_CLOCK.g_register_map_description[l[i]]);O.postMessage({action:"getMFPValues",data:o})}else O.postMessage({action:"connectComplete"}),Mt(),pt("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.");else"returnRegisterValue"==t?(console.log("worker: returnRegisterValue"),Yt(n.result,n.type)):"disconnect"==t&&(console.log("worker: disconnect"),!1)}),$("#versionCode").text(e)},st.prototype.drawWithArrowheads=function(e,t){var n,i;e.strokeStyle="black",e.fillStyle="black",e.lineWidth=1,e.beginPath(),e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2),e.stroke(),t&&(n=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),n+=(this.x2>this.x1?-90:90)*Math.PI/180,this.drawArrowhead(e,this.x1,this.y1,n)),i=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),i+=(this.x2>this.x1?90:-90)*Math.PI/180,this.drawArrowhead(e,this.x2,this.y2,i)},st.prototype.drawArrowhead=function(e,t,n,i){e.save(),e.beginPath(),e.translate(t,n),e.rotate(i),e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath(),e.restore(),e.fill()},NUTOOL_CLOCK={getg_chipType:function(){return p},getg_partNumber_package:function(){return u},getg_clockRegsString:function(){return r},getg_clockRegsString1:function(){return s},getg_clockRegsString2:function(){return C},getg_userSelectUIlanguage:function(){return L},isFieldBe1:ht,isEnabled:Kt,initializationByTest:function(){var e,t;for(_t(),x=nt(NUTOOL_CLOCK.g_register_map_default),K=[],NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",e=0,t=x.length;e<t;e+=1)K[x[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[x[e]],16);M=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,"NUC400"===p&&(0===w&&(w=84e6),0===X&&(X=24e7)),"NUC505"===p?(0===w&&(w=24e7),0===H&&(H=24e7)):0===p.indexOf("M460")?(0===w&&(w=72e6),0===D&&(D=72e6)):"M451"===p||0===p.indexOf("M480")?0===w&&(w=72e6):"MINI58"===p?0===w&&(w=5e7):"NANO100AN"===p||"NANO100BN"===p||"NUC121AE"===p||0===p.indexOf("M030")||0===p.indexOf("M031")?0===w&&(w=96e6):"NUC1262"===p?0===w&&(w=144e6):"NANO112"===p||"NANO103"===p?0===w&&(w=16e6):0===p.indexOf("KM1M4")||0===p.indexOf("KM1M7")?0===w&&(w=1e8):0===w&&(w=48e6),Lt()},reportBaseClockFrequencies:function(){var e="",t="HXT".toEquivalent().toString(),n="PLL".toEquivalent().toString(),i="HIRC".toEquivalent().toString(),o="HIRC2".toEquivalent().toString(),l="LIRC".toEquivalent().toString(),a="HCLK".toEquivalent().toString(),r="PCLK".toEquivalent().toString();return P>0&&(e=0===p.indexOf("KM1M7CF")?l+": "+P.toHzString():"LIRC: "+P.toHzString()),U>0&&(e+=" / "+i+": "+U.toHzString()),v>0&&(e+=" / "+o+": "+v.toHzString()),k>0&&(e+=" / HIRC48: "+k.toHzString()),R>0&&(e+=" / MIRC: "+R.toHzString()),I>0&&(e+=" / MIRC1P2M: "+I.toHzString()),A>0&&(e+=" / LXT: "+A.toHzString()),y>0&&(e+=" / "+t+": "+y.toHzString()),m>0&&(e+=" / RTC32k: "+m.toHzString()),w>0&&(e+=" / "+n+": "+w.toHzString()),X>0&&(e+=" / PLL2: "+X.toHzString()),F>0&&(e+=" / PLL480M: "+F.toHzString()),H>0&&(e+=" / APLL: "+H.toHzString()),D>0&&(e+=" / PLLFN: "+D.toHzString()),B>0&&(e+=" / HSUSB_OTG_PHY: "+B.toHzString()),q>0&&(e+=" / "+a+": "+q.toHzString()),z>0&&(e+=" / "+r+": "+z.toHzString()),W>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK0SEL".toEquivalent().toString())&&(e+=" / PCLK0: "+W.toHzString()),V>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK1SEL".toEquivalent().toString())&&(e+=" / PCLK1: "+V.toHzString()),G>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("PCLK2SEL".toEquivalent().toString())&&(e+=" / PCLK2: "+G.toHzString()),0===e.indexOf(" / ")&&(e=e.sliceAfterX(" / ")),e},doubleClickD3Node:St,dragD3Node:function(e,t){var n=window.document.createEvent("Event"),i=window.document.createEvent("Event"),o=window.document.createEvent("Event");n.initEvent("mousedown",!0,!0),i.initEvent("mousemove",!0,!0),o.initEvent("mouseup",!0,!0),d3.select("#"+e.id)[0][0].dispatchEvent(n),d3.select("#"+e.id)[0][0].dispatchEvent(i),d3.select("#"+e.id).select(".ghostCircle").on("mouseover")(d3.select("#"+t.id)[0][0].__data__),d3.select("#"+e.id)[0][0].dispatchEvent(o)},clickModuleCanvas:function(e,t){pe=t,$("#"+e.id+"_canvas").click()},changeDividerDialogInput:function(e,t){$("#dividerConfigureDialog").is(":visible")&&($("#"+e+"_input_dialog").val(t),$("#dividerConfigureDialog").dialog("option","buttons")[0].click())},retrieveNodeTooltip:function(){return fe},retrieveGenerateCodeContent:function(e){var t;return 0===e?bt():1===e?(Te="",Et("functionalTest")):2===e?Et("partial"):3===e?(t=Te,Te=""):4===e?function(){var e,t,n,i,o,l,a,s,C="HCLK".toEquivalent().toString(),_="HCLK_S".toEquivalent().toString(),L="HCLK_N".toEquivalent().toString(),d="HXTWAIT".toEquivalent().toString(),c="XTL12M_EN".toEquivalent().toString();if(Me=!0,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(r+="\n    /* Check more... */\n",o=d,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)$("#"+c+"_select").val(NUTOOL_CLOCK.g_CLKSEL[d][e].slicePriorToX(":")),r+="    CLK_EnableHXO(HXO_WCYCLE_"+$("#"+c+"_select").val()+");\n";r+="    CLK_DisableHXO();\n"}for(o="BASESEL",r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(pe=e,$("#HCLK_canvas").click(),-1!==(s=Nt(l="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SelectBASECLK(SELECT_"+a+");\n"}if(o="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(pe=e,$("#HCLK_canvas1").click(),-1!==(s=Nt(l="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetCPUCLK(CPUCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}if(o="IOCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(pe=e,$("#PCLK_canvas").click(),-1!==(s=Nt(l="IOCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetIOCLK(IOCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}}else for(r+="\n    /* Check more. Set "+C+" clock */\n",o=_,e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)pe=e,$("#HCLK_canvas").click(),r+="    CLK_SetHCLK("+vt(C,_,L)+");\n";Me=!1}():(Pt(),t=r),t},checkD3NodeFrequency:function(e){var t,n,i,o,l,a,r,s,C;if(e=e.id,l=0,"none"!==NUTOOL_CLOCK.g_Module[e][2]&&(l=Nt(NUTOOL_CLOCK.g_Module[e][2])),i="","SYSTICK"!==e){if(i=a=NUTOOL_CLOCK.g_Module[e][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],C=parseInt(s.sliceAfterX(":"),10),s=s.slicePriorToX(":"),o=Nt(i)+(Nt(s)<<C)>>>0):o=Nt(i),-1!==o&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o.toString()){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else if(0===p.indexOf("KM1M7CF"))i=1==(o=Nt("CLKSRC").toString())?"CPUCLK":0==(o=Nt("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(ht("CLKSRC"))i="CPUCLK";else if(o=Nt(a="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a)){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else i=NUTOOL_CLOCK.g_Module[e][0];return(r=e==="CLKO_Divider".toEquivalent().toString()||e==="CLKO1_Divider".toEquivalent().toString()?ze(i)/Math.pow(2,l+1):ze(i)/(l+1)).toHzString()===$("#"+e+"_span_showRealFreq").text()?e+" clock is "+$("#"+e+"_span_showRealFreq").text()+".":"Failed: "+e+" clock ("+$("#"+e+"_span_showRealFreq").text()+") is not equal to the result from registers ("+r.toHzString()+")."},decideNewChipType:Ve,readValueFromClockRegs:Nt,uncheckAllNodes_core:xt,setg_selectedPartNoValue:function(e){g=e},loadClockConfigureTool:jt,getGeneratedClockStatus:function(){var e,t,n,i,o,l,a,C,_,L=nt(NUTOOL_CLOCK.g_Module),d={};for(r=":",e=0,n=L.length;e<n;e+=1){if(o=L[e],r+=o+"/:",a=[],C=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))a.push(l);else{for(;-1!==l.indexOf("/")&&(a.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((C+=1)>10)););a.push(l)}for(_=!0,t=0,i=a.length;t<i;t+=1)if(!Kt(a[t])){_=!1;break}_&&(r+=o+"=Enabled:",d[o]=$("#"+o+"_span_showRealFreq").text().trim())}s=JSON.stringify(d)},concatenate_generated_code_begin:bt,showLeftPanel:Rt,loadConfig_core:It,saveConfig:mt,generateCode:At,concatenate_g_clockRegsString:wt,concatenate_generated_code:Xt,concatenate_generated_modularizedCode:Ft,pageRefresh:Ht,switchD3ClockTree:Dt,zoomIn:function(){null!==ge&&(b+=.3,ge.selectAll("g.node").on("zoomFromToolbar")(b))},bestFit:function(){null!==ge&&(b=1,ge.selectAll("g.node").on("zoomFromToolbar")(1))},zoomOut:function(){null!==ge&&((b-=.3)<=0&&(b=.3),ge.selectAll("g.node").on("zoomFromToolbar")(b))},uncheckAllNodes:Bt,setLanguage:qt,changeUIlanguage:zt,executePDFfail:function(){pt("您的电脑不能执从PDF档。请安装必要的软件来支援它。","您的電腦不能執從PDF檔。請安裝必要的軟件來支援它。","Your PC is incapable of executing the PDF files. Please install a necessary software to support it.")},handleEnter:function(){$("#"+l).change()},redrawForResizingDialog:function(){var e=$("#tabs");Ge(),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),e.css({left:f+8+"px"})):(e.css("width",n-8+"px"),e.css({left:"0px"})),e.css("height",o-8+"px"),$("#tab-4").css("width",n-f-8+"px"),$("#tab-4").css("height",o-8+"px"),e=null},recordConfig:Wt,closeAPP:function(){Ot(Tt)&&gt((function(){$t()}))},g_readConfigFilePath:"",g_readConfigFileContentText:"",g_clockFunctionString:""}}();