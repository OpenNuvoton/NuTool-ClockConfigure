var NUTOOL_CLOCK={};!function(){const e="V1.11.0002";var t,n,o,l,a,r,s,C,L,d,c,O,f=250,p=["KM1M0DF","KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF","M030G","M031","M051","M0518","M0519","M0564","M0A21","M2003","M2351","M2L31","M251","M261","M451","M460","M480","M55M1","MINI51","NANO100","NM1200","NM1500","NUC029","NUC100","NUC200","NUC400","NUC505"],u="",T="",g="",K={getContext:null,removeContext:null,addEvent:null,triggerEvent:null},h=[],S=[],N=[],M=[],x=1,E=1,P=0,b=0,v=0,U=0,k=0,R=0,I=0,A=0,m=0,F=0,H=0,y=0,w=0,X=0,D=0,q=0,B=0,z=0,W=0,V=0,G=0,Y=0,Z=0,J=0,Q=0,ee=0,te=0,ne=0,ie=0,oe=0,le=0,ae=0,re=0,se=0,Ce=0,Le=0,_e=0,de=0,ce=0,Oe=0,fe=0,pe=0,ue=0,Te=0,ge=0,Ke=0,he=0,Se=0,Ne=0,Me=0,xe=[],Ee="",Pe="",be="",ve=-1,Ue=null,ke="NuMicro",Re=" Nuvoton Technology Corp.",Ie=!0,Ae=!1,me=!1,$e=!0,Fe=!1,He=!0,ye=!1,we=!1,Xe=!1,De=!0,qe=!1,Be=[];function ze(e){$("#tabs");var t,n,i,o,l,r,s,C,d,c,O,f,p,T,h,S,N,E,P,j,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe,pe,ue,Te,ge,Ke,he,Se,Ne,Me,be,ke,Re,Ae,me,$e,Fe,He,we={},De=[],qe=[],Be=[],ze=[],Ve=[],Ge=[],je=[],Ye=[],Ze=[],Je=[],Qe=[],et=[],tt=[],nt=[],it=[],lt=[],at=[],rt=[],st=[],ct=[],Tt=[],gt=[],St=[],Nt=[],Mt=[],xt=[],Et=[],Pt=[],bt=[],vt=[],Ut=ft(NUTOOL_CLOCK.g_Module),kt="OSC10K_EN".toEquivalent().toString(),mt="OSC22M_EN".toEquivalent().toString(),Ft="OSC22M2_EN".toEquivalent().toString(),Ht="XTL32K_EN".toEquivalent().toString(),yt="XTL12M_EN".toEquivalent().toString(),wt="HIRC48EN".toEquivalent().toString(),Xt="PWRCON".toEquivalent().toString(),Dt="HCLK_S".toEquivalent().toString(),qt="HCLK2_S".toEquivalent().toString(),Bt="STCLK_S".toEquivalent().toString(),zt="CLKO".toEquivalent().toString(),Wt="CLKO_Divider".toEquivalent().toString(),Vt="CLKO1".toEquivalent().toString(),Gt="CLKO1_Divider".toEquivalent().toString(),Yt="SYST_CSR".toEquivalent().toString(),Zt="_S".toEquivalent().toString(),Jt="HXT".toEquivalent().toString(),Qt="LXT".toEquivalent().toString(),en="PLL".toEquivalent().toString(),tn="APLL".toEquivalent().toString(),nn="HIRC".toEquivalent().toString(),on="HIRC2".toEquivalent().toString(),ln="HIRC48".toEquivalent().toString(),an="LIRC".toEquivalent().toString(),rn="HCLK".toEquivalent().toString(),sn="HCLK0".toEquivalent().toString(),Cn="HCLK1".toEquivalent().toString(),Ln="HCLK2".toEquivalent().toString(),_n="ACLK".toEquivalent().toString(),dn="PCLK".toEquivalent().toString(),cn="PCLK0".toEquivalent().toString(),On="PCLK1".toEquivalent().toString(),fn="PCLK2".toEquivalent().toString(),pn="PCLK3".toEquivalent().toString(),un="PCLK4".toEquivalent().toString(),Tn="PCLK0SEL".toEquivalent().toString(),gn="PCLK1SEL".toEquivalent().toString(),Kn="PCLK2SEL".toEquivalent().toString(),hn=!1;if(ie=function(e,t){"CPUCLK"===(e=e.slicePriorToX("/").toString())?qe.push(t):"LIRC"===e||e===an?Be.push(t):e===ln?Ge.push(t):e===nn?ze.push(t):e===on?Ve.push(t):"MIRC"===e?je.push(t):"MIRC1P2M"===e?Ye.push(t):"RTC32k"===e?Ze.push(t):e===Qt?Je.push(t):e===Jt?Qe.push(t):e===en?et.push(t):"PLL2"===e?tt.push(t):"PLL480M"===e?nt.push(t):e===tn?it.push(t):"PLLFN"===e?lt.push(t):"HSUSB_OTG_PHY"===e?at.push(t):e===rn?rt.push(t):e===sn?st.push(t):e===Cn?ct.push(t):e===Ln?Tt.push(t):e===_n?gt.push(t):e===dn?St.push(t):e===cn?Nt.push(t):e===On?Mt.push(t):e===fn?xt.push(t):e===pn?Et.push(t):e===un?Pt.push(t):!Ie&&window.console&&window.console.log("ERROR! In pushRelationshipChildren, An error happened. Cannot find mother: "+e)},oe=function(e){var t,n,i,o={},l=[],a=[];for(t=0,n=e.length;t<n;t+=1)(o={}).name=e[t],-1!==(i=$.inArray(o.name,bt))?(o.enabled=1,o.freq=vt[i]):(o.enabled=0,o.freq=-1),(l="CPUCLK"===o.name?qe:"LIRC"===o.name||o.name===an?Be:o.name===ln?Ge:o.name===nn?ze:o.name===on?Ve:"MIRC"===o.name?je:"MIRC1P2M"===o.name?Ye:"RTC32k"===o.name?Ze:o.name===Qt?Je:o.name===Jt?Qe:o.name===en?et:"PLL2"===o.name?tt:"PLL480M"===o.name?nt:o.name===tn?it:"PLLFN"===o.name?lt:"HSUSB_OTG_PHY"===o.name?at:o.name===rn?rt:o.name===sn?st:o.name===Cn?ct:o.name===Ln?Tt:o.name===_n?gt:o.name===dn?St:o.name===cn?Nt:o.name===On?Mt:o.name===fn?xt:o.name===pn?Et:o.name===un?Pt:{}).length>0&&(o.children=oe(l)),(Xe&&o.enabled||!Xe)&&a.push(o);return a},le=function(e,t){t?re(e):ae(e,!0)},ae=function(e,t){var n,l=!0;if(!Ie&&window.console&&window.console.log("In check_d3node, currentNodeName:"+e+" / bCreateCanvas:"+t),void 0===t&&(t=!1),d3.selectAll("g.node").each((function(t){t.name===e&&(n=t)})),!function(e){if(void 0!==e.parent)return bn(e.parent)?1:(-1!==L.indexOf("Simplified")?Rt("因前面的时脉源是关闭状态，所以"+e.name+" 不能被开启。"):-1!==L.indexOf("Traditional")?Rt("因前面的時脈源是關閉狀態，所以"+e.name+" 不能被開啟。"):Rt("Since the preceding clock source is disabled, "+e.name+" cannot be enabled."),0)}(n))return l=!1;if(void 0!==NUTOOL_CLOCK.g_Module[e]){if(e===zt?(re(Wt),re("CLKO_1Hz")):e===Wt&&(re(zt),re("CLKO_1Hz")),e===Vt?re(Gt):e===Gt?re(Vt):"CLKO_1Hz"==e&&(re(zt),re(Wt)),t?($("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide()),e===zt||e===Wt||e===Vt||e===Gt?function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,p,u,T,g,h,S,N,x,E,P,b,v,U,k,R,I,A,m,F,H,y,w,X,D,q,B,z=[],W="",V=[],G=0,j=!0,Y=20,Z=20,J=20,Q=0,ee=45,te=30,ne=[],ie=[],oe=0,le=0,ae=[],re="#C62A39",se="#DF630E",Ce="#BC8484";H=function(){for((T=K.getContext(u[0])).font="18px Arial",T.fillStyle="black",g=Y,Q=0,ne=[],l=0,r=V.length;l<r;l+=1)ne.push(V[l]+": "+ot(V[l]).toHzString()),T.measureText(ne[ne.length-1]).width>Q&&(Q=T.measureText(ne[ne.length-1]).width),-1!==$.inArray(V[l].slicePriorToX("/").toString(),xe)?ie[l]="black":ie[l]=Ce;if(Q+=30,V.length>1?"none"===o?(oe=Y+Q+te+ee+T.measureText(t).width+Y,le=2*Z+22*(V.length-1)+2*J):(S=ee+T.measureText("1/2^("+o+": 0 + 1)").width,oe=Y+Q+te+S+ee+T.measureText(t).width+Y,le=2*Z+22*(V.length-1)+2*J):"none"===o?(oe=Y+Q+T.measureText(t).width+Y,le=2*Z+2*J):(oe=Y+Q+T.measureText("1/2^("+o+" + 1)").width+ee+T.measureText(t).width+Y,le=2*Z+2*J),u[0].setAttribute("width",oe),u[0].setAttribute("height",le),T.font="18px Arial",T.fillStyle="black",g=Y,ae=[],(b={}).name="",V.length>1){for(l=0,r=V.length;l<r;l+=1)h=Z+22*l+J,T.fillStyle=ie[l],T.fillText(ne[l],g,h),new ht(g,h+2,g+Q,h+2).drawWithArrowheads(T),ae.push({name:ne[l],x:g,y:h,textLength:T.measureText(ne[l]).width,color:ie[l],lastColor:ie[l]});T.beginPath(),T.moveTo(Y+Q,Z),T.lineTo(Y+Q,Z+22*(V.length-1)+2*J),T.lineTo(Y+Q+te,Z+22*(V.length-1)+J),T.lineTo(Y+Q+te,Z+J),T.lineTo(Y+Q,Z),T.stroke(),S=0,"none"!==o&&(new ht(Y+Q+te,Z+22*(V.length-1)/2+J,Y+Q+te+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(T),S+=ee,g=Y+Q+te+ee,h=Z+22*(V.length-1)/2+J+9-2,T.fillText("1/2^("+o+": 0 + 1)",g,h),S+=T.measureText("1/2^("+o+": 0 + 1)").width,b={name:"1/2^("+o+": 0 + 1)",x:g,y:h,textLength:T.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new ht(Y+Q+te+S,Z+22*(V.length-1)/2+J,Y+Q+te+S+ee,Z+22*(V.length-1)/2+J).drawWithArrowheads(T),T.fillText(t,Y+Q+te+S+ee,Z+22*(V.length-1)/2+J+9-2)}else h=Z+J,T.fillText(ne[0],g,h),new ht(g,h+2,g+Q,h+2).drawWithArrowheads(T),ae.push({name:ne[0],x:g,y:h,textLength:T.measureText(ne[0]).width,color:ie[0],lastColor:ie[0]}),S=0,"none"!==o?(g=Y+Q,T.fillText("1/2^("+o+": 0 + 1)",g,h+9-2),S+=T.measureText("1/2^("+o+": 0 + 1)").width,b={name:"1/2^("+o+": 0 + 1)",x:g,y:h+9-2,textLength:T.measureText("1/2^("+o+": 0 + 1)").width,color:"black",lastColor:"black"},new ht(Y+Q+S,h,Y+Q+S+ee,h).drawWithArrowheads(T),T.fillText(t,Y+Q+S+ee,h+9-2)):T.fillText(t,Y+Q,h+9-2);_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*oe/3+2)+"px;height:"+(20+le+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; top:"+(70+le+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE"),y()},w=function(e,t){return N=e.getBoundingClientRect(),x=t.clientX-N.left,E=t.clientY-N.top,this},X=function(){for(P=!1,l=0,r=ae.length;l<r;l+=1)x>=ae[l].x&&x<=ae[l].x+ae[l].textLength&&E>=ae[l].y-18-3&&E<=ae[l].y?ae[l].color!==se&&(ae[l].lastColor=ae[l].color,ae[l].color=se,P=!0):ae[l].color!==ae[l].lastColor&&(ae[l].color=ae[l].lastColor,P=!0);if(P)for(l=0,r=ae.length;l<r;l+=1)T.fillStyle="#FFFFFF",T.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),T.fillStyle=ae[l].color,T.fillText(ae[l].name,ae[l].x,ae[l].y);P=!1,b.name&&(x>=b.x&&x<=b.x+b.textLength&&E>=b.y-18&&E<=b.y?b.color!==se&&(b.lastColor=b.color,b.color=se,P=!0):b.color!==b.lastColor&&(b.color=b.lastColor,P=!0)),P&&(T.fillStyle="#FFFFFF",T.fillRect(b.x,b.y-18,b.textLength,25),T.fillStyle=b.color,T.fillText(b.name,b.x,b.y))},q=function(){var e,n;for(R=0,e=0,n=ae.length;e<n;e+=1){if(ae[e].color===re){c=ae[e].name,R=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(b.name){if(b.color!==re)return this;R/=Math.pow(2,a+1)}return $("#"+t+"_span_showRealFreq").text(R.toHzString()),!Ie&&window.console&&window.console.log("In createCLKOCanvas, "+t+"'s clock:"+R.toHzString()),this},B=function(e){for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),l=0,r=M.length;l<r;l+=1)for(d=M[l],s=0,C=NUTOOL_CLOCK.g_register_map[d].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][s]).indexOf(e)&&c.indexOf(":")===e.length){G=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),G=Math.pow(2,G)-1;break}-1!==L.indexOf("Simplified")?(v="请设置值给除频器"+e+"。合理的范围从0到"+G+"。",U="设置值给除频器",k="确认"):-1!==L.indexOf("Traditional")?(v="請設置值給除頻器"+e+"。合理的範圍從0到"+G+"。",U="設置值給除頻器",k="確認"):(v="Please configure a value to "+e+". The feasible range is from 0 to "+G+".",U="Configure a value to the divider",k="Confirm"),$('<div id="dividerConfigureDialog"><p>'+v+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:U,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:k,click:function(){a=parseInt($("#"+e+"_input_dialog").val(),10),b.name="1/2^("+e+": "+a+" + 1)",T.fillStyle="#FFFFFF",b.textLength=T.measureText(b.name).width,T.fillRect(b.x,b.y-18,b.textLength,25),T.fillStyle=b.lastColor=b.color=re,b.x=b.x+(b.textLength-T.measureText(b.name).width)/2,T.fillText(b.name,b.x,b.y),m=$t(NUTOOL_CLOCK.g_Module[t][2]),Ot(e,a),q(),Ue.selectAll("g.node").on("updateFromDividerDialog")(t,!0,m),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),"none"!==NUTOOL_CLOCK.g_Module[t][2]&&$("#"+e+"_input_dialog").val($t(NUTOOL_CLOCK.g_Module[t][2])).width(35),$("#"+e+"_input_dialog").width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>G||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val($t(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again."))}))},y=function(){if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=$t(NUTOOL_CLOCK.g_Module[t][2]),b.name="1/2^("+o+": "+a+" + 1)",T.fillStyle="#FFFFFF",b.textLength=T.measureText(b.name).width,T.fillRect(b.x,b.y-18,b.textLength,25),T.fillStyle=b.lastColor=b.color=re,b.x=b.x+(b.textLength-T.measureText(b.name).width)/2,T.fillText(b.name,b.x,b.y)),I="",c=NUTOOL_CLOCK.g_Module[t][0],-1!==(A=$t(c).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===A){I=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}if(A=ae.length,""!==I)for(l=0,r=ae.length;l<r;l+=1)if(-1!==(c=ae[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(I)&&c.indexOf(":")===I.length&&ae[l].color!==Ce){A=l;break}D(A),j=!1},D=function(e){if(-1!==ve&&100!==ve&&(e=ve),void 0===e&&(e=-1),-1===e)for(l=0,r=ae.length;l<r;l+=1)x>=ae[l].x&&x<=ae[l].x+ae[l].textLength&&E>=ae[l].y-18-3&&E<=ae[l].y&&(e=l);if(e===ae.length)for(l=0,r=ae.length;l<r;l+=1)if(ae[l].color!==Ce){e=l;break}if(m=F=-1,-1!==e&&-1===ae[e].name.indexOf("Disabled"))for(l=0,r=ae.length;l<r;l+=1){if(l===e){if(ae[l].lastColor=ae[l].color=re,-1!==(f=ae[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==f.indexOf(":")&&(f=(p=f).slicePriorToX(":")+"+"+p.sliceAfterX("+")),i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(f)&&c.indexOf(":")===f.length){m=$t(i),F=parseInt(c.sliceAfterX(":"),10),Ot(i,F);break}q(),j||Ue.selectAll("g.node").on("updateFromCanvas")(t,f.slicePriorToX("/").toString(),!0,m,F)}else ae[l].color!==Ce&&(ae[l].lastColor=ae[l].color="black");T.fillStyle="#FFFFFF",T.fillRect(ae[l].x,ae[l].y-18,ae[l].textLength+10,18),T.fillStyle=ae[l].color,T.fillText(ae[l].name,ae[l].x,ae[l].y)}b.name&&(x>=b.x&&x<=b.x+b.textLength&&E>=b.y-18&&E<=b.y||100===ve)&&B(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),V=[],W=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(W))for(z=NUTOOL_CLOCK.g_CLKSEL[W],l=0,r=z.length;l<r;l+=1)i=-1===(i=z[l]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),V.push(z[l].slicePriorToX(":"));$("#"+e)[0].appendChild(ut("canvas",t+"_canvas")),u=$("#"+t+"_canvas"),u[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),K.addEvent(u[0],"mousemove",(function(e){w(u[0],e),X()})),K.addEvent(u[0],"click",(function(){D()})),H()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]):function(e,t,n,i,o){var l,r,s,C,_,d,c,O,f,p,T,g,h,S,N,x,E,P,b,v,U,k,R,I,A,m,F,H,y,w,X,D,q,B,z,W,V,G,j,Y,Z=[],J="",Q=[],ee=0,te=!0,ne=20,ie=20,oe=20,le=0,ae=45,re=30,se=[],Ce=[],Le=0,_e=0,de=[],ce="#C62A39",Oe="#DF630E",fe="#BC8484",pe="STCLK_S".toEquivalent().toString(),ue="SYST_CSR".toEquivalent().toString(),Te="HXT".toEquivalent().toString(),ge="LXT".toEquivalent().toString(),Ke="PLL".toEquivalent().toString(),he="APLL".toEquivalent().toString(),Se="HIRC".toEquivalent().toString(),Ne="HIRC2".toEquivalent().toString(),Me="LIRC".toEquivalent().toString(),Ee="HCLK".toEquivalent().toString(),Pe="HCLK0".toEquivalent().toString(),be="HCLK1".toEquivalent().toString(),ke="HCLK2".toEquivalent().toString(),Re="ACLK".toEquivalent().toString(),Ae="PCLK".toEquivalent().toString(),me="PCLK0".toEquivalent().toString(),$e="PCLK1".toEquivalent().toString(),Fe="PCLK2".toEquivalent().toString(),He="PCLK3".toEquivalent().toString(),ye="PCLK4".toEquivalent().toString();B=function(){const n=function(e,t,n){E=ie+22*e+oe,N.fillStyle=Ce[e],N.fillText(se[e],x,E),new ht(t,E+2,n,E+2).drawWithArrowheads(N),de.push({name:se[e],x:t,y:E,textLength:N.measureText(se[e]).width,color:Ce[e],lastColor:Ce[e]})},i=function(e,t){N.beginPath(),N.moveTo(e,ie),N.lineTo(e,ie+t+2*oe),N.lineTo(e+re,ie+t+oe),N.lineTo(e+re,ie+oe),N.lineTo(e,ie),N.stroke()},a=function(e,t,n,i,o){i&&(new ht(e,t,e+ae,t).drawWithArrowheads(N),P+=ae),N.fillText("1/("+n+": 0 + 1)",e+P,t+9-2),R={name:"1/("+n+": 0 + 1)",x:e+P,y:t+9-2,textLength:N.measureText("1/("+n+": 0 + 1)").width,color:"black",lastColor:"black"},P+=R.textLength,o&&(new ht(e+P,t,e+P+ae,t).drawWithArrowheads(N),P+=ae)},s=function(e,n){new ht(e,n,e+ae,n).drawWithArrowheads(N),N.fillText(t,e+ae,n+9-2)};for((N=K.getContext(S[0])).font="18px Arial",N.fillStyle="black",x=ne,le=0,se=[],Ce=[],l=0,r=Q.length;l<r;l+=1)se.push(Q[l]+": "+ot(Q[l]).toHzString()),N.measureText(se[se.length-1]).width>le&&(le=N.measureText(se[se.length-1]).width),-1!==$.inArray(Q[l].slicePriorToX("/").toString(),xe)||"CPUCLK"===Q[l]?Ce[l]="black":Ce[l]=fe;if(le+=30,Q.length>1?"none"===o?(Le=ne+le+re+ae+N.measureText(t).width+ne,_e=2*ie+22*(Q.length-1)+2*oe):(P=ae+N.measureText("1/("+o+": 0 + 1)").width,Le=ne+le+re+P+ae+N.measureText(t).width+ne,0===u.indexOf("M55M1")&&"SYSTICK"===t&&(Le+=ae+re),_e=2*ie+22*(Q.length-1)+2*oe):"none"===o?(Le=ne+le+N.measureText(t).width+ne,_e=2*ie+2*oe):(Le=ne+le+N.measureText("1/("+o+": 0 + 1)").width+ae+N.measureText(t).width+ne,_e=2*ie+2*oe),S[0].setAttribute("width",Le),S[0].setAttribute("height",_e),N.font="18px Arial",N.fillStyle="black",x=ne,de=[],(R={}).name="",0===u.indexOf("M55M1")&&"SYSTICK"===t){for(l=0,r=Q.length-1;l<r;l+=1)n(l,ne,ne+le);i(ne+le,22*(Q.length-2)),P=0,a(ne+le+re,ie+22*(Q.length-2)/2+oe,o,!0,!0),n(Q.length-1,ne,ne+le+re+P),i(ne+le+re+P,22*(Q.length-1)),s(ne+le+2*re+P,ie+22*(Q.length-1)/2+oe)}else if(Q.length>1){for(l=0,r=Q.length;l<r;l+=1)n(l,ne,ne+le);i(ne+le,22*(Q.length-1)),P=0,"none"!==o&&a(ne+le+re,ie+22*(Q.length-1)/2+oe,o,!0,!1),s(ne+le+re+P,ie+22*(Q.length-1)/2+oe)}else E=ie+oe,n(0,ne,ne+le),P=0,"none"!==o?(a(ne+le,ie+oe,o,!1,!1),s(ne+le+P,ie+oe)):N.fillText(t,ne+le,E+9-2);_t(t)&&(_="<div id='"+t+"_div_protection'></div>",$("#"+e).append(_),_="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of 11 </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(_),-1!==L.indexOf("Simplified")?($(".realOutput_before_span").text("模块"),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".realOutput_before_span").text("模組"),$(".realOutput_after_span").text("的時脈頻率: ")):($(".realOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),$("#"+t+"_div_protection")[0].setAttribute("style","background-color:#FFFFFF; position:absolute; left:0px; top:50px; width:"+(30+4*Le/3+2)+"px;height:"+(20+_e+60)+"px;"),$("#"+t+"_div_showRealFreq")[0].setAttribute("style","background-color: #FFFFFF; position:absolute; left:30px; top:"+(70+_e+10+10)+"px;"),$("#"+t+"_span_showRealFreq").css("color","#2E2EFE")),z()},W=function(e,t){return b=e.getBoundingClientRect(),v=t.clientX-b.left,U=t.clientY-b.top,this},V=function(){for(k=!1,l=0,r=de.length;l<r;l+=1)v>=de[l].x&&v<=de[l].x+de[l].textLength&&U>=de[l].y-18-3&&U<=de[l].y?de[l].color!==Oe&&(de[l].lastColor=de[l].color,de[l].color=Oe,k=!0):de[l].color!==de[l].lastColor&&(de[l].color=de[l].lastColor,k=!0);if(k)for(l=0,r=de.length;l<r;l+=1)N.fillStyle="#FFFFFF",N.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),N.fillStyle=de[l].color,N.fillText(de[l].name,de[l].x,de[l].y);k=!1,R.name&&(v>=R.x&&v<=R.x+R.textLength&&U>=R.y-18&&U<=R.y?R.color!==Oe&&(R.lastColor=R.color,R.color=Oe,k=!0):R.color!==R.lastColor&&(R.color=R.lastColor,k=!0)),k&&(N.fillStyle="#FFFFFF",N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.color,N.fillText(R.name,R.x,R.y))},j=function(){var e,n;for(F=0,e=0,n=de.length;e<n;e+=1){if(de[e].color===ce){c=de[e].name,F=-1!==c.indexOf("MHz")?1e6*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):-1!==c.indexOf("kHz")?1e3*parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-3):parseFloat(c.sliceAfterX(":").sliceAfterX(":"),c.length-2);break}if(e===n-1)return this}if(R.name&&(0!==u.indexOf("M55M1")||-1===c.indexOf("CPUCLK"))){if(R.color!==ce)return this;F/=$t(NUTOOL_CLOCK.g_Module[t][2])+1}return $("#"+t+"_span_showRealFreq").text(F.toHzString()),!Ie&&window.console&&window.console.log("In createModuleCanvas, "+t+"'s clock:"+F.toHzString()),this},Y=function(e){var n,i,o,l,r=!1;for($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),n=0,i=M.length;n<i;n+=1)for(d=M[n],o=0,l=NUTOOL_CLOCK.g_register_map[d].length;o<l;o+=1)if(-1!==(c=NUTOOL_CLOCK.g_register_map[d][o]).indexOf(e)&&c.indexOf(":")===e.length){ee=-1!==c.indexOf("-")?parseInt(c.sliceBetweenXandX(":","-"),10)-parseInt(c.sliceAfterX("-"),10)+1:parseInt(c.sliceAfterX(":"),10),ee=Math.pow(2,ee)-1;break}-1!==L.indexOf("Simplified")?(I="请设置值给除频器"+e+"。合理的范围从0到"+ee+"。",A="设置值给除频器",m="确认"):-1!==L.indexOf("Traditional")?(I="請設置值給除頻器"+e+"。合理的範圍從0到"+ee+"。",A="設置值給除頻器",m="確認"):(I="Please configure a value to "+e+". The feasible range is from 0 to "+ee+".",A="Configure a value to the divider",m="Confirm"),$('<div id="dividerConfigureDialog"><p>'+I+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:A,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:m,click:function(){for(a=parseInt($("#"+e+"_input_dialog").val(),10),r=!1,n=0,i=de.length;n<i;n+=1)if(-1!==de[n].name.indexOf(e)){r=!0;break}if(r){for(n=0,i=de.length;n<i;n+=1)if(-1!==(c=de[n].name).indexOf(e)){de[n].name=c.slicePriorToX(":")+":"+a+"+1):"+(ot(c.slicePriorToX("/"))/(a+1)).toHzString(),N.fillStyle="#FFFFFF",de[n].textLength=N.measureText(c).width,N.fillRect(de[n].x,de[n].y-18,de[n].textLength,20),N.fillStyle=de[n].lastColor=de[n].color=ce,N.fillText(de[n].name,de[n].x,de[n].y);break}w=-1}else R.name="1/("+e+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=ce,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y),w=$t(NUTOOL_CLOCK.g_Module[t][2]);Ot(e,a),j(),Ue.selectAll("g.node").on("updateFromDividerDialog")(t,!0,w),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val($t(e)).width(35),$("#"+e+"_input_dialog").width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>ee||parseInt(this.value,10)<0)&&("none"!==NUTOOL_CLOCK.g_Module[t][2]?$("#"+e+"_input_dialog").val($t(NUTOOL_CLOCK.g_Module[t][2])).width(35):$("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again."))}))},z=function(){if(0===u.indexOf("KM1M7CF")&&"SYSTICK"===t){"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=$t(NUTOOL_CLOCK.g_Module[t][2]),R.name="1/("+o+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=ce,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y));var e=$t("CLKSRC").toString(),n=$t("STCKSEL").toString();G(y=1==e&&0==n?0:0==e&&0==n?1:2),te=!1}else{if("none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=$t(NUTOOL_CLOCK.g_Module[t][2]),R.name="1/("+o+": "+a+" + 1)",N.fillStyle="#FFFFFF",R.textLength=N.measureText(R.name).width,N.fillRect(R.x,R.y-18,R.textLength,25),N.fillStyle=R.lastColor=R.color=ce,R.x=R.x+(R.textLength-N.measureText(R.name).width)/2,N.fillText(R.name,R.x,R.y)),H="","SYSTICK"!==t){if(c=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(c)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[c][0],p=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),y=$t(c)+($t(f)<<p)>>>0):y=$t(c),-1!==y&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===y.toString()){H=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}}else if(It("CLKSRC"))H="CPUCLK";else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(pe)){if(y=$t(c=pe).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(c))for(l=0,r=NUTOOL_CLOCK.g_CLKSEL[c].length;l<r;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[c][l].sliceAfterX(":")===y){H=NUTOOL_CLOCK.g_CLKSEL[c][l].slicePriorToX(":");break}}else H=NUTOOL_CLOCK.g_Module[t][0];if(y=de.length,""!==H)for(l=0,r=de.length;l<r;l+=1)if(-1!==(c=de[l].name).indexOf("DIV")&&-1!==c.indexOf(":")&&(c=(O=c).slicePriorToX(":")+"+"+O.sliceAfterX("+")),-1!==c.indexOf(H)&&c.indexOf(":")===H.length&&de[l].color!==fe){y=l;break}G(y),te=!1}},G=function(e){var n=!1;if(-1!==ve&&100!==ve&&(e=ve),void 0===e&&(e=-1),-1===e)for(l=0,r=de.length;l<r;l+=1)v>=de[l].x&&v<=de[l].x+de[l].textLength&&U>=de[l].y-18-3&&U<=de[l].y&&(e=l,-1!==de[l].name.indexOf("DIV:")&&(n=!0));if(e===de.length)for(l=0,r=de.length;l<r;l+=1)if(de[l].color!==fe){e=l;break}if(w=X=-1,-1!==e&&-1===de[e].name.indexOf("Disabled"))for(l=0,r=de.length;l<r;l+=1){if(l===e){if(de[l].lastColor=de[l].color=ce,-1!==(g=de[l].name.slicePriorToLastX(":")).indexOf("DIV")&&-1!==g.indexOf(":")&&(g=(h=g).slicePriorToX(":")+"+"+h.sliceAfterX("+")),"SYSTICK"!==t){if(i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(g)&&c.indexOf(":")===g.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],p=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),w=$t(i)+($t(f)<<p)>>>0,X=parseInt(c.sliceAfterX(":"),10),T=Math.pow(2,p)-1,q=X-(D=X&T)>>p>>>0,Ot(i,D),Ot(f,q)):(w=$t(i),X=parseInt(c.sliceAfterX(":"),10),Ot(i,X));break}}else if(0===u.indexOf("KM1M7CF")){for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.CLKSRC.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.CLKSRC[s]).indexOf(g)&&c.indexOf(":")===g.length){Ot("CLKSRC",parseInt(c.sliceAfterX(":"),10),"",!1);break}for(s=0,C=NUTOOL_CLOCK.g_CLKSEL.STCKSEL.length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL.STCKSEL[s]).indexOf(g)&&c.indexOf(":")===g.length){Ot("STCKSEL",parseInt(c.sliceAfterX(":"),10),"",!1);break}}else if(-1!==g.indexOf("CPUCLK"))Ot("CLKSRC",1,ue);else{const e=1===$t("CLKSRC");if(Ot("CLKSRC",0,ue),i=pe,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i))for(s=0,C=NUTOOL_CLOCK.g_CLKSEL[i].length;s<C;s+=1)if(-1!==(c=NUTOOL_CLOCK.g_CLKSEL[i][s]).indexOf(g)&&c.indexOf(":")===g.length){w=e?-1:$t(i),X=parseInt(c.sliceAfterX(":"),10),Ot(i,parseInt(c.sliceAfterX(":"),10),"",!1);break}}j(),te||Ue.selectAll("g.node").on("updateFromCanvas")(t,g.slicePriorToX("/").toString(),!0,w,X),n&&(H=de[l].name,y=(y=H.sliceAfterX("(")).slicePriorToX(":"),Y(y))}else de[l].color!==fe&&(de[l].lastColor=de[l].color="black");N.fillStyle="#FFFFFF",N.fillRect(de[l].x,de[l].y-18,de[l].textLength+10,18),N.fillStyle=de[l].color,N.fillText(de[l].name,de[l].x,de[l].y)}R.name&&(v>=R.x&&v<=R.x+R.textLength&&U>=R.y-18&&U<=R.y||100===ve)&&Y(o)},_="<div id='"+t+"_div'></div>",$("#"+e).append(_),Q=[],J=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i;if(-1!==J.indexOf("DIV+"))y=(y=(H=J).sliceAfterX("(")).slicePriorToX("+"),J=H.slicePriorToX("+")+":"+$t(y)+"+1)",Q.push(J);else if(0===J.indexOf(Ee)||0===J.indexOf("RTC32k")||0===J.indexOf(Pe)||0===J.indexOf(be)||0===J.indexOf(ke)||0===J.indexOf(Re)||0===J.indexOf("LIRC")||0===J.indexOf(Me)||0===J.indexOf(Se)||0===J.indexOf(Ne)||0===J.indexOf("MIRC")||0===J.indexOf(ge)||0===J.indexOf(Te)||0===J.indexOf(Ke)||0===J.indexOf("PLL2")||0===J.indexOf("PLL480M")||0===J.indexOf(he)||0===J.indexOf("PLLFN")||0===J.indexOf("HSUSB_OTG_PHY")||0===J.indexOf(Ae)||0===J.indexOf(me)||0===J.indexOf($e)||0===J.indexOf(Fe)||0===J.indexOf(He)||0===J.indexOf(ye))Q.push(J);else if(J==="HCLK_S".toEquivalent())Q.push(Ee);else if(J==="PCLK_S".toEquivalent())Q.push(Ae);else if(0===J.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL[pe],l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(0===J.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(Z=NUTOOL_CLOCK.g_CLKSEL.STCKSEL,l=0,r=Z.length;l<r;l+=1)Q.push(Z[l].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(J))for(Z=NUTOOL_CLOCK.g_CLKSEL[J],l=0,r=Z.length;l<r;l+=1)-1!==(H=Z[l]).indexOf("DIV+")?(y=(y=H.sliceAfterX("(")).slicePriorToX("+"),J=H.slicePriorToX("+")+":"+$t(y)+"+1)",Q.push(J)):Q.push(H.slicePriorToX(":"));"SYSTICK"===t&&0!==u.indexOf("KM1M7CF")&&Q.push("CPUCLK");$("#"+e)[0].appendChild(ut("canvas",t+"_canvas")),S=$("#"+t+"_canvas"),S[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:70px; border: 1px solid black;"),K.addEvent(S[0],"mousemove",(function(e){W(S[0],e),V()})),K.addEvent(S[0],"click",(function(){G()})),B()}("tab-4",e,0,"",NUTOOL_CLOCK.g_Module[e][2]),Ee=e):We("tab-4",e,"",""),P=NUTOOL_CLOCK.g_Module[e][1],j=[],ne=0,-1===P.indexOf("/"))j.push(P);else{for(;-1!==P.indexOf("/")&&(j.push(P.slicePriorToX("/")),P=P.sliceAfterX("/"),!((ne+=1)>10)););j.push(P)}for(i=0,o=j.length;i<o;i+=1)Ot(j[i],1,"",ye);if(bt.push(e),vt.push($("#"+e+"_span_showRealFreq").text()),d3.selectAll("g.node").each((function(t){t.name===e&&(t.enabled=1,t.freq=$("#"+e+"_span_showRealFreq").text())})),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1===$.inArray("WDT",bt)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&(ae("WDT")||re("WWDT")):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1===$.inArray("WWDT",bt)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&(ae("WWDT")||re("WDT")),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1===$.inArray("EWDT",bt)&&(ae("EWDT")||re("EWWDT")):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1===$.inArray("EWWDT",bt)&&(ae("EWWDT")||re("EWDT")):"CLKO_1Hz"===e?void 0===NUTOOL_CLOCK.g_Module.RTC&&void 0===NUTOOL_CLOCK.g_Module.RTC0||-1!==$.inArray("RTC".toEquivalent().toString(),bt)||ae("RTC".toEquivalent().toString())||re("CLKO_1Hz"):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1===$.inArray("HSUSBH",bt)&&(ae("HSUSBH")||re("USBH")):"HSUSBH"===e?void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1===$.inArray("USBH",bt)&&(ae("USBH")||re("HSUSBH")):"DMIC0"===e?void 0!==NUTOOL_CLOCK.g_Module.VAD0SEL&&-1===$.inArray("VAD0SEL",bt)&&(ae("VAD0SEL")||re("DMIC0")):"VAD0SEL"===e&&void 0!==NUTOOL_CLOCK.g_Module.DMIC0&&-1===$.inArray("DMIC0",bt)&&(ae("DMIC0")||re("VAD0SEL")),u.includes("KM1M0DF")){let t=[];for(var r in NUTOOL_CLOCK.g_Module)r!=e&&NUTOOL_CLOCK.g_Module[r][1]===P&&t.push(r);for(var r of t)-1===$.inArray(r,bt)&&(ae(r)||re(e))}}return l},re=function(e,t){var n;if(t=void 0!==t?t:[],!Ie&&window.console&&window.console.log("In uncheck_d3node, currentNodeName:"+e),void 0!==NUTOOL_CLOCK.g_Module[e]){if($("#"+e+"_div").remove(),$("#"+e+"_canvas").remove(),$("#"+e+"_div_protection").remove(),$("#"+e+"_div_showRealFreq").remove(),P=NUTOOL_CLOCK.g_Module[e][1],j=[],ne=0,-1===P.indexOf("/"))j.push(P);else{for(;-1!==P.indexOf("/")&&(j.push(P.slicePriorToX("/")),P=P.sliceAfterX("/"),!((ne+=1)>10)););j.push(P)}for(i=0,o=j.length;i<o;i+=1)Ot(j[i],0,"",ye);if(-1!==(n=bt.indexOf(e))&&(bt.splice(n,1),vt.splice(n,1)),d3.selectAll("g.node").each((function(t){t.name===e&&(t.enabled=0,t.freq=-1)})),"WWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.WDT&&-1!==$.inArray("WDT",bt)&&-1===$.inArray("WDT",t)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&re("WDT"):"WDT"===e&&void 0!==NUTOOL_CLOCK.g_Module.WWDT&&-1!==$.inArray("WWDT",bt)&&-1===$.inArray("WWDT",t)&&NUTOOL_CLOCK.g_Module.WDT[1]===NUTOOL_CLOCK.g_Module.WWDT[1]&&re("WWDT"),"EWWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWDT&&-1!==$.inArray("EWDT",bt)&&-1===$.inArray("EWDT",t)&&re("EWDT"):"EWDT"===e?void 0!==NUTOOL_CLOCK.g_Module.EWWDT&&-1!==$.inArray("EWWDT",bt)&&-1===$.inArray("EWWDT",t)&&re("EWWDT"):e==="RTC".toEquivalent().toString()?void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==$.inArray("CLKO_1Hz",bt)&&-1===$.inArray("CLKO_1Hz",t)&&re("CLKO_1Hz"):"USBH"===e?void 0!==NUTOOL_CLOCK.g_Module.HSUSBH&&-1!==$.inArray("HSUSBH",bt)&&-1===$.inArray("HSUSBH",t)&&re("HSUSBH"):"HSUSBH"===e?void 0!==NUTOOL_CLOCK.g_Module.USBH&&-1!==$.inArray("USBH",bt)&&-1===$.inArray("USBH",t)&&re("USBH"):"DMIC0"===e?void 0!==NUTOOL_CLOCK.g_Module.VAD0SEL&&-1!==$.inArray("VAD0SEL",bt)&&-1===$.inArray("VAD0SEL",t)&&re("VAD0SEL"):"VAD0SEL"===e&&void 0!==NUTOOL_CLOCK.g_Module.DMIC0&&-1!==$.inArray("DMIC0",bt)&&-1===$.inArray("DMIC0",t)&&re("DMIC0"),u.includes("KM1M0DF")){let n=[];for(var l in NUTOOL_CLOCK.g_Module)l!=e&&NUTOOL_CLOCK.g_Module[l][1]===P&&n.push(l);for(var l of n)-1!==$.inArray(l,bt)&&-1===$.inArray(l,t)&&re(l)}}},Ce=function(e,t){var n,i,o,l,a,r,s,C,L,_,d;function c(e){e.name===t&&(_=e)}function O(e){e.name===l&&(d=e)}if(a=function(e,t){var n,i=null,o=null;return""===t||(d3.selectAll("g.node").each((function(e){e.name===t&&(o=e)})),d3.selectAll("g.node").each((function(t){t.name===e&&(i=t)})),null!==i&&null!==o&&(Ue.selectAll("path.link").filter((function(e){return e.target.id==i.id})).remove(),(n=i.parent.children.indexOf(i))>-1&&i.parent.children.splice(n,1),void 0!==o.children||void 0!==o._children?void 0!==o.children?o.children.push(i):o._children.push(i):(o.children=[],o.children.push(i)),!0))},void 0===t&&(t=""),r="",s="",void 0!==NUTOOL_CLOCK.g_Module[e]&&(r=NUTOOL_CLOCK.g_Module[e][0],s=NUTOOL_CLOCK.g_Module[e][2]),-1!==r.indexOf(Zt)||"none"!==s)for(n=0,i=Ut.length;n<i;n+=1)if((l=Ut[n])!==e&&void 0!==NUTOOL_CLOCK.g_Module[l]&&(C=NUTOOL_CLOCK.g_Module[l][0],L=NUTOOL_CLOCK.g_Module[l][2],-1!==r.indexOf(Zt)&&C.slicePriorToX("/").toString()===r.slicePriorToX("/").toString()||"none"!==L&&L===s)){if("SYSTICK"===l&&1===$t("CLKSRC"))continue;d3.selectAll("g.node").each(c),d3.selectAll("g.node").each(O),""!==t?a(l,t)&&_.enabled&&d.enabled?-1!==(o=$.inArray(l,bt))&&(bt.splice(o,1),vt.splice(o,1),We("tab-4",l,"",""),bt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),vt.push(d.freq)):!_.enabled&&d.enabled&&re(d.name):d.enabled&&-1!==(o=$.inArray(l,bt))&&(bt.splice(o,1),vt.splice(o,1),We("tab-4",l,"",""),bt.push(l),d.freq=$("#"+l+"_span_showRealFreq").text(),vt.push(d.freq))}},It(kt)&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?bt.push(an):bt.push("LIRC"),vt.push(b.toHzString())),(It(mt)||It("HIRC1EN"))&&(bt.push(nn),vt.push(v.toHzString())),(It(Ft)||It("HIRC2EN"))&&(bt.push(on),vt.push(U.toHzString())),It(wt)&&(bt.push(ln),vt.push(k.toHzString())),It("MIRCEN")&&(bt.push("MIRC"),vt.push(R.toHzString())),It("MIRC1P2MEN")&&(bt.push("MIRC1P2M"),vt.push(I.toHzString())),0!==A&&(bt.push("RTC32k"),vt.push(A.toHzString())),(It(Ht)||It("LIRC32KEN"))&&(bt.push(Qt),vt.push(m.toHzString())),It(yt)&&(bt.push(Jt),vt.push(F.toHzString())),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]){if(0===u.indexOf("KM1M7CF"))switch($t("PLL_SRC")){case 0:default:ze.push(en);break;case 1:Qe.push(en)}else if(0===u.indexOf("KM1M0DF"))switch($t("PLLISEL")){case 0:default:ze.push(en);break;case 1:Qe.push(en)}else if(0===u.indexOf("M55M1"))switch($t("APLL0SRC")){case 0:Qe.push(en);break;case 1:ze.push(en);break;default:Ge.push(en)}else switch($t("PLL_SRC")){case 1:ze.push(en);break;case 2:case 3:je.push(en);break;case 0:Qe.push(en);break;default:It(kt)?ze.push(en):It("MIRCEN")?je.push(en):Qe.push(en)}It("PD")&&!It("PLLEN")&&It("NPLLEN")&&!It("APLL0EN")||-1===$.inArray(en,xe)||(bt.push(en),vt.push(H.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1){switch($t("PLLFNSRC")){case 0:Qe.push("PLLFN");break;case 1:ze.push("PLLFN")}It("PDFN")||-1===$.inArray("PLLFN",xe)||(bt.push("PLLFN"),vt.push(D.toHzString()))}if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(Qe.push("PLL2"),It("PLL2CKEN")&&-1!==$.inArray("PLL2",xe)&&(bt.push("PLL2"),vt.push(y.toHzString()))),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&(Qe.push("PLL480M"),It("PLL2CKEN")&&-1!==$.inArray("PLL480M",xe)&&(bt.push("PLL480M"),vt.push(w.toHzString()))),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL||void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL){if(0===u.indexOf("M55M1"))switch($t("APLL1SRC")){case 0:Qe.push(tn);break;case 1:ze.push(tn);break;default:Ge.push(tn)}else Qe.push(tn);It("APD")&&!It("APLL1EN")||-1===$.inArray(tn,xe)||(bt.push(tn),vt.push(X.toHzString()))}if(0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&(Qe.push("HSUSB_OTG_PHY"),It(yt)&&-1!==$.inArray("HSUSB_OTG_PHY",xe)&&(bt.push("HSUSB_OTG_PHY"),vt.push(q.toHzString()))),C=Dt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){if(N=NUTOOL_CLOCK.g_CLKSEL[C][t],f=$t(C),p=parseInt(N.sliceAfterX(":"),10),f===p){N=N.slicePriorToX(":").slicePriorToX("/").toString();const e=0===u.indexOf("M2L31")?sn:rn;ie(N,e);break}t===n-1&&!Ie&&window.console&&window.console.log('"ERROR! createD3ClockTree has an error: HCLK cannot find its clock source.')}if(bt.push(rn),vt.push(z.toHzString()),0===u.indexOf("M55M1"))rt.push(sn,Cn,Ln,_n),bt.push(sn,Cn,Ln,_n),vt.push(W.toHzString(),V.toHzString(),G.toHzString(),B.toHzString());else if(0===u.indexOf("M2L31")){for(bt.push(sn),vt.push(W.toHzString()),st.push(rn),ct.push(Ln),t=0,n=NUTOOL_CLOCK.g_CLKSEL[qt].length;t<n;t+=1){if(N=NUTOOL_CLOCK.g_CLKSEL[qt][t],f=$t(qt),p=parseInt(N.sliceAfterX(":"),10),f===p){ie(N=N.slicePriorToX(":").slicePriorToX("/").toString(),Cn);break}t===n-1&&!Ie&&window.console&&window.console.log('"ERROR! createD3ClockTree has an error: SRHCLK1 cannot find its clock source.')}It("HCLK1EN")&&(bt.push(Cn,Ln),vt.push(V.toHzString(),G.toHzString()))}if("CPUCLK"!==rn&&"SYSCLK"!==rn&&(0===u.indexOf("M55M1")?gt.push("CPUCLK"):rt.push("CPUCLK"),bt.push("CPUCLK"),vt.push(z.toHzString())),0===u.indexOf("KM1M0DF")){switch($t(Tn)){case 1:Qe.push(cn);break;case 2:et.push(cn);break;default:ze.push(cn)}if(Z>0&&bt.push(cn),vt.push(Z.toHzString()),ie(rn,On),bt.push(On),vt.push(J.toHzString()),1===$t(Kn))Je.push(fn);else Be.push(fn);Q>0&&bt.push(fn),vt.push(Q.toHzString())}else 0===u.indexOf("M55M1")?(bt.push(cn,On,fn,pn,un),vt.push(Z.toHzString(),J.toHzString(),Q.toHzString(),ee.toHzString(),te.toHzString()),st.push(cn,On,fn,pn),Tt.push(un)):0===u.indexOf("M2L31")?(bt.push(cn,On),vt.push(Z.toHzString(),J.toHzString()),rt.push(cn,On),Tt.push(fn),It("HCLK1EN")&&(bt.push(fn),vt.push(Q.toHzString()))):(Y>0&&(ie(rn,dn),bt.push(dn),vt.push(Y.toHzString())),Z>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Tn)&&(ie(rn,cn),bt.push(cn),vt.push(Z.toHzString())),J>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(gn)&&(ie(rn,On),bt.push(On),vt.push(J.toHzString())),Q>0&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Kn)&&(ie(rn,fn),bt.push(fn),vt.push(Q.toHzString())));for(De=[],0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?De.push(an):De.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&De.push(nn),0!==NUTOOL_CLOCK.g_HIRC2frequency&&De.push(on),0!==NUTOOL_CLOCK.g_HIRC48frequency&&De.push(ln),0!==NUTOOL_CLOCK.g_MIRCfrequency&&De.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&De.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&De.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[Xt],(function(e){return-1!==e.indexOf(Ht+":")})).length&&De.push(Qt),0!==_.filter(NUTOOL_CLOCK.g_register_map[Xt],(function(e){return-1!==e.indexOf(yt+":")})).length&&De.push(Jt),l=0,r=e.length;l<r;l+=1){if(S=e[l],C="SYSTICK"!==S?NUTOOL_CLOCK.g_Module[S][0]:It("CLKSRC")?"CPUCLK":NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Bt)?Bt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1){if(NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C)?(c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=$t(C)+($t(c)<<O)>>>0):f=$t(C),N=NUTOOL_CLOCK.g_CLKSEL[C][t],p=parseInt(N.sliceAfterX(":"),10),f===p){ie(N=N.slicePriorToX(":").slicePriorToX("/").toString(),S),C=N;break}t===n-1&&(N=NUTOOL_CLOCK.g_CLKSEL[C][0],p=parseInt(N.sliceAfterX(":"),10),Ot(C,p,!1,!1),ie(N=N.slicePriorToX(":").slicePriorToX("/").toString(),S),C=N)}else ie(C=C.slicePriorToX("/").toString(),S);if(P=NUTOOL_CLOCK.g_Module[S][1],j=[],ne=0,-1===P.indexOf("/"))j.push(P);else{for(;-1!==P.indexOf("/")&&(j.push(P.slicePriorToX("/")),P=P.sliceAfterX("/"),!((ne+=1)>10)););j.push(P)}for(E=!0,i=0,o=j.length;i<o;i+=1)if(!At(j[i])){E=!1;break}E&&(-1!==$.inArray(C,bt)?(bt.push(S),We("tab-4",S,"",""),vt.push($("#"+S+"_span_showRealFreq").text())):re(S))}function Sn(){ge.sort((function(e,t){return t.name.toLowerCase()<e.name.toLowerCase()?1:-1}))}function Nn(){!Ie&&window.console&&window.console.log("In endDrag"),_e=null,d3.selectAll(".ghostCircle").attr("class","ghostCircle"),d3.select(se).select(".ghostCircle").attr("pointer-events",""),Ae(),Rn(Oe),Me.hide()}function Mn(e){var t,n;t=-Oe.y,t*=e,n=(n=-Oe.x)*e+3*Te/4,d3.select("g").transition().duration(ce).attr("transform","translate("+t+","+n+")scale("+e+")"),he.scale(e),he.translate([t,n])}function xn(e){Ue.selectAll("path.selected").data([]).exit().remove(),Ue.selectAll("path.selected").data(e).enter().append("svg:path").attr("class","selected").attr("d",Ke)}function En(e){var t,n,i;if(!Ie&&window.console&&window.console.log("In click, "+e.name+"'s enabled:"+e.enabled+" / bDragStarted:"+fe),pt(),e.enabled){for(e.name==="RTC".toEquivalent().toString()&&void 0!==NUTOOL_CLOCK.g_Module.CLKO_1Hz&&-1!==NUTOOL_CLOCK.g_Module.CLKO_1Hz[0].indexOf("RTC")&&-1!==$.inArray("CLKO_1Hz",bt)?re(e.name,["CLKO_1Hz"]):re(e.name),ae(e.name,!0),t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],Ue.selectAll("path.link").filter((function(e){return _.any(t,(function(t){return t===e.target}))})).each((function(e){i.push(e)})),xn(i)}}function Pn(e){var t,n,i;if(pt(),hn=!0,-1===$.inArray(e.name,De)){if(le(e.name,e.enabled),Rn(e),e.enabled){for(t=[],n=e;!_.isUndefined(n);)t.push(n),n=n.parent;i=[],Ue.selectAll("path.link").filter((function(e){return _.any(t,(function(t){return t===e.target}))})).each((function(e){i.push(e)})),xn(i)}else Ue.selectAll("path.selected").data([]).exit().remove();Me.hide(e),$("#tabs").tabs("option","active")+1==x&&Me.show(e)}else 0===e.name.indexOf("LIRC")||0===e.name.indexOf(an)||0===e.name.indexOf(nn)||0===e.name.indexOf(on)||0===e.name.indexOf("HIRC48")||0===e.name.indexOf("MIRC")||0===e.name.indexOf(Qt)||0===e.name.indexOf(Jt)||0===e.name.indexOf("RTC32k")?$("#tabs").tabs({active:0}):-1!==e.name.indexOf("PLL")?$("#tabs").tabs({active:1}):0!==e.name.indexOf(rn)&&0!==e.name.indexOf(dn)&&0!==e.name.indexOf("CPUCLK")&&0!==e.name.indexOf(cn)&&0!==e.name.indexOf(On)&&0!==e.name.indexOf(fn)||$("#tabs").tabs({active:$("#tabs").tabs("option","active")-1}),Me.hide(e)}function bn(e){return void 0===e.parent||bn(e.parent)?e.enabled:0}function vn(e){var t,n,i,o;for(!Ie&&window.console&&window.console.log("In searchFromInput, searchNodeName:"+e),d3.selectAll("g.node").each((function(n){n.name.toLowerCase()===e.toLowerCase()&&(t=n)})),n=[],i=t;!_.isUndefined(i);)n.push(i),i=i.parent;o=[],Ue.selectAll("path.link").filter((function(e){return _.any(n,(function(t){return t===e.target}))})).each((function(e){o.push(e)})),xn(o)}function Un(e,t,n,i,o){var l,a={},r={};!Ie&&window.console&&window.console.log("In updateFromCanvas, bUpdateTree:"+n),void 0===n&&(n=!1),d3.selectAll("g.node").each((function(e){e.name===t&&(a=e)})),d3.selectAll("g.node").each((function(t){t.name===e&&(r=t)})),Ue.selectAll("path.selected").data([]).exit().remove(),Ue.selectAll("path.link").filter((function(e){return e.target.id==r.id})).remove(),(l=r.parent.children.indexOf(r))>-1&&r.parent.children.splice(l,1),void 0!==a.children||void 0!==a._children?void 0!==a.children?a.children.push(r):a._children.push(r):(a.children=[],a.children.push(r)),-1!==(l=$.inArray(e,bt))&&(bt.splice(l,1),vt.splice(l,1),bt.push(e),r.freq=$("#"+e+"_span_showRealFreq").text(),vt.push(r.freq)),o!==i&&Ce(e,t),n&&Rn(Oe)}function kn(e,t,n){var i,o={};!Ie&&window.console&&window.console.log("In updateFromDividerDialog, bUpdateTree:"+t),void 0===t&&(t=!1),d3.selectAll("g.node").each((function(t){t.name===e&&(o=t)})),-1!==(i=$.inArray(e,bt))&&(bt.splice(i,1),vt.splice(i,1),bt.push(e),o.freq=$("#"+e+"_span_showRealFreq").text(),vt.push(o.freq)),S=e,-1!==n&&a!==n&&Ce(S),t&&Rn(Oe)}function Rn(e){!Ie&&window.console&&window.console.log("In update");var n,i,o,l,a=ge.nodes(Oe).reverse(),r=ge.links(a);a.forEach((function(e){e.y=e.depth*(10*(Le+3))})),(i=(n=Ue.selectAll("g.node").data(a,(function(e){return e.id||(e.id=++t)}))).enter().append("g").call(be).attr("class","node").attr("id",(function(e){return e.name})).attr("transform",(function(){return"translate("+e.y0+","+e.x0+")"})).on("click",En).on("dblclick",Pn).on("updateFromCanvas",Un).on("updateFromDividerDialog",kn).on("zoomFromToolbar",Mn).on("searchFromInput",vn).on("mouseover",(function(e){!Ie&&window.console&&window.console.log("In mouseover, node.name:"+e.name),d3.select(this).classed("hover",!0),e==Oe||-1!==$.inArray(e.name,De)?d3.select(this).classed("notDraggable",!0):d3.select(this).classed("notDraggable",!1),Me.hide(e),$("#tabs").tabs("option","active")+1!=x||pe||e===Oe||Me.show(e)})).on("mouseout",(function(e){!Ie&&window.console&&window.console.log("In mouseout, node.name:"+e.name),d3.select(this).classed("hover",!1),Me.hide(e)}))).append("circle").attr("class","nodeCircle"),i.append("text").attr("x",(function(){return 10})).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",(function(){return"start"})).text((function(e){return e.enabled&&-1!==e.freq&&""!==e.freq?e.name+":"+e.freq:e.name})).style("fill-opacity",0),i.append("circle").attr("class","ghostCircle").attr("r",30).attr("opacity",.2).style("fill","lightyellow").attr("pointer-events","mouseover").on("mouseover",(function(e){ke(e)})).on("mouseout",(function(e){Re(e)})),n.select("text").attr("x",(function(){return 10})).attr("text-anchor",(function(){return"start"})).attr("font-weight",(function(e){return e.children||e._children?"bold":"normal"})).text((function(e){return e.enabled&&-1!==e.freq&&""!==e.freq?e.name+":"+e.freq:e.name})),n.select("circle.nodeCircle").attr("r",4.5).style("fill",(function(e){return e.enabled?"#41AF88":"#fff"})),n.transition().duration(ce).attr("transform",(function(e){return"translate("+e.y+","+e.x+")"})).select("text").style("fill-opacity",1),(o=n.exit().transition().duration(ce).attr("transform",(function(){return"translate("+e.y+","+e.x+")"})).remove()).select("circle").attr("r",0),o.select("text").style("fill-opacity",0),(l=Ue.selectAll("path.link").data(r,(function(e){return e.target.id}))).enter().insert("path","g").attr("class","link").style("stroke",(function(){return"LightSteelBlue"})).attr("d",(function(){var t={x:e.x0,y:e.y0};return Ke({source:t,target:t})})),l.transition().duration(ce).attr("d",Ke),l.exit().transition().duration(ce).attr("d",(function(){var t={x:e.x,y:e.y};return Ke({source:t,target:t})})).remove(),a.forEach((function(e){e.x0=e.x,e.y0=e.y}))}we.name=g.slicePriorToX("("),we.enabled=1,we.freq=-1,we.children=oe(De),De.push(en,"PLL2","PLL480M",tn,"PLLFN","HSUSB_OTG_PHY",rn,sn,Cn,Ln,_n,dn,cn,On,fn,pn,un,"CPUCLK"),Le=0,_e=null,de=null,ce=750,pe=!1,ue=window.screen.width-250,Te=window.screen.height-250,ge=d3.layout.tree().size([Te,ue]).nodeSize([15,70]),Ke=d3.svg.diagonal().projection((function(e){return[e.y,e.x]})),function e(t,n,i){var o,l,a=i(t);if(t&&(n(t),a))for(l=a.length,o=0;o<l;o++)e(a[o],n,i)}(we,(function(e){Le=Math.max(e.name.length,Le)}),(function(e){return e.children&&e.children.length>0?e.children:null})),Sn(),he=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",(function(){!Ie&&window.console&&window.console.log("In zoom, d3.event.translate:"+d3.event.translate+" / d3.event.scale:"+d3.event.scale),Ue.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})),Se=d3.behavior.drag().on("dragstart",(function(){$("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide())})),Ne=d3.select("#tab-4").append("svg").attr("width",ue).attr("height",Te).attr("class","overlay").call(Se).call(he).on("dblclick.zoom",null).on("mouseover",(function(){d3.select(this).classed("baseDraggable",!0)})).on("mouseout",(function(){d3.select(this).classed("baseDraggable",!1)})),$("html").hasClass("ie10+")&&$("#tab-4").dblclick((function(){hn||jt("reviewReport"),hn=!1})),Me=d3.tip().attr("class","d3-tip").html((function(e){var l,a,r,s,_,c,O,f="",p="",T="",g=[];if(!pe){if(-1!==L.indexOf("Simplified")?(l="启用中。",a="停用中。",r="启用器: ",s="选择器: ",_="除法器: ",c="汇流排频率",O="引擎频率"):-1!==L.indexOf("Traditional")?(l="啟用中。",a="停用中。",r="啟用器: ",s="選擇器: ",_="除法器: ",c="匯流排頻率",O="引擎頻率"):(l=" is enabled.",a=" is disabled.",r="Activator: ",s="Selector: ",_="Divider: ",c="Bus Clock",O="Engine Clock"),"SYSTICK"!==(S=e.name))if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Zt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)p=NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(p,g)&&g.push(p);else C!==S+Zt&&g.push(C);else{if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Bt))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[Bt].length;t<n;t+=1)p=NUTOOL_CLOCK.g_CLKSEL[Bt][t].slicePriorToX(":").slicePriorToX("/").toString(),-1===$.inArray(p,g)&&g.push(p);else g.push(NUTOOL_CLOCK.g_Module[S][0].slicePriorToX("/").toString());0!=u.indexOf("KM1M7CF")&&g.push("CPUCLK")}if(f=S+(e.enabled?l:a)+"</br>",NUTOOL_CLOCK.g_Module.hasOwnProperty(S)){if(f+="<hr>",P=NUTOOL_CLOCK.g_Module[S][1],j=[],ne=0,-1===P.indexOf("/"))j.push(P);else{for(;-1!==P.indexOf("/")&&(j.push(P.slicePriorToX("/")),P=P.sliceAfterX("/"),!((ne+=1)>10)););j.push(P)}for(f+=r,i=0,o=j.length;i<o;i+=1)p=Ct(j[i]),0!==i&&""!==p&&(f+=" / "),f+=p;if(f+="</br>",d=[],-1!==NUTOOL_CLOCK.g_Module[S][0].indexOf(Zt)){if(C=NUTOOL_CLOCK.g_Module[S][0],ne=0,-1===C.indexOf("/"))d.push(C);else{for(;-1!==C.indexOf("/")&&(d.push(C.slicePriorToX("/")),C=C.sliceAfterX("/"),!((ne+=1)>10)););d.push(C)}for(f+=s,i=0,o=d.length;i<o;i+=1)0===i||Kt(d[i])||(f+=" / "),f+=Ct(d[i]),NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(d[i])&&(f=f+" / "+Ct(NUTOOL_CLOCK.g_CLKSEL_EXTENDED[d[i]][0].slicePriorToX(":")));f+="</br>"}0===d.length&&"SYSTICK"===S&&(f=f+s+Yt+"[2]</br>"),"none"!==NUTOOL_CLOCK.g_Module[S][2]&&(f=f+_+Ct(NUTOOL_CLOCK.g_Module[S][2])+"</br>")}else if(S===en||S===tn||"PLLFN"===S){for(f=f+"<hr>"+r,i=0,o=(j=["PD","OE","PLLEN","PDFN","OEFN","PLLFN","NPLLEN","APLL0EN","APLL1EN"]).length;i<o;i+=1)f.lastIndexOf(r)+r.length!==f.length&&""!==Ct(j[i])&&(f+=" / "),f+=Ct(j[i]);for(i=0,o=(d=["PLL_SRC","PLL_SRC","PLLISEL","APLL0SRC","APLL1SRC"]).length;i<o;i+=1)if(""!==Ct(d[i])){f+="</br>",f+=s,f+=Ct(d[i]);break}f+="</br>"}else{switch(p="",T="",S){case"LIRC":p=Ct(kt);break;case nn:p=Ct(mt),""!==Ct("HIRC1EN")&&(p=p+" / "+Ct("HIRC1EN"));break;case on:p=Ct(Ft),""!==Ct("HIRC2EN")&&(p=p+" / "+Ct("HIRC2EN"));break;case ln:p=Ct(wt);break;case"MIRC":p=Ct("MIRCEN");break;case"MIRC1P2M":p=Ct("MIRC1P2MEN");break;case Qt:p=Ct(Ht);break;case Jt:p=Ct(yt);break;case"PLL2":case"PLL480M":p=Ct("PLL2CKEN");break;case"HSUSB_OTG_PHYOTGPHY":p=Ct(yt)}""!==p&&(T=T+r+p+"</br>"),""!==(p=Ct(S+Zt))&&(T=T+s+p+"</br>"),""!==(p=Ct(S+"DIV"))&&(T=T+_+p+"</br>"),""!==T&&(f=f+"<hr>"+T)}}return e.enabled&&NUTOOL_CLOCK.g_Module.hasOwnProperty(S)&&_t(S)&&(f=(f+="<hr>")+c+" "+Lt(S)+"</br>",dt(S)&&(f=f+O+" ("+S+"): "+e.freq+"</br>")),Pe=f,f})),Ne.call(Me),Me.direction("e").offset([0,5]),be=d3.behavior.drag().on("dragstart",(function(e){!Ie&&window.console&&window.console.log("In dragstart, d.name: "+e.name),e!=Oe&&-1===$.inArray(e.name,De)&&(d3.event.sourceEvent.stopPropagation(),$("#"+Ee+"_div")[0]&&($("#"+Ee+"_div").hide(),$("#"+Ee+"_canvas").hide(),$("#"+Ee+"_div_protection").hide(),$("#"+Ee+"_div_showRealFreq").hide()),Ue.selectAll("path.selected").data([]).exit().remove(),fe=!0,ge.nodes(e))})).on("drag",(function(e){!Ie&&window.console&&window.console.log("In drag, d.name: "+e.name),pe=!0,e!=Oe&&-1===$.inArray(e.name,De)&&(fe&&function(e,i){var o=[];if(!Ie&&window.console&&window.console.log("In initiateDrag"),pt(),de=e,Ue.selectAll("g.node").sort((function(e){return e.id!=de.id?1:-1})),Ue.selectAll("path.link").filter((function(e){return e.target.id==de.id})).remove(),"SYSTICK"!==(S=de.name)){if(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Zt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)o.push(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString())}else{if(C=NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Bt)?Bt:NUTOOL_CLOCK.g_Module[S][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[C].length;t<n;t+=1)o.push(NUTOOL_CLOCK.g_CLKSEL[C][t].slicePriorToX(":").slicePriorToX("/").toString());else o.push(C.slicePriorToX("/").toString());0!=u.indexOf("KM1M7CF")&&o.push("CPUCLK")}Ue.selectAll("g.node").data(ge.nodes(Oe),(function(e){return e.id||(e.id=++t)})).select("circle.nodeCircle").style("fill",(function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"blue":"#41AF88"})),d3.select(i).select(".ghostCircle").attr("pointer-events","none"),d3.selectAll(".ghostCircle").data(ge.nodes(Oe),(function(e){return e.id||(e.id=++t)})).attr("class",(function(e){var t=!1;return(o.length>0&&-1!==$.inArray(e.name,o)||e.name===C)&&(t=!0),t?"ghostCircle show":"ghostCircle"})),d3.select(i).attr("class","node activeDrag"),fe=!1}(e,se=this),e.x0+=d3.event.dy,e.y0+=d3.event.dx,d3.select(this).attr("transform","translate("+e.y0+","+e.x0+")"),Ae())})).on("dragend",(function(e){var t,n,l,a;if(!Ie&&window.console&&window.console.log("In dragend, d.name: "+e.name),pe=!1,e!=Oe&&-1===$.inArray(e.name,De))if(se=this,_e){if((t=de.parent.children.indexOf(de))>-1&&de.parent.children.splice(t,1),void 0!==_e.children||void 0!==_e._children?void 0!==_e.children?_e.children.push(de):_e._children.push(de):(_e.children=[],_e.children.push(de)),p=f=-1,l=_e.name,"SYSTICK"!==(a=de.name)){if(C=NUTOOL_CLOCK.g_Module[a][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if((N=NUTOOL_CLOCK.g_CLKSEL[C][i]).slicePriorToX(":").slicePriorToX("/").toString()===l){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(C)?(c=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[C][0],O=parseInt(c.sliceAfterX(":"),10),c=c.slicePriorToX(":"),f=$t(C)+($t(c)<<O)>>>0,p=parseInt(N.sliceAfterX(":"),10),s=Math.pow(2,O)-1,h=p-(T=p&s)>>O>>>0,Ot(C,T),Ot(c,h)):(f=$t(C),p=parseInt(N.sliceAfterX(":"),10),Ot(C,p));break}}else if(-1!==l.indexOf("CPUCLK"))Ot("CLKSRC",1,Yt);else{const e=1===$t("CLKSRC");if(Ot("CLKSRC",0,Yt),C=Bt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[C].length;i<o;i+=1)if(-1!==(N=NUTOOL_CLOCK.g_CLKSEL[C][i]).indexOf(l)){f=e?-1:$t(Bt),p=parseInt(N.sliceAfterX(":"),10),Ot(C,parseInt(N.sliceAfterX(":"),10),"",!1);break}}_e.enabled?-1!==(n=$.inArray(a,bt))&&(bt.splice(n,1),vt.splice(n,1),We("tab-4",a,"",""),bt.push(a),e.freq=$("#"+a+"_span_showRealFreq").text(),vt.push(e.freq)):re(a),p!==f&&Ce(a,l),Sn(),Nn()}else Nn()})),ke=function(e){var i=[];if(_e=null,de){if("SYSTICK"!==(S=de.name)?(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(S)?NUTOOL_CLOCK.g_Module[S][0]:S+Zt,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C)&&(i=NUTOOL_CLOCK.g_CLKSEL[C].slice())):(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Bt)?i=NUTOOL_CLOCK.g_CLKSEL[Bt].slice():i.push(NUTOOL_CLOCK.g_Module[S][0]),0!=u.indexOf("KM1M7CF")&&i.push("CPUCLK")),i.length>0)for(t=0,n=i.length;t<n;t+=1){if(N=i[t].slicePriorToX(":").slicePriorToX("/").toString(),e.name===N){_e=e;break}t===n-1&&!Ie&&window.console&&window.console.log(S+" cannot be "+e.name+"'s children.")}else e.name===C?_e=e:!Ie&&window.console&&window.console.log(S+" cannot be "+e.name+"'s children.");Ae()}},Re=function(){_e=null,Ae()},Ae=function(){var e,t=[];null!==de&&null!==_e&&(t=[{source:{x:_e.y0,y:_e.x0},target:{x:de.y0,y:de.x0}}]),(e=Ue.selectAll(".templink").data(t)).enter().append("path").attr("class","templink").attr("d",d3.svg.diagonal()).attr("pointer-events","none"),e.attr("d",d3.svg.diagonal()),e.exit().remove()},Ue=Ne.append("g").attr("id","g_svgGroup"),(Oe=we).x0=Te/2,Oe.y0=ue/2,Rn(Oe),me=Oe,He=he.scale(),$e=-me.y0,$e*=He,Fe=(Fe=-me.x0)*He+3*Te/4,d3.select("g").transition().duration(ce).attr("transform","translate("+$e+","+Fe+")scale("+He+")"),he.scale(He),he.translate([$e,Fe])}function We(e,t,n,i){var o,l,r,s,C,L,_,d,c,O,f,p,T,g,K,h=[],S=[],N="HXT".toEquivalent().toString(),M="LXT".toEquivalent().toString(),x="PLL".toEquivalent().toString(),E="HIRC".toEquivalent().toString(),P="HIRC2".toEquivalent().toString(),b=("HIRC48".toEquivalent().toString(),"LIRC".toEquivalent().toString()),v="HCLK".toEquivalent().toString(),U="HCLK0".toEquivalent().toString(),k="HCLK1".toEquivalent().toString(),R="HCLK2".toEquivalent().toString(),I="ACLK".toEquivalent().toString(),A="PCLK".toEquivalent().toString(),m="PCLK0".toEquivalent().toString(),F="PCLK1".toEquivalent().toString(),H="PCLK2".toEquivalent().toString(),y="PCLK3".toEquivalent().toString(),w="PCLK4".toEquivalent().toString();if(0===(C=NUTOOL_CLOCK.g_Module.hasOwnProperty(t)?NUTOOL_CLOCK.g_Module[t][0]:i).indexOf(v)||0===C.indexOf("RTC32k")||0===C.indexOf(U)||0===C.indexOf(k)||0===C.indexOf(R)||0===C.indexOf("LIRC")||0===C.indexOf(b)||0===C.indexOf(I)||0===C.indexOf(E)||0===C.indexOf(P)||0===C.indexOf("MIRC")||0===C.indexOf(M)||0===C.indexOf(N)||0===C.indexOf(x)||0===C.indexOf("PLL2")||0===C.indexOf("PLL480M")||0===C.indexOf("APLL")||0===C.indexOf("PLLFN")||0===C.indexOf("HSUSB_OTG_PHY")||0===C.indexOf(m)||0===C.indexOf(F)||0===C.indexOf(H)||0===C.indexOf(y)||0===C.indexOf(w))h.push(C);else if(C==="HCLK_S".toEquivalent())h.push(v);else if(C==="PCLK_S".toEquivalent()||C===A)h.push(A);else if(0===C.indexOf("STCLK_S/SYST_CSR[2]".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL["STCLK_S".toEquivalent()]).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,xe)&&h.push(S[o].slicePriorToX(":"));else if(0===C.indexOf("CLKSRC/STCKSEL".toEquivalent()))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL.STCKSEL).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,xe)&&h.push(S[o].slicePriorToX(":"));else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(C))for(o=0,l=(S=NUTOOL_CLOCK.g_CLKSEL[C]).length;o<l;o+=1)i=-1===(i=S[o]).indexOf("/")?i.slicePriorToX(":"):i.slicePriorToX("/"),-1!==$.inArray(i,xe)&&h.push(S[o].slicePriorToX(":"));if("SYSTICK"===t&&0!==u.indexOf("KM1M7CF")&&h.push("CPUCLK"),a=0,"none"!==NUTOOL_CLOCK.g_Module[t][2]&&(a=$t(NUTOOL_CLOCK.g_Module[t][2])),L="","SYSTICK"!==t){if(L=d=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(L)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[L][0],p=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),_=$t(L)+($t(f)<<p)>>>0):_=$t(L),-1!==_&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d))for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===_.toString()){L=NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":");break}}else if(0===u.indexOf("KM1M7CF"))L=1==(_=$t("CLKSRC").toString())?"CPUCLK":0==(_=$t("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(It("CLKSRC"))L="CPUCLK";else if(_=$t(d="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(d)){for(o=0,l=NUTOOL_CLOCK.g_CLKSEL[d].length;o<l;o+=1)if(NUTOOL_CLOCK.g_CLKSEL[d][o].sliceAfterX(":")===_){L=NUTOOL_CLOCK.g_CLKSEL[d][o].slicePriorToX(":");break}}else L=NUTOOL_CLOCK.g_Module[t][0];if(-1===$.inArray(L,h)&&(!0,L=h[0],i=NUTOOL_CLOCK.g_Module[t][0],NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(i)))for(r=0,s=NUTOOL_CLOCK.g_CLKSEL[i].length;r<s;r+=1)if(-1!==(d=NUTOOL_CLOCK.g_CLKSEL[i][r]).indexOf(L)&&d.indexOf(":")===L.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(f=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],p=parseInt(f.sliceAfterX(":"),10),f=f.slicePriorToX(":"),$t(i)+($t(f)<<p)>>>0,K=(T=parseInt(d.sliceAfterX(":"),10))-(g=T&Math.pow(2,p)-1)>>p>>>0,Ot(i,g),Ot(f,K)):($t(i),Ot(i,T=parseInt(d.sliceAfterX(":"),10)));break}O=t==="CLKO_Divider".toEquivalent().toString()||t==="CLKO1_Divider".toEquivalent().toString()?ot(L)/Math.pow(2,a+1):ot(L)/(a+1),_t(t)&&!$("#"+t+"_div_showRealFreq")[0]&&(c="<div id='"+t+"_div_showRealFreq'><p class = 'div_clock_composite'><span class=realOutput_before_span>The clock of </span>"+t+"<span class=realOutput_after_span>: </span><span id='"+t+"_span_showRealFreq'></span></p></div>",$("#"+e).append(c)),$("#"+t+"_span_showRealFreq").text(O.toHzString()),$("#"+t+"_div_showRealFreq").hide(),!Ie&&window.console&&window.console.log("In createModuleOnly, "+t+"'s clock:"+O.toHzString())}function Ve(){var e=$("#tabs");pt(),$("#tabs ul").append("<li id='li-4'><a href='#tab-4'><span id=module_span>Modules</span></a></li>"),$("#tabs").append("<div id='tab-4'></div>"),-1!==L.indexOf("Simplified")?$("#module_span").text("模块"):-1!==L.indexOf("Traditional")?$("#module_span").text("模組"):$("#module_span").text("Modules"),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),$("#tab-4").css("width",n-f-8+"px")):(e.css("width",n-8+"px"),$("#tab-4").css("width",n-8+"px")),e.css("height",o-8+"px"),$("#tab-4").css("height",o-8+"px"),ze(ft(NUTOOL_CLOCK.g_Module)),$("#tabs")[0].style.visibility="visible","none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}function Ge(e){var t,i,l,a,r,s,C,_,d,c,O,p,T,h,S,N,E,P,j,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe,pe,ue,Te,ge=$("#tabs"),Ke="Select one of the following frequencies to be the frequency of HCLK.",he="",Se=[],Ne=[],Me=20,Ee=20,Pe=0,be=45,Ue=30,ke=20,Re=[],me="#C62A39",$e="#DF630E",Fe="#BC8484",He="HXT".toEquivalent().toString(),ye="LXT".toEquivalent().toString(),we="PLL".toEquivalent().toString(),Xe="APLL".toEquivalent().toString(),De="HIRC".toEquivalent().toString(),qe="HIRC2".toEquivalent().toString(),Be="HIRC48".toEquivalent().toString(),ze="LIRC".toEquivalent().toString(),We="HCLK".toEquivalent().toString(),Ge="HCLK0".toEquivalent().toString(),je="HCLK1".toEquivalent().toString(),Ye="HCLK2".toEquivalent().toString(),Ze="PCLK".toEquivalent().toString(),Je="PCLK0".toEquivalent().toString(),Qe="PCLK1".toEquivalent().toString(),et="PCLK2".toEquivalent().toString(),tt="PCLK3".toEquivalent().toString(),nt="PCLK4".toEquivalent().toString(),it="HCLK_N".toEquivalent().toString(),lt="PCLK_N".toEquivalent().toString(),at="HCLK_S".toEquivalent().toString(),rt="HCLK2_S".toEquivalent().toString(),st="PCLK_S".toEquivalent().toString(),Ct="PCLK0SEL".toEquivalent().toString(),Lt="PCLK1SEL".toEquivalent().toString(),_t="PCLK2SEL".toEquivalent().toString(),dt="XTL32K_EN".toEquivalent().toString(),ct="XTL12M_EN".toEquivalent().toString();if(Oe=function(e,t,n,i){he=i?"<div id='hclk_"+t+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable hclk-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable hclk-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'hclk_"+t+"_p div_clock_composite'>"+n+"</p><br /></div>":"<div id='hclk_"+t+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable hclk-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable hclk-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'hclk_"+t+"_p div_clock_composite'>"+n+"</p><br /></div>",e.append(he),-1!==L.indexOf("Simplified")?($(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text("")):-1!==L.indexOf("Traditional")?($(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text("")):($(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".specificRealOutput_before_span").text("The clock of "))},fe=function(e,t){if(e.appendChild(ut("canvas","HCLK_canvas2")),(N=$("#HCLK_canvas2"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:452px; top:"+t+"px; border: 1px solid black;"),Re=[],_="HCLK1SEL",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));pe(N[0],je,"",Re)},pe=function(e,n,o,f,g){var S,N,x,E,P=K.getContext(e),b=[],v={},U=function(e){if(-1!==ve&&100!==ve&&(e=ve),void 0===e&&(e=-1),-1===e)for(t=0,i=b.length;t<i;t+=1)de>=b[t].x&&de<=b[t].x+b[t].textLength&&ce>=b[t].y-18-3&&ce<=b[t].y&&(e=t);if(e===b.length)for(t=0,i=b.length;t<i;t+=1)if(b[t].color!==Fe){e=t;break}if(-1!==e&&b[e]&&-1===b[e].name.indexOf("Disabled"))for(t=0,i=b.length;t<i;t+=1){if(t===e){if(b[t].lastColor=b[t].color=me,0===n.indexOf("BASECLK")?(_=0===u.indexOf("KM1M0DF")?"SYSCLKSEL":"BASESEL",d=b[t].name.slicePriorToLastX(":")):-1!==n.indexOf(We)?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")?(_="SYSDIV",d=b[t].name):NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?(_="CPUCKDIV",d=b[t].name):(_=at,d=b[t].name.slicePriorToLastX(":")):-1!==n.indexOf(Ye)?(_=rt,d=b[t].name):-1!==n.indexOf(Je)?(_=Ct,d=b[t].name):-1!==n.indexOf(Qe)?(_=Lt,d=b[t].name):-1!==n.indexOf(et)?(_=_t,d=b[t].name):(_=st,d=b[t].name),-1!==d.indexOf("DIV")&&-1!==d.indexOf(":")&&(d=(c=d).slicePriorToX(":")+"+"+c.sliceAfterX("+")),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_CLKSEL[_][l]).indexOf(d.slicePriorToX(":"))&&O.indexOf(":")===d.slicePriorToX(":").length){Ot(_,parseInt(O.sliceAfterX(":"),10));break}k()}else b[t].color!==Fe&&(b[t].lastColor=b[t].color="black");P.fillStyle="white",P.fillRect(b[t].x,b[t].y-18,b[t].textLength+10,18),P.fillStyle=b[t].color,P.fillText(b[t].name,b[t].x,b[t].y)}v.name&&de>=v.x&&de<=v.x+v.textLength&&ce>=v.y-18&&ce<=v.y&&R(o)},k=function(){for(N=0,t=0,i=b.length;t<i;t+=1){if(b[t].color===me){-1===(O=b[t].name).indexOf(We)&&-1===O.indexOf("BASECLK")&&-1===n.indexOf("HPCLK")&&-1===n.indexOf("LPCLK")&&-1===O.indexOf("HCLK")&&(N=-1!==O.indexOf("MHz")?1e6*parseFloat(O.sliceAfterX(":"),O.length-3):-1!==O.indexOf("kHz")?1e3*parseFloat(O.sliceAfterX(":"),O.length-3):parseFloat(O.sliceAfterX(":"),O.length-2));break}if(t===i-1)return this}if(0===N&&(_=0===u.indexOf("M2L31")&&-1!==n.indexOf(Ye)?rt:at,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_)))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1){if(O=NUTOOL_CLOCK.g_CLKSEL[_][l],$t(_)===parseInt(O.sliceAfterX(":"),10)){N=ot(O.slicePriorToLastX(":"));break}l===a-1&&!Ie&&window.console&&window.console.log('"ERROR! generateRealModuleFrequency of buildHCLKandPCLKtab has an error')}if(-1!==$t(it))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(it)){for(E=$t(it).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[it].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[it][l].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[it][l].slicePriorToX(":");break}-1!==x.indexOf("/")&&(N/=parseInt(x.sliceAfterX("/"),10))}else N/=$t(it)+1;if(0!==N&&(0===u.indexOf("M2L31")?-1!==n.indexOf(We)?(W=N,z=N/($t("HCLK0DIV")+1)):-1!==n.indexOf(Ye)&&(V=N,G=N/($t("HCLK1DIV")+1)):z=N,0===u.indexOf("M55M1")&&(B=N,W=N,V=N,G=N/($t("HCLK2DIV")+1)),$("#HCLK_span_showRealFreq").text(z.toHzString()),$("#HCLK2_span_showRealFreq").text(G.toHzString())),O=$("#HCLK_span_showRealFreq").text(),p=$("#HCLK2_span_showRealFreq").text(),""!==O)if(""!==p&&0===u.indexOf("M55M1"))Z=O.toFloat()/($t("PCLK0DIV")+1),$("#PCLK0_span_showRealFreq").text(Z.toHzString()),J=O.toFloat()/($t("PCLK1DIV")+1),$("#PCLK1_span_showRealFreq").text(J.toHzString()),Q=O.toFloat()/($t("PCLK2DIV")+1),$("#PCLK2_span_showRealFreq").text(Q.toHzString()),ee=O.toFloat()/($t("PCLK3DIV")+1),$("#PCLK3_span_showRealFreq").text(ee.toHzString()),te=p.toFloat()/($t("PCLK4DIV")+1),$("#PCLK4_span_showRealFreq").text(te.toHzString()),Y=0;else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ct))if(0===u.indexOf("KM1M0DF"))n===Je&&(E=$t(Ct),O=b[E].name,Z=O.sliceAfterX(":").toFloat(),$("#PCLK0_span_showRealFreq").text(Z.toHzString())),J=z/Math.pow(2,$t(Lt)),$("#PCLK1_span_showRealFreq").text(J.toHzString()),n===et&&(E=$t(_t),O=b[E].name,Q=O.sliceAfterX(":").toFloat(),$("#PCLK2_span_showRealFreq").text(Q.toHzString())),Y=0;else{Z=$t(Ct)>0?O.toFloat()/Math.pow(2,$t(Ct)):O.toFloat(),$("#PCLK0_span_showRealFreq").text(Z.toHzString()),J=$t(Lt)>0?O.toFloat()/Math.pow(2,$t(Lt)):O.toFloat(),$("#PCLK1_span_showRealFreq").text(J.toHzString());var e=0===u.indexOf("M2L31")?p:O;Q=$t(_t)>0?e.toFloat()/Math.pow(2,$t(_t)):e.toFloat(),$("#PCLK2_span_showRealFreq").text(Q.toHzString()),Y=0}else{if(-1!==$t(st))if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(st)){for(E=$t(st).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[st].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[st][l].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[st][l].slicePriorToX(":");break}N=-1===x.indexOf("/")?O.toFloat():O.toFloat()/parseInt(x.sliceAfterX("/"),10)}else N=O.toFloat()/Math.pow(2,$t(st));else N=O.toFloat();-1!==$t(lt)&&(N/=$t(lt)+1),Y=N,$("#PCLK_span_showRealFreq").text(Y.toHzString()),Z=0,J=0,Q=0}return xt(),this},R=function(e){if($("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(e)){for(h=[],l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)h.push(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/"));for(-1!==L.indexOf("Simplified")?(Ke="请设置值给除频器"+e+"。合理的数值应该为"+h+"的其中一个。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(Ke="請設置值給除頻器"+e+"。合理的數值應該為"+h+"的其中一個。",s="設置值給除頻器"+e,C="確認"):(Ke="Please configure a value to "+e+". The feasible value should be one of "+h+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+Ke+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){for(re=parseInt($("#"+e+"_input_dialog").val(),10).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].slicePriorToX(":").sliceAfterX("/")===re){x=NUTOOL_CLOCK.g_CLKSEL[e][l];break}v.name="1/("+e+": "+re+")",P.fillStyle="#FFFFFF",v.textLength=P.measureText(v.name).width,P.fillRect(v.x,v.y-18,v.textLength,25),P.fillStyle=v.lastColor=v.color=me,v.x=v.x+(v.textLength-P.measureText(v.name).width)/2,P.fillText(v.name,v.x,v.y),Ot(e,x.sliceAfterX(":")),k(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),re=$t(e).toString(),l=0,a=NUTOOL_CLOCK.g_CLKSEL[e].length;l<a;l+=1)if(NUTOOL_CLOCK.g_CLKSEL[e][l].sliceAfterX(":")===re){x=NUTOOL_CLOCK.g_CLKSEL[e][l];break}$("#"+e+"_input_dialog").val(x.slicePriorToX(":").sliceAfterX("/")).width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||-1===h.indexOf(this.value))&&($("#"+e+"_input_dialog").val("1"),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again."))}))}else{for(t=0,i=M.length;t<i;t+=1)for(T=M[t],l=0,a=NUTOOL_CLOCK.g_register_map[T].length;l<a;l+=1)if(-1!==(O=NUTOOL_CLOCK.g_register_map[T][l]).indexOf(e)&&O.indexOf(":")===e.length){h=-1!==O.indexOf("-")?parseInt(O.sliceBetweenXandX(":","-"),10)-parseInt(O.sliceAfterX("-"),10)+1:parseInt(O.sliceAfterX(":"),10),h=Math.pow(2,h)-1;break}-1!==L.indexOf("Simplified")?(Ke="请设置值给除频器"+e+"。合理的范围从0到"+h+"。",s="设置值给除频器!"+e,C="确认"):-1!==L.indexOf("Traditional")?(Ke="請設置值給除頻器"+e+"。合理的範圍從0到"+h+"。",s="設置值給除頻器"+e,C="確認"):(Ke="Please configure a value to "+e+". The feasible range is from 0 to "+h+".",s="Configure a value to "+e,C="Confirm"),$('<div id="dividerConfigureDialog"><p>'+Ke+'</p><p class = "div_clock_composite">'+e+': </p><input id="'+e+'_input_dialog" type="text" value="0" class = "div_clock_composite"/><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:s,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:C,click:function(){re=parseInt($("#"+e+"_input_dialog").val(),10),v.name="1/("+e+": "+re+" + 1)",P.fillStyle="#FFFFFF",v.textLength=P.measureText(v.name).width,P.fillRect(v.x,v.y-18,v.textLength,25),P.fillStyle=v.lastColor=v.color=me,v.x=v.x+(v.textLength-P.measureText(v.name).width)/2,P.fillText(v.name,v.x,v.y),Ot(e,re),k(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}),$("#"+e+"_input_dialog").val($t(e)).width(35).change((function(){(void 0===this.value||""===this.value||this.value.length>4||!/^\d+$/.test(this.value)||parseInt(this.value,10)>h||parseInt(this.value,10)<0)&&($("#"+e+"_input_dialog").val("0"),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again."))}))}};for(P.font="18px Arial",P.fillStyle="black",Pe=f.length,ie=0,Se=[],Ne=[],t=0,i=Pe;t<i;t+=1)-1===f[t].indexOf(We)&&-1===f[t].indexOf("BASECLK")&&-1===f[t].indexOf("HCLK")?Se.push(f[t]+": "+ot(f[t]).toHzString()):Se.push(f[t]),P.measureText(Se[Se.length-1]).width>ie&&(ie=P.measureText(Se[Se.length-1]).width),-1!==$.inArray(f[t].slicePriorToX("/").toString(),xe)?Ne[t]="black":Ne[t]=Fe;if(ie+=30,Pe>1?(ae=""!==o?be+P.measureText("1/("+o+": 0 + 1)").width:0,se=Me+ie+Ue+ae+be+P.measureText(n).width+Me,Ce=40+22*(f.length-1)+40):(se=""!==o?Me+ie+P.measureText("1/("+o+": 0 + 1)").width+be+P.measureText(n).width+Me:Me+ie+P.measureText(n).width+Me,Ce=80),void 0!==g&&0!==g.length&&(Ce=40+22*(g.length-1)+40),e.setAttribute("width",se),e.setAttribute("height",Ce),P.font="18px Arial",P.fillStyle="black",oe=Me,b=[],(v={}).name="",Pe>1){for(t=0,i=Pe;t<i;t+=1)le=Ee+22*t+ke,P.fillStyle=Ne[t],P.fillText(Se[t],oe,le),new ht(oe,le+2,oe+ie,le+2).drawWithArrowheads(P),b.push({name:Se[t],x:oe,y:le,textLength:P.measureText(Se[t]).width,color:Ne[t],lastColor:Ne[t]});P.beginPath(),P.moveTo(Me+ie,Ee),P.lineTo(Me+ie,Ee+22*(Pe-1)+40),P.lineTo(Me+ie+Ue,Ee+22*(Pe-1)+ke),P.lineTo(Me+ie+Ue,40),P.lineTo(Me+ie,Ee),P.stroke(),ae=0,""!==o&&(new ht(Me+ie+Ue,Ee+22*(Pe-1)/2+ke,Me+ie+Ue+be,Ee+22*(Pe-1)/2+ke).drawWithArrowheads(P),ae+=be,oe=Me+ie+Ue+be,le=Ee+22*(Pe-1)/2+ke+9-2,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(P.fillText("1/("+o+": 0)",oe,le),ae+=P.measureText("1/("+o+": 0)").width,v={name:"1/("+o+": 0)",x:oe,y:le,textLength:P.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(P.fillText("1/("+o+": 0 + 1)",oe,le),ae+=P.measureText("1/("+o+": 0 + 1)").width,v={name:"1/("+o+": 0 + 1)",x:oe,y:le,textLength:P.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"})),new ht(Me+ie+Ue+ae,Ee+22*(Pe-1)/2+ke,Me+ie+Ue+ae+be,Ee+22*(Pe-1)/2+ke).drawWithArrowheads(P),P.fillText(n,Me+ie+Ue+ae+be,Ee+22*(Pe-1)/2+ke+9-2)}else le=40,P.fillText(Se[0],oe,le),new ht(oe,le+2,oe+ie,le+2).drawWithArrowheads(P),b.push({name:Se[0],x:oe,y:le,textLength:P.measureText(Se[0]).width,color:Ne[0],lastColor:Ne[0]}),ae=0,""!==o&&(oe=Me+ie,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)?(P.fillText("1/("+o+": 0)",oe,le+9-2),ae+=P.measureText("1/("+o+": 0)").width,v={name:"1/("+o+": 0)",x:oe,y:le+9-2,textLength:P.measureText("1/("+o+": 0)").width,color:"black",lastColor:"black"}):(P.fillText("1/("+o+": 0 + 1)",oe,le+9-2),ae+=P.measureText("1/("+o+": 0 + 1)").width,v={name:"1/("+o+": 0 + 1)",x:oe,y:le+9-2,textLength:P.measureText("1/("+o+": 0 + 1)").width,color:"black",lastColor:"black"}),new ht(Me+ie+ae,le,Me+ie+ae+be,le).drawWithArrowheads(P),ae+=be),P.fillText(n,Me+ie+ae,le+9-2);K.addEvent(e,"mousemove",(function(n){ue(e,n),function(){for(S=!1,t=0,i=b.length;t<i;t+=1)de>=b[t].x&&de<=b[t].x+b[t].textLength&&ce>=b[t].y-18-3&&ce<=b[t].y?b[t].color!==$e&&(b[t].lastColor=b[t].color,b[t].color=$e,S=!0):b[t].color!==b[t].lastColor&&(b[t].color=b[t].lastColor,S=!0);if(S)for(t=0,i=b.length;t<i;t+=1)P.fillStyle="#FFFFFF",P.fillRect(b[t].x,b[t].y-18,b[t].textLength+10,18),P.fillStyle=b[t].color,P.fillText(b[t].name,b[t].x,b[t].y);S=!1,v.name&&(de>=v.x&&de<=v.x+v.textLength&&ce>=v.y-18&&ce<=v.y?v.color!==$e&&(v.lastColor=v.color,v.color=$e,S=!0):v.color!==v.lastColor&&(v.color=v.lastColor,S=!0)),S&&(P.fillStyle="#FFFFFF",P.fillRect(v.x,v.y-18,v.textLength,25),P.fillStyle=v.color,P.fillText(v.name,v.x,v.y))}()})),K.addEvent(e,"click",(function(){U()})),0===n.indexOf(We)?(he="<div id='HCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+We+"<span class=realOutput_after_span>: </span><span id='HCLK_span_showRealFreq'></span></p></div>",r.append(he),$("#HCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(85+Ce+30)+"px; width: 90%;"),$("#HCLK_div_showRealFreq").css("border-bottom","8px solid black"),$("#HCLK_span_showRealFreq").css("color","#2E2EFE")):0===n.indexOf(Ye)?(he="<div id='HCLK2_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Ye+"<span class=realOutput_after_span>: </span><span id='HCLK2_span_showRealFreq'></span></p></div>",r.append(he),$("#HCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:255px; width: 90%;"),$("#HCLK2_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Je)?(he="<div id='PCLK0_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Je+"<span class=realOutput_after_span>: </span><span id='PCLK0_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK0_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px;"),$("#PCLK0_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Qe)?(he="<div id='PCLK1_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Qe+"<span class=realOutput_after_span>: </span><span id='PCLK1_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK1_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+60)+"px;"),$("#PCLK1_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(et)?(he="<div id='PCLK2_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+et+"<span class=realOutput_after_span>: </span><span id='PCLK2_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+90)+"px;"),$("#PCLK2_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(tt)?(he="<div id='PCLK3_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+tt+"<span class=realOutput_after_span>: </span><span id='PCLK3_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK3_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px; left:"+se+"px;"),$("#PCLK3_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(nt)?(he="<div id='PCLK4_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+nt+"<span class=realOutput_after_span>: </span><span id='PCLK4_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK4_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+60)+"px; left:"+se+"px;"),$("#PCLK4_span_showRealFreq").css("color","#2E2EFE")):-1!==n.indexOf(Ze)&&(he="<div id='PCLK_div_showRealFreq'><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+Ze+"<span class=realOutput_after_span>: </span><span id='PCLK_span_showRealFreq'></span></p></div>",r.append(he),$("#PCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30)+"px;"),$("#PCLK_span_showRealFreq").css("color","#2E2EFE")),-1!==L.indexOf("Simplified")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: ")):-1!==L.indexOf("Traditional")?($(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: ")):($(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": ")),function(){if(""!==o){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(E=$t(o).toString(),t=0,i=NUTOOL_CLOCK.g_CLKSEL[o].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[o][t].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[o][t].slicePriorToX(":");break}-1===x.indexOf("/")?v.name="1/("+o+": 1)":v.name="1/("+o+": "+x.sliceAfterX("/")+")"}else v.name="1/("+o+": "+$t(o)+" + 1)";P.fillStyle="#FFFFFF",v.textLength=P.measureText(v.name).width,P.fillRect(v.x,v.y-18,v.textLength,25),P.fillStyle=v.lastColor=v.color=me,v.x=v.x+(v.textLength-P.measureText(v.name).width)/2,P.fillText(v.name,v.x,v.y)}if(x="",O="BASECLK"===n?0===u.indexOf("KM1M0DF")?"SYSCLKSEL":"BASESEL":n===We?NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")?"SYSDIV":NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")?"CPUCKDIV":0===u.indexOf("M2L31")&&-1!==n.indexOf(Ye)?rt:at:n===Je?Ct:n===Qe?Lt:n===et?_t:st,-1!==(E=$t(O).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(O))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[O].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[O][t].sliceAfterX(":")===E){x=NUTOOL_CLOCK.g_CLKSEL[O][t].slicePriorToX(":");break}if(E=b.length,""!==x)for(t=0,i=b.length;t<i;t+=1)if(-1!==(O=b[t].name).indexOf("DIV")&&-1!==O.indexOf(":")&&(O=(p=O).slicePriorToX(":")+"+"+p.sliceAfterX("+")),-1!==O.indexOf(":")){if(-1!==O.indexOf(x)&&O.indexOf(":")===x.length&&b[t].color!==Fe){E=t;break}}else if(-1!==O.indexOf(x)){E=t;break}U(E)}()},ue=function(e,t){return _e=e.getBoundingClientRect(),de=t.clientX-_e.left,ce=t.clientY-_e.top,this},Te=function(){var e;if(e=Kt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[g.slicePriorToX("(")],10),Ae)Ae=!1;else if("none"!==$("#add-tab-3").css("display")){if(z>e)return void(-1!==L.indexOf("Simplified")?Rt("CPU频率上限为"+e.toHzString()+"。 "+We+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?Rt("CPU頻率上限為"+e.toHzString()+"。 "+We+"頻率不應超過其限制。"):Rt("The upper limit of CPU frequency is "+e.toHzString()+". The "+We+" frequency should not run beyond the limit."));$("#tab-4")[0]||Ve(),$("#add-tab-3").hide(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1)}},pt(),$("#tab-4")[0]?($("<li id='li-3'><a href='#tab-3'>"+We+"/"+Ze+"</a></li>").insertBefore("#li-4"),$("<div id='tab-3'></div>").insertBefore("#tab-4")):($("#tabs ul").append("<li id='li-3'><a href='#tab-3'>"+We+"/"+Ze+"</a></li>"),$("#tabs").append("<div id='tab-3'></div>")),r=$("#tab-3"),b=0,v=0,U=0,k=0,R=0,I=0,A=0,m=0,F=0,xe=[],It("OSC10K_EN".toEquivalent())&&(b=NUTOOL_CLOCK.g_LIRCfrequency,0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?xe.push(ze):xe.push("LIRC")),(It("OSC22M_EN".toEquivalent())||It("HIRC1EN"))&&(v=NUTOOL_CLOCK.g_HIRCfrequency,xe.push(De)),(It("OSC22M2_EN".toEquivalent())||It("HIRC2EN"))&&(U=NUTOOL_CLOCK.g_HIRC2frequency,xe.push(qe)),It("HIRC48EN".toEquivalent())&&(k=NUTOOL_CLOCK.g_HIRC48frequency,xe.push(Be)),It("MIRCEN")){const e=$t("MIRCFSEL");R=-1!==e?1e6*Math.pow(2,e):NUTOOL_CLOCK.g_MIRCfrequency,xe.push("MIRC")}if(It("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency,xe.push("MIRC1P2M")),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(A=NUTOOL_CLOCK.g_RTC32kfrequency,xe.push("RTC32k")),It(dt)&&(m=32768,xe.push(ye)),It("LIRC32KEN")&&(m=32e3,xe.push("LXT")),It(ct)&&(F=1e6*parseFloat($("#"+ct+"_input").val()),q=NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency,xe.push(He),xe.push("HSUSB_OTG_PHY")),(!It("PD")||It("PLLEN")||!It("NPLLEN")||It("APLL0EN"))&&H>0&&xe.push(we),(!It("APD")||It("APLL1EN"))&&X>0&&xe.push(Xe),It("PLL2CKEN")&&y>0&&xe.push("PLL2"),It("PLL2CKEN")&&w>0&&xe.push("PLL480M"),!It("PDFN")&&D>0&&xe.push("PLLFN"),(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")||NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL"))&&xe.push("BASECLK"),xe.push(We),Re=[],_=at,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?r[0].appendChild(ut("button","add-tab-3","下一步")):r[0].appendChild(ut("button","add-tab-3","Next Step"));var ft=85;if(0===u.indexOf("M2L31")&&(Oe(r,"HCLK1EN","SRHCLK1/HCLK1/PCLK2",!1),ft+=30),r[0].appendChild(ut("canvas","HCLK_canvas")),(S=$("#HCLK_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+ft+"px; border: 1px solid black;"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(pe(S[0],"BASECLK","",Re,NUTOOL_CLOCK.g_CLKSEL.CPUCKDIV),Re=[],_="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));r[0].appendChild(ut("canvas","HCLK_canvas1")),(N=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:400px; top:85px; border: 1px solid black;"),pe(N[0],We,"",Re)}else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")){if(pe(S[0],"BASECLK","",Re,NUTOOL_CLOCK.g_CLKSEL.SYSDIV),Re=[],_="SYSDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));r[0].appendChild(ut("canvas","HCLK_canvas1")),(N=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:400px; top:85px; border: 1px solid black;"),pe(N[0],We,"",Re)}else NUTOOL_CLOCK.g_register_map.hasOwnProperty("HCLKDIV")?(xe.push("ACLK","HCLK0","HCLK1","HCLK2"),pe(S[0],We,it,Re),r[0].appendChild(ut("canvas","HCLK_canvas1")),(N=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:920px; top:85px; border: 1px solid black;"),pe(N[0],"ACLK","",[We]),r[0].appendChild(ut("canvas","HCLK_canvas2")),(N=$("#HCLK_canvas2"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:568px; top:85px; border: 1px solid black;"),pe(N[0],Ge,"",[We]),r[0].appendChild(ut("canvas","HCLK_canvas3")),(N=$("#HCLK_canvas3"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:745px; top:85px; border: 1px solid black;"),pe(N[0],je,"",[We]),r[0].appendChild(ut("canvas","HCLK_canvas4")),(N=$("#HCLK_canvas4"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:568px; top:170px; border: 1px solid black;"),pe(N[0],Ye,"HCLK2DIV",[We])):0===u.indexOf("M2L31")?(xe.push(Ge,je,Ye),pe(S[0],Ge,"",Re),r[0].appendChild(ut("canvas","HCLK_canvas1")),(N=$("#HCLK_canvas1"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+(ft+Ce+3)+"px; border: 1px solid black;"),pe(N[0],We,"HCLK0DIV",[Ge]),fe(r[0],ft),r[0].appendChild(ut("canvas","HCLK_canvas3")),(N=$("#HCLK_canvas3"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:452px; top:"+(ft+Ce+3)+"px; border: 1px solid black;"),pe(N[0],Ye,"HCLK1DIV",[je]),$("#HCLK_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(ft+300)+"px; width: 90%;"),$("#HCLK_div_showRealFreq").css("border-bottom","8px solid black"),$("#HCLK_span_showRealFreq").css("color","#2E2EFE"),$("#HCLK2_div_showRealFreq")[0].setAttribute("style","position:absolute; top:"+(ft+300)+"px; left:452px; width: 90%;"),$("#HCLK2_span_showRealFreq").css("color","#2E2EFE")):pe(S[0],We,it,Re);if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ct)){const e=parseInt(document.getElementById("HCLK_div_showRealFreq").style.top,10);if(Le=e+60,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ct)){for(Re=[],xe.push(Je),l=0,a=NUTOOL_CLOCK.g_CLKSEL[Ct].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[Ct][l].slicePriorToX(":"));r[0].appendChild(ut("canvas","PCLK0_canvas")),(P=$("#PCLK0_canvas"))[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+Le+"px; border: 1px solid black;"),pe(P[0],Je,"",Re)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Lt)){for(Re=[],xe.push(Qe),l=0,a=NUTOOL_CLOCK.g_CLKSEL[Lt].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[Lt][l].slicePriorToX(":"));r[0].appendChild(ut("canvas","PCLK1_canvas")),j=$("#PCLK1_canvas");let e=35+P[0].width;j[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:"+e+"px; top:"+Le+"px; border: 1px solid black;"),pe(j[0],Qe,"",Re)}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_t)){for(Re=[],xe.push(et),l=0,a=NUTOOL_CLOCK.g_CLKSEL[_t].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_t][l].slicePriorToX(":"));r[0].appendChild(ut("canvas","PCLK2_canvas")),ne=$("#PCLK2_canvas");let e=40+P[0].width+j[0].width;ne[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:"+e+"px; top:"+Le+"px; border: 1px solid black;"),pe(ne[0],et,"",Re)}NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(_t)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:720px; top:"+(Le+Ce+30)+"px;"):NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Lt)?$("#add-tab-3")[0].setAttribute("style","position:absolute; left:450px; top:"+(Le+Ce+30)+"px;"):$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30+40)+"px;")}else if(NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV")){const e=parseInt(document.getElementById("HCLK_div_showRealFreq").style.top,10);Le=e+60,xe.push(Je,Qe,et,tt,nt);[{id:"PCLK0",div:"PCLK0DIV",left:30,top:Le,realFreqTop:Le+240+30,source:["HCLK0"]},{id:"PCLK1",div:"PCLK1DIV",left:30,top:Le+82,realFreqTop:Le+240+60,source:["HCLK0"]},{id:"PCLK2",div:"PCLK2DIV",left:30,top:Le+164,realFreqTop:Le+240+90,source:["HCLK0"]},{id:"PCLK3",div:"PCLK3DIV",left:430,top:Le,realFreqTop:Le+240+30,source:["HCLK0"]},{id:"PCLK4",div:"PCLK4DIV",left:430,top:Le+82,realFreqTop:Le+240+60,source:["HCLK2"]}].forEach((({id:e,div:t,left:n,top:i,realFreqTop:o,source:l})=>{r[0].appendChild(ut("canvas",`${e}_canvas`));const a=$(`#${e}_canvas`);a[0].setAttribute("style",`z-index:1; position:absolute; background-color: #FFFFFF; left:${n}px; top:${i}px; border: 1px solid black;`),pe(a[0],e,t,l),$(`#${e}_div_showRealFreq`).css("top",`${o}px`)})),$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+240+90+40)+"px;")}else{if(xe.push(Ze),Re=[],_=st,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(st))for(l=0,a=NUTOOL_CLOCK.g_CLKSEL[_].length;l<a;l+=1)Re.push(NUTOOL_CLOCK.g_CLKSEL[_][l].slicePriorToX(":"));else Re=[We];r[0].appendChild(ut("canvas","PCLK_canvas")),E=$("#PCLK_canvas"),Le=85+Ce+30+60,E[0].setAttribute("style","z-index:1; position:absolute; background-color: #FFFFFF; left:30px; top:"+Le+"px; border: 1px solid black;"),-1===$t(lt)?pe(E[0],Ze,"",Re):pe(E[0],Ze,lt,Re),$("#add-tab-3")[0].setAttribute("style","position:absolute; top:"+(Le+Ce+30+40)+"px;")}$("#add-tab-3").addClass("css_btn_class"),K.addEvent($("#add-tab-3")[0],"click",Te),$("#tabs").tabs("refresh"),$("#tabs").tabs({active:2}),2!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:1}),$(".hclk-enable").click((function(){currentHtmlFor=this.htmlFor,parent=$(this).parents(".switch"),$(".cb-disable",parent).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",parent).attr("checked",!0),0===V&&(fe(r[0],ft),$("#HCLK_canvas3").show(),$("#PCLK2_canvas").show()),currentHtmlFor=currentHtmlFor.sliceBetweenXandX("radio_","_enable"),$(".ref_"+currentHtmlFor+"_p").css("color","black"),Ot(currentHtmlFor,1),xt()})),$(".hclk-disable").click((function(){currentHtmlFor=this.htmlFor,parent=$(this).parents(".switch"),$(".cb-enable",parent).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",parent).attr("checked",!1),currentHtmlFor=currentHtmlFor.sliceBetweenXandX("radio_","_disable"),$(".ref_"+currentHtmlFor+"_p").css("color","#BC8484"),$("#HCLK_canvas2").remove(),$("#HCLK_canvas3").hide(),$("#PCLK2_canvas").hide(),$("#HCLK2_span_showRealFreq").text(""),$("#PCLK2_span_showRealFreq").text(""),V=0,G=0,Q=0,Ot(currentHtmlFor,0),xt()})),"none"!==$("#clockRegsTree").css("display")?(ge.css("width",n-f-8+"px"),$("#tab-3").css("width",n-f-8+"px")):(ge.css("width",n-8+"px"),$("#tab-3").css("width",n-8+"px")),ge.css("height",o-8+"px"),$("#tab-3").css("height",o-8+"px"),It("HCLK1EN")?$("label[for='radio_HCLK1EN_enable']").click():$("label[for='radio_HCLK1EN_disable']").click(),"single"!==e&&x>$("#tabs").tabs("option","active")+1&&Te(),$("#tab-4")[0]&&$("#add-tab-3").hide()}function je(e){var t,i,l,a,r,s,C,_,d,c,O,p,T,g,S,N,M,E,P,b,v,U,k,R,I,A,m,F,q,B,z,W,V,G,j,Y,Z,J,Q,ee,te,ne,ie,oe,le,ae,re,se,Ce,Le,_e,de,ce,Oe,fe=$("#tabs"),pe=0,ue=0,Te=0,ge=0,Ke=0,he={},Se=[],Ne=[],Me=!1,xe=6,Ee=[],Pe=!1,be="",ve="",Ue="",ke="",Re="",Ie="",me="",$e="",Fe="",He="",ye="HXT".toEquivalent().toString(),we="LXT".toEquivalent().toString(),Xe="PLL".toEquivalent().toString(),De="APLL".toEquivalent().toString(),qe="HIRC".toEquivalent().toString(),Be="HIRC2".toEquivalent().toString(),ze="HIRC48".toEquivalent().toString(),We="LIRC".toEquivalent().toString(),Ve="HCLK".toEquivalent().toString(),je="HCLK_S".toEquivalent().toString(),Ye="PLLCON".toEquivalent().toString(),Ze="APLLCTL".toEquivalent().toString(),Je="OSC10K_EN".toEquivalent().toString(),Qe="OSC22M_EN".toEquivalent().toString(),et="OSC22M2_EN".toEquivalent().toString(),tt="XTL32K_EN".toEquivalent().toString(),nt="XTL12M_EN".toEquivalent().toString(),it="HIRC48EN".toEquivalent().toString();_e=0,de=0,"NUC400"===u?(xe=4,0===H&&(pe=84e6),0===y&&(ue=24e7)):0===u.indexOf("M25")?(ie=4e6,oe=8e6,re=64e6,se=1e8,_e=16e6,de=1e8,0===H&&(pe=48e6)):0===u.indexOf("M2L31")?(le=1e6,ae=8e6,Ce=144e6,Le=5e8,ce=36e6,Oe=144e6,_e=36e6,de=144e6,0===H&&(pe=144e6)):"M2351"===u||"M2354"===u||"M261"===u?(ie=2e6,oe=8e6,re=96e6,se=2e8,_e=24e6,de=144e6,0===H&&(pe=48e6)):"M451"===u||"NUC1262"===u||0===u.indexOf("M030")||0===u.indexOf("M031")?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=2e8,se=5e8,0===H&&(pe=0===u.indexOf("M030")||0===u.indexOf("M031")?96e6:"NUC1262"===u?144e6:72e6)):0===u.indexOf("M460")?(xe=2,ie=4e6,oe=8e6,re=2e8,se=5e8,_e=5e7,de=5e8,le=1e6,ae=8e6,Ce=2e8,Le=5e8,ce=5e7,Oe=5e8,0===H&&(pe=192e6),0===D&&(ge=18e7)):0===u.indexOf("M480")?(ie=4e6,oe=8e6,re=2e8,se=5e8,_e=5e7,de=5e8,0===H&&(pe=72e6)):0===u.indexOf("M55M1")?(xe=2,ie=4e6,oe=8e6,re=1e8,se=5e8,_e=25e6,de=5e8,ce=25e6,Oe=5e8,0===H&&(pe=144e6),0===X&&(Te=144e6)):0===u.indexOf("KM1M0DF")?(te=4e6,ne=2e7,re=12e7,se=192e6,_e=0,de=4e7,0===H&&(pe=4e7)):0===u.indexOf("KM1M4")?(te=4e6,ne=2e7,re=12e7,se=24e7,_e=6e7,de=12e7,0===H&&(pe=1e8)):0===u.indexOf("KM1M7")?(te=4e6,ne=2e7,re=12e7,se=24e7,_e=6e7,de=16e7,0===H&&(pe=1e8)):"NUC100AN"===u||"NUC100BN"===u||"NUC100CN"===u||"M051AN"===u||"M0519"===u||"NM1500"===u?(te=32e5,ne=15e7,ie=8e5,oe=8e6,re=1e8,se=2e8,0===H&&(pe=48e6)):"NUC100DN"===u||"NUC131"===u||"NUC1311"===u||"M0518"===u||"NUC200AN"===u||"NUC200AE"===u||"NUC2201"===u||"NUC029xDE"===u||"NUC029xEE"===u?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=2e8,0===H&&(pe=48e6)):"NUC122AN"===u?(te=32e5,ne=15e7,ie=8e5,oe=75e5,re=1e8,se=5e8,0===H&&(pe=48e6)):"NUC121AE"===u?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=2e8,se=5e8,0===H&&(pe=96e6)):"NUC123AN_AE"===u||"M0564"===u||0===u.indexOf("NUC126")||"NUC029xGE"===u?(te=4e6,ne=24e6,ie=8e5,oe=8e6,re=1e8,se=2e8,0===H&&(pe=48e6)):"MINI58"===u?(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===H&&(pe=5e7)):"NANO100AN"===u?(te=0,ne=0,ie=0,oe=0,_e=re=0,de=se=12e7,0===H&&(pe=96e6)):"NANO100BN"===u?(te=0,ne=0,ie=0,oe=0,_e=re=48e6,de=se=96e6,0===H&&(pe=96e6)):"NANO112"===u?(te=8e5,ne=2e6,ie=0,oe=0,_e=re=16e6,de=se=32e6,0===H&&(pe=16e6)):"NANO103"===u?(te=8e5,ne=2e6,ie=0,oe=0,_e=re=16e6,de=se=36e6,0===H&&(pe=16e6)):"NUC505"===u?(xe=2,te=0,ne=0,ie=5e6,oe=8e7,re=3e8,se=1e9,le=25e5,ae=8e7,Ce=2e8,Le=5e8,0===H&&(pe=24e7),0===X&&(Te=24e7)):(te=4e6,ne=24e6,ie=8e5,oe=75e5,re=1e8,se=2e8,0===H&&(pe=48e6)),Z=function(e,n,i,o,l,r,s){if(a=s?r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+"  &#177</p><select id ='"+i+"_inaccuracy_select'></select><br /></div>":r?"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>":"<div id='"+n+"_div'><br /><p class='field switch div_clock_composite'><input type='radio' id='radio_"+n+"_enable' name='field'/><input type='radio' id='radio_"+n+"_disable' name='field'/><label for='radio_"+n+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+n+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = '"+i+"_"+n+"_p div_clock_composite'>"+i+": </p><input id='"+n+"_input' title='Input the expected value' type='text' value='"+o+"' class = 'div_clock_composite'/><p class = '"+i+"_"+n+"_p div_clock_composite'>"+l+" / PLL480M: 480MHz</p><br /></div>",e.append(a),a="<div id='"+i+"_div_showRealFreq'><br /><p class = 'div_clock_composite'><span class=specificRealOutput_before_span>The clock of </span>"+i+"<span class=realOutput_after_span>: </span><span id='"+i+"_span_showRealFreq'></span></p></div><br /><br />",e.append(a),s){for(p=$("#"+i+"_inaccuracy_select"),t=0;t<11;t+=1){he=window.document.createElement("option");try{he.innerHTML=he.value=t+"%",he.id=i+"_inaccuracy_"+t+"%"}catch(e){}p[0].appendChild(he)}p.val("0%"),p.on("change",(function(){i===Xe?J($("#PD_input").val(),!1,p.val(),Ye):i===De?J($("#APD_input").val(),!1,p.val(),Ze):"PLLFN"===i&&J($("#PDFN_input").val(),!1,p.val(),"PLLFNCTL0")}))}-1!==L.indexOf("Simplified")?($("#pll_clocks_span").text(Xe),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的时脉频率: "),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#pll_clocks_span").text(Xe),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".specificRealOutput_before_span").text(""),$(".realOutput_after_span").text("的時脈頻率: "),$("[title]").prop("title","輸入期望值")):($("#pll_clocks_span").text(Xe),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".specificRealOutput_before_span").text("The clock of "),$(".realOutput_after_span").text(": "),$("[title]").prop("title","Input the expected value")),$("#"+i+"_span_showRealFreq").css("color","#2E2EFE"),$("#"+n+"_input").width(55),$("#"+n+"_input").height(20),$("#PLL2CKEN_input").width(78)},J=function(e,n,o,l){var a,r,s,C="General",_=null;if(void 0!==o){for(l===Ye?$("#PLLCTLtable").dataTable().fnDestroy():l===Ze?$("#APLLCTLtable").dataTable().fnDestroy():"PLLFNCTL0"===l&&$("#PLLFNCTLtable").dataTable().fnDestroy(),o=parseInt(o.slice(0,o.length-1),10),e=1e6*parseFloat(e,10),Se=[],0===u.indexOf("KM1M7CF")?It(nt)?Se.push(ye):Se.push(qe):0===u.indexOf("KM1M0DF")?(It(nt)&&Se.push(ye),It(Qe)&&Se.push(qe)):((It(Qe)||It("HIRC1EN"))&&-1===u.indexOf("KM1M7")&&-1===u.indexOf("KM1M4")&&("NUC121AE"===u||"NUC1262"===u?Se.push(qe+"/2"):0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")?Se.push(qe+"/4"):Se.push(qe)),It(it)&&0===u.indexOf("M55M1")&&Se.push(ze+"/4"),!It("MIRCEN")||0!==u.indexOf("M25")&&"NANO103"!==u||Se.push("MIRC"),It(nt)&&Se.push(ye)),C="General",t=0,i=NUTOOL_CLOCK.g_register_map[l].length;t<i;t+=1){if("FB_DV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO100AN_BN";break}if("PLL_MLP:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NANO112_103";break}if("PLLREMAP:20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC400";break}if("FBDIV:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(PLL)";break}if("FRAC:31-20"===NUTOOL_CLOCK.g_register_map[l][t]){C="NUC505(APLL)";break}if("FBDIV:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="M251";break}if("MUL_PLL:7-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M0DF";break}if("PLLMUL:6-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M4";break}if("PLLMUL:5-0"===NUTOOL_CLOCK.g_register_map[l][t]){C="KM1M7";break}if("STBSEL:23"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLL)";break}if("FRDIV:27-16"===NUTOOL_CLOCK.g_register_map[l][t]){C="M460(PLLFN)";break}if("PLLFEN:31"===NUTOOL_CLOCK.g_register_map[l][t]){C="M55M1";break}}if(0!==u.indexOf("M480")&&"M2351"!==u&&"M2354"!==u&&"M261"!==u||(C="M480"),Ne=[],n)if(Pe=!1,I=h[l]&Math.pow(2,16)-1,R=1048576&h[l]?1:0,1===$t("PLL_SRC"))A="NUC121AE"===u||"NUC1262"===u?qe+"/2":0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")?qe+"/4":qe;else if(2===$t("PLL_SRC"))A="MIRC";else if(3===$t("PLL_SRC"))A="MIRC";else if("M460(PLL)"===C&&1===$t("PLL_SRC"))A=qe;else if("M460(PLLFN)"===C&&1===$t("PLLFNSRC"))A=qe;else if("KM1M0DF"===C&&0===$t("PLLISEL"))A=qe;else if("M55M1"===C)switch($t(l.substring(0,5)+"SRC")){case 0:A=ye;break;case 1:A=qe;break;case 2:A="HIRC48M/4"}else A=ye;else Pe=!0;if("NANO100AN_BN"===C)for(t=0,i=Se.length;t<i;t+=1)for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,6);N<k;N+=1)for(S=0,U=Math.pow(2,2);S<U;S+=1)for(g=0,v=Math.pow(2,1);g<v;g+=1)P=g+1,(q=m*(N+32)/Math.pow(2,S+1)/P)>=re&&q<=se&&(B=Math.abs(q-e)/e*100)<=o&&((g<<12)+(S<<8)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((g<<12)+(S<<8)+N,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((g<<12)+(S<<8)+N,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"));else if("NANO112_103"===C)for(t=0,i=Se.length;t<i;t+=1)for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:"MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),0!==NUTOOL_CLOCK.g_MIRCfrequency?(a=6,r=36):(a=4,r=32),N=1,k=r;N<=k;N+=1)for(S=0,U=Math.pow(2,a);S<U;S+=1)q=(F=m/(S+1))*N,F>=te&&F<=ne&&q>=re&&q<=se&&(B=Math.abs(q-e)/e*100)<=o&&((S<<8)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((S<<8)+N,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((S<<8)+N,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"));else if("NUC400"===C)for(t=0,i=Se.length;t<i;t+=1){if(s=Se[t],(m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()))>32e5&&m<15e7)for(T=0,b=Math.pow(2,1);T<b;T+=1)for(N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}Me=!1,0===T?m/2/(S+2)>8e5&&m/2/(S+2)<8e6&&m*(N+2)/(S+2)>1e8&&m*(N+2)/(S+2)<2e8&&(Me=!0):m/2/(S+2)>8e5&&m/2/(S+2)<8e6&&m*(N+2)/(S+2)>2e8&&m*(N+2)/(S+2)<5e8&&(Me=!0),Me&&(q=m*(N+2)/(S+2)/P,(B=Math.abs(q-e)/e*100)<=o&&(T===R&&(g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]=T,Ne[0][3]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][4]=s,Ne[0][5]=(q/1e6).toFixed(4)+"MHz",Ne[0][6]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]=T,Ne[Ne.length-1][3]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][4]=s,Ne[Ne.length-1][5]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][6]=B.toFixed(4)+"%")))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xX",Ne[0][3]="0xXXXX",Ne[0][4]=s,Ne[0][5]=(q/1e6).toFixed(4)+"MHz",Ne[0][6]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xX",Ne[Ne.length-1][3]="0xXXXX",Ne[Ne.length-1][4]=s,Ne[Ne.length-1][5]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][6]=B.toFixed(4)+"%"))}else if("NUC505(PLL)"===C){for(s=Se[0],m=1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,7);N<k;N+=1)for(S=0,U=Math.pow(2,6);S<U;S+=1)for(g=0,v=Math.pow(2,3);g<v;g+=1)P=g+1,m/(S+1)>=ie&&m/(S+1)<=oe&&m*(N+1)/(S+1)>=re&&m*(N+1)/(S+1)<=se&&(q=m*(N+1)/(S+1)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<13)+(S<<7)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<13)+(S<<7)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<13)+(S<<7)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%")));q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else if("NUC505(APLL)"===C)for(s=Se[0],m=1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,7);N<k;N+=1)for(S=0,U=Math.pow(2,6);S<U;S+=1)for(g=0,v=Math.pow(2,3);g<v;g+=1)P=g+1,m/(S+1)>=le&&m/(S+1)<=ae&&m*(N+1)/(S+1)>=Ce&&m*(N+1)/(S+1)<=Le&&(q=m*(N+1)/(S+1)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<13)+(N<<6)+S===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((g<<13)+(N<<6)+S,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((g<<13)+(N<<6)+S,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%")));else if("M460(PLL)"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}m/(S+1)>=ie&&m/(S+1)<=oe&&2*m*(N+2)/(S+1)>=re&&2*m*(N+2)/(S+1)<=se&&(q=2*m*(N+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else if("M460(PLLFN)"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}m/(S+1)>=le&&m/(S+1)<=ae&&2*m*(N+2)/(S+1)>=Ce&&2*m*(N+2)/(S+1)<=Le&&N+2>=12&&N+2<=255&&(q=2*m*(N+2)/(S+1)/P)>=ce&&q<=Oe&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else if("M480"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}m/(S+1)>=ie&&m/(S+1)<=oe&&2*m*(N+2)/(S+1)>=re&&2*m*(N+2)/(S+1)<=se&&(q=2*m*(N+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else if("KM1M0DF"===C)for(t=0,i=Se.length;t<i;t+=1)(s=Se[t])===qe?m=NUTOOL_CLOCK.g_HIRCfrequency:s===ye&&(m=1e6*parseFloat($("#"+nt+"_input").val())),[0,32,40,64].forEach((t=>{for(S=0,U=Math.pow(2,3);S<U;S+=1)for(g=0,v=Math.pow(2,1);g<v;g+=1)if(q=(F=m*(0===t?1:t)/(M=S<4?S+1:5))/(P=0===g?4:6),F>=re&&F<=se&&q<=de){B=Math.abs(q-e)/e*100;let n=$t("PLLISEL");B<=o&&((g<<12)+(n<<11)+(S<<8)+t===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((g<<12)+(n<<11)+(S<<8)+t,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((g<<12)+(n<<11)+(S<<8)+t,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"))}}));else if("KM1M4"===C)for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===ye&&(m=1e6*parseFloat($("#"+nt+"_input").val())),N=10,k=81;N<k;N+=1)for(S=0,U=Math.pow(2,2);S<U;S+=1)q=(F=m*N/(2*(M=0===S?1:S)))/2,1!==S&&m/M>=te&&m/M<=ne&&F>=re&&F<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((S<<8)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((S<<8)+N,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((S<<8)+N,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"));else if("KM1M7"===C)if("PLLIDIV:9-8"===NUTOOL_CLOCK.g_register_map.CHIPPLLCTR2[0])for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===ye&&(m=1e6*parseFloat($("#"+nt+"_input").val())),N=10,k=Math.pow(2,6);N<k;N+=1)for(S=0,U=Math.pow(2,2);S<U;S+=1)for(g=0,v=Math.pow(2,1);g<v;g+=1)q=(F=m*N/(M=0===S?1:S))/(P=g+1),1!==S&&m/M>=te&&m/M<=ne&&F>=re&&F<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<6)+(S<<8)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((g<<6)+(S<<8)+N,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((g<<6)+(S<<8)+N,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"));else for(t=0,i=Se.length;t<i;t+=1)for((s=Se[t])===qe?m=NUTOOL_CLOCK.g_HIRCfrequency:s===ye&&(m=1e6*parseFloat($("#"+nt+"_input").val())),N=10,k=Math.pow(2,6);N<k;N+=1)for(S=0,U=Math.pow(2,1);S<U;S+=1)for(g=0,v=Math.pow(2,1);g<v;g+=1)q=(F=m*N/(M=0===S?1:1===S?2:S))/(P=g+1),m/M>=te&&m/M<=ne&&F>=re&&F<=se&&q>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<6)+(S<<8)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0x"+gt((g<<6)+(S<<8)+N,4).toUpperCase(),Ne[0][2]=s,Ne[0][3]=(q/1e6).toFixed(4)+"MHz",Ne[0][4]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0x"+gt((g<<6)+(S<<8)+N,4).toUpperCase(),Ne[Ne.length-1][2]=s,Ne[Ne.length-1][3]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][4]=B.toFixed(4)+"%"));else if("M251"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],m="MIRC"===s?NUTOOL_CLOCK.g_MIRCfrequency:s===qe+"/4"?NUTOOL_CLOCK.g_HIRCfrequency/4:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,6);N<k;N+=1)for(S=0,U=Math.pow(2,4);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:P=2;break;case 2:case 3:P=4}E=0!==N?N:64,m/(M=0!==S?S:16)>=ie&&m/M<=oe&&m*E/M>=re&&m*E/M<=se&&(q=m*E/M/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else if("M55M1"===C)for(t=0,i=Se.length;t<i;t+=1){for(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:"HIRC48M/4"===s?NUTOOL_CLOCK.g_HIRC48frequency/4:1e6*parseFloat($("#"+nt+"_input").val()),N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}m/(S+1)>=ie&&m/(S+1)<=oe&&2*m*(N+2)/(S+1)>=re&&2*m*(N+2)/(S+1)<=se&&N+2>=12&&N+2<=255&&(q=2*m*(N+2)/(S+1)/P)>=_e&&q<=de&&(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}else for(t=0,i=Se.length;t<i;t+=1){if(s=Se[t],m=s===qe?NUTOOL_CLOCK.g_HIRCfrequency:0===s.indexOf(qe)&&"/"===s.charAt(4)?NUTOOL_CLOCK.g_HIRCfrequency/parseInt(s.sliceAfterX("/"),10):1e6*parseFloat($("#"+nt+"_input").val()),console.log(`buildPLLCTLtable ${s}: ${m}`),m>te&&m<ne)for(N=0,k=Math.pow(2,9);N<k;N+=1)for(S=0,U=Math.pow(2,5);S<U;S+=1)for(g=0,v=Math.pow(2,2);g<v;g+=1){switch(g){case 0:P=1;break;case 1:case 2:P=2;break;case 3:P=4}m/2/(S+2)>ie&&m/2/(S+2)<oe&&m*(N+2)/(S+2)>re&&m*(N+2)/(S+2)<se&&(q=m*(N+2)/(S+2)/P,(B=Math.abs(q-e)/e*100)<=o&&((g<<14)+(S<<9)+N===I&&s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="0",Ne[0][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="0",Ne[Ne.length-1][2]="0x"+gt((g<<14)+(S<<9)+N,4).toUpperCase(),Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%")))}q=m,(B=Math.abs(q-e)/e*100)<=o&&(s===A?(Ne.unshift([]),Ne[0][0]="",Ne[0][1]="1",Ne[0][2]="0xXXXX",Ne[0][3]=s,Ne[0][4]=(q/1e6).toFixed(4)+"MHz",Ne[0][5]=B.toFixed(4)+"%"):(Ne[Ne.length]=[],Ne[Ne.length-1][0]="",Ne[Ne.length-1][1]="1",Ne[Ne.length-1][2]="0xXXXX",Ne[Ne.length-1][3]=s,Ne[Ne.length-1][4]=(q/1e6).toFixed(4)+"MHz",Ne[Ne.length-1][5]=B.toFixed(4)+"%"))}if(l===Ye?$("#PLL_tableWrapper")[0]||$("<span id='PLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLCTLtable'></table></span>'").insertAfter($("#PD_div")):l===Ze?$("#APLL_tableWrapper")[0]||$("<span id='APLL_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='APLLCTLtable'></table></span>'").insertAfter($("#APD_div")):"PLLFNCTL0"===l&&($("#PLLFN_tableWrapper")[0]||$("<span id='PLLFN_tableWrapper'><table cellpadding='0' cellspacing='0' border='0' class='display' id='PLLFNCTLtable'></table></span>'").insertAfter($("#PDFN_div"))),-1!==L.indexOf("Simplified")?(be="输入",ve="实际输出",Ue="误差率",ke="没有可用的候选者。",Re="列出从_START_到_END_。共有_TOTAL_候选者。",Ie="列出从0到0。共0候选者。",me="前一页",$e="下一页",Fe="搜寻:",He="点击使得向上排序"):-1!==L.indexOf("Traditional")?(be="輸入",ve="實際輸出",Ue="誤差率",ke="沒有可用的候選者。",Re="列出從_START_到_END_。共有_TOTAL_候選者。",Ie="列出從0到0。共0候選者。",me="前一頁",$e="下一頁",Fe="搜尋:",He="點擊使得向上排序"):(be="Input",ve="Real Output",Ue="Inaccuracy",ke="No candidate is available.",Re="Showing _START_ to _END_ of _TOTAL_ candidates",Ie="Showing 0 to 0 of 0 candidates",me="Previous",$e="Next",Fe="Search:",He="Click to sort ascending"),"NANO100AN_BN"===C||"NANO112_103"===C||"KM1M0DF"===C||"KM1M4"===C||"KM1M7"===C)_=$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:Ne,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:ve},{sTitle:Ue}],oLanguage:{sZeroRecords:ke,sInfo:Re,sInfoEmpty:Ie,oPaginate:{sPrevious:me,sNext:$e},sSearch:Fe,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});else if("NUC505(APLL)"===C)_=$("#APLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[4,"asc"]],pagingType:"simple",aaData:Ne,aoColumns:[{sTitle:""},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:ve},{sTitle:Ue}],oLanguage:{sZeroRecords:ke,sInfo:Re,sInfoEmpty:Ie,oPaginate:{sPrevious:me,sNext:$e},sSearch:Fe,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});else if("M460(PLLFN)"===C||"M55M1"===C&&0===l.indexOf("APLL1")){var d=0===u.indexOf("M2L31")?"PLLCTLtable":"M460(PLLFN)"===C?"PLLFNCTLtable":"APLLCTLtable";_=$("#"+d).dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:Ne,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:ve},{sTitle:Ue}],oLanguage:{sZeroRecords:ke,sInfo:Re,sInfoEmpty:Ie,oPaginate:{sPrevious:me,sNext:$e},sSearch:Fe,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}})}else _="NUC400"===C?$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:4,aaSorting:[[6,"asc"]],pagingType:"simple",aaData:Ne,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:"PLLREMAP"},{sTitle:"PLLCTL[15:0]"},{sTitle:be},{sTitle:ve},{sTitle:Ue}],oLanguage:{sZeroRecords:ke,sInfo:Re,sInfoEmpty:Ie,oPaginate:{sPrevious:me,sNext:$e},sSearch:Fe,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}}):$("#PLLCTLtable").dataTable({bPaginate:!0,bLengthChange:!1,bFilter:!1,bSort:Pe,bInfo:!0,bAutoWidth:!0,iDisplayLength:xe,aaSorting:[[5,"asc"]],pagingType:"simple",aaData:Ne,aoColumns:[{sTitle:""},{sTitle:"BP"},{sTitle:l+"[15:0]"},{sTitle:be},{sTitle:ve},{sTitle:Ue}],oLanguage:{sZeroRecords:ke,sInfo:Re,sInfoEmpty:Ie,oPaginate:{sPrevious:me,sNext:$e},sSearch:Fe,sInfoFiltered:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{className:"dt-center",targets:"_all"}],select:{style:"os",selector:"td:first-child"}});let c="";l===Ye?($("#PLLCTLtable tbody").delegate("tr td:first-child","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)if($(Ee[t]).hasClass("row_selected")){if("NANO100AN_BN"===C||"NANO112_103"===C)V=Ee[t].childNodes[1].textContent,G=Ee[t].childNodes[2].textContent,H=Ee[t].childNodes[3].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),j=393216,Y=h[l]&j,Y=h[l]-Y,h[l]=G===qe?Y+(1<<17)>>>0:"MIRC"===G?Y+(2<<17)>>>0:Y;else if("KM1M0DF"===C){if(V=Ee[t].childNodes[1].textContent,H=Ee[t].childNodes[3].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V){Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16),Y=h.PLLCTR1&Math.pow(2,16)-1,Y=h.PLLCTR1-Y,Ot("PLLSTART","00000000"===parseInt(V,16).toString(2).slice(-8)?0:1)}}else"KM1M4"===C||"KM1M7"===C?(V=Ee[t].childNodes[1].textContent,H=Ee[t].childNodes[3].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16))):"NUC400"===C?(W=Ee[t].childNodes[1].textContent,z=Ee[t].childNodes[2].textContent,V=Ee[t].childNodes[3].textContent,G=Ee[t].childNodes[4].textContent,H=Ee[t].childNodes[5].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xX"!==z&&(j=1048576,Y=h.PLLCTL&j,Y=h.PLLCTL-Y,z=(z=parseInt(z,10))<<20>>>0,h.PLLCTL=Y+z),"0xXXXX"!==V&&(Y=h.PLLCTL&Math.pow(2,16)-1,Y=h.PLLCTL-Y,h.PLLCTL=Y+parseInt(V.slice(2),16)),j=524288,Y=h.PLLCTL&j,Y=h.PLLCTL-Y,h.PLLCTL=G===qe?Y+(1<<19)>>>0:Y,j=131072,Y=h.PLLCTL&j,Y=h.PLLCTL-Y,h.PLLCTL="1"===W?Y+(1<<17)>>>0:Y,ct("PLLCTL")):"NUC505(PLL)"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,H=Ee[t].childNodes[4].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),j=65536,Y=h[l]&j,Y=h[l]-Y,h[l]="1"===W?Y+65536>>>0:Y):"M251"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,H=Ee[t].childNodes[4].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),j=1572864,Y=h[l]&j,Y=h[l]-Y,0===G.indexOf(qe)?h[l]=Y+(1<<19)>>>0:0===G.indexOf("MIRC")?h[l]=Y+(3<<19)>>>0:h[l]=Y,j=131072,Y=h[l]&j,Y=h[l]-Y,h[l]="1"===W?Y+(1<<17)>>>0:Y):"M55M1"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,H=Ee[t].childNodes[4].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),c=l.substring(0,5)+"SEL",Y=3&h[c],Y=h[c]-Y,0===G.indexOf(ze)?h[c]=Y+2>>>0:0===G.indexOf(qe)?h[c]=Y+1>>>0:h[c]=Y,j=1<<30>>>0,Y=h[l]&j,Y=h[l]-Y,h[l]="1"===W?Y+(1<<30)>>>0:Y,ct(c)):(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,H=Ee[t].childNodes[4].textContent,H=1e6*parseFloat(H.slicePriorToX("MHz")),c="M460(PLLFN)"===C?"PLLCTL":l,"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),j=524288,Y=h[c]&j,Y=h[c]-Y,0===G.indexOf(qe)?h[c]=Y+(1<<19)>>>0:h[c]=Y,j=131072,Y=h[c]&j,Y=h[c]-Y,h[c]="1"===W?Y+(1<<17)>>>0:Y,ct(c));ct(l),$("#"+Xe+"_span_showRealFreq").text(H.toHzString()),$("label[for='radio_PD_enable']").click()}})),H=0,0!==Ne.length&&$("#PLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLCTLtable thead").each((function(){this.setAttribute("title",He)}))):l===Ze?($("#APLLCTLtable tbody").delegate("tr","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),c=l.substring(0,5)+"SEL",t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&("M55M1"===C?(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,X=Ee[t].childNodes[4].textContent,X=1e6*parseFloat(X.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),Y=3&h[c],Y=h[c]-Y,0===G.indexOf(ze)?h[c]=Y+2>>>0:0===G.indexOf(qe)?h[c]=Y+1>>>0:h[c]=Y,j=1<<30>>>0,Y=h[l]&j,Y=h[l]-Y,h[l]="1"===W?Y+(1<<30)>>>0:Y,ct(c)):(V=Ee[t].childNodes[1].textContent,G=Ee[t].childNodes[2].textContent,X=Ee[t].childNodes[3].textContent,X=1e6*parseFloat(X.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16))),ct(l),$("#"+De+"_span_showRealFreq").text(X.toHzString()),$("label[for='radio_APD_enable']").click())})),X=0,0!==Ne.length&&$("#APLLCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#APLLCTLtable thead").each((function(){this.setAttribute("title",He)}))):"PLLFNCTL0"===l&&($("#PLLFNCTLtable tbody").delegate("tr","click",(function(e){for($(_.fnSettings().aoData).each((function(){$(this.nTr).removeClass("row_selected")})),$(e.target.parentNode).addClass("row_selected"),Ee=_.fnGetNodes(),t=0,i=Ee.length;t<i;t++)$(Ee[t]).hasClass("row_selected")&&(W=Ee[t].childNodes[1].textContent,V=Ee[t].childNodes[2].textContent,G=Ee[t].childNodes[3].textContent,D=Ee[t].childNodes[4].textContent,D=1e6*parseFloat(D.slicePriorToX("MHz")),"0xXXXX"!==V&&(Y=h[l]&Math.pow(2,16)-1,Y=h[l]-Y,h[l]=Y+parseInt(V.slice(2),16)),j=1<<31>>>0,Y=Math.abs(h.PLLFNCTL1&j),Y=h.PLLFNCTL1-Y,0===G.indexOf(qe)?h.PLLFNCTL1=Y+(1<<31)>>>0:h.PLLFNCTL1=Y,j=536870912,Y=h.PLLFNCTL1&j,Y=h.PLLFNCTL1-Y,h.PLLFNCTL1="1"===W?Y+(1<<29)>>>0:Y,ct(),$("#PLLFN_span_showRealFreq").text(D.toHzString()),$("label[for='radio_PDFN_enable']").click())})),D=0,0!==Ne.length&&$("#PLLFNCTLtable tbody tr:eq(0) td:eq(0)").click(),$("#PLLFNCTLtable thead").each((function(){this.setAttribute("title",He)}))),_.$("td").tooltip({delay:0,track:!0,fade:0})}},ee=function(e){!It(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10)?($("#PLL2_span_showRealFreq").text(""),y=0,w=0):(e>240?Ke=240:e<0?Ke=0:(C=Math.floor(240/e-1),_=Math.ceil(240/e-1),d=240/(C+1),c=240/(_+1),Math.abs(e-d)>Math.abs(e-c)?(O=_,Ke=c):(O=C,Ke=d)),Ke=1e6*parseFloat(Ke),$("#PLL2_span_showRealFreq").text(Ke.toHzString()),Ot("PLL2DIV",O),y=1e6*parseFloat($("#PLL2_span_showRealFreq").text()),w=48e7)},Q=function(){var e,t,n=!1;if(Ae)Ae=!1;else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&It("PLL2CKEN")&&It(nt)&&12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10))Ut("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous.");else if(void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&It("PLL2CKEN")&&!It(nt))Ut("请启用HXT，否则PLL2及PLL480M将不能工作正常。","請啟用HXT，否則PLL2及PLL480M將不能工作正常。","Please enable HXT, or PLL2 and PLL480M cannot work properly.");else if(It(Je)||It(Qe)||It("HIRC1EN")||It(et)||It("HIRC2EN")||It(it)||It("MIRCEN")||It("MIRC1P2MEN")||It(nt)||It(tt)||It("LIRC32KEN")||It("PLL2CKEN")){if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(je))for(e=0,t=NUTOOL_CLOCK.g_CLKSEL[je].length;e<t;e++){switch(NUTOOL_CLOCK.g_CLKSEL[je][e].slicePriorToX(":").slicePriorToX("/").toString()){case ye:It(nt)&&(n=!0);break;case we:(It(tt)||It("LIRC32KEN"))&&(n=!0);break;case Xe:(!It("PD")||It("PLLEN")||!It("NPLLEN")||It("APLL0EN"))&&H>0&&(n=!0);break;case"PLL2":It("PLL2CKEN")&&y>0&&(n=!0);break;case qe:(It(Qe)||It("HIRC1EN"))&&(n=!0);break;case Be:(It(et)||It("HIRC2EN"))&&(n=!0);break;case We:case"LIRC":It(Je)&&(n=!0);break;default:case"MIRC":It("MIRCEN")&&(n=!0);break;case"MIRC1P2M":It("MIRC1P2MEN")&&(n=!0);break;case"HIRC48":It(it)&&(n=!0)}if(n)break}n?"none"!==$("#add-tab-2").css("display")&&($("#tab-3")[0]||Ge(),$("#add-tab-2").hide(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1)):-1!==L.indexOf("Simplified")?Rt("请至少为"+Ve+"启用一个时脉源。"):-1!==L.indexOf("Traditional")?Rt("請至少為"+Ve+"啟用一個時脈源。"):Rt("Please enable at least one clock source for "+Ve+".")}else-1!==L.indexOf("Simplified")?Rt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?Rt("請至少啟用一個時脈源。"):Rt("Please enable at least one clock source.")},pt(),$("#tab-3")[0]?($("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+Xe+"</span></a></li>").insertBefore("#li-3"),$("<div id='tab-2'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-2'><a href='#tab-2'><span id=pll_clocks_span>"+Xe+"</span></a></li>"),fe.append("<div id='tab-2'></div>")),l=$("#tab-2"),Ot("PD",1),Ot("OE",1),Ot("PLLEN",0),Ot("NPLLEN",1),Ot("APLL0EN",0),Z(l,"PD",Xe,"",0!==_e&&0!==de?"MHz ("+_e.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&(Ot("PLL2CKEN",0),Z(l,"PLL2CKEN","PLL2","","MHz",!1,!1),$("#PD_div")[0]&&$("#PLL2CKEN_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&(Ot("APLL1EN",0),Z(l,"APD","APLL1","","MHz ("+ce.toHzString().slicePriorToX("MHz")+"~"+Oe.toHzString()+")",!1,!0),$("#PD_div")[0]&&$("#APD_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&(Ot("APD",0),Z(l,"APD","APLL","","MHz",!1,!0),$("#PD_div")[0]&&$("#APD_div").css("border-top","8px solid black")),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL1&&(Ot("PDFN",1),Ot("OEFN",1),Z(l,"PDFN","PLLFN","",0!==ce&&0!==Oe?"MHz ("+_e.toHzString().slicePriorToX("MHz")+"~"+de.toHzString()+")":"MHz",!1,!0),$("#PD_div")[0]&&$("#PDFN_div").css("border-top","8px solid black")),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ut("button","add-tab-2","下一步")):l[0].appendChild(ut("button","add-tab-2","Next Step")),$("#add-tab-2").addClass("css_btn_class"),K.addEvent($("#add-tab-2")[0],"click",Q),fe.tabs("refresh"),fe.tabs({active:1}),"none"!==$("#clockRegsTree").css("display")?fe.css("width",n-f-8+"px"):fe.css("width",n-8+"px"),fe.css("height",o-8+"px"),$("#tab-2").css("height",o-8+"px"),$(".cb-enable").click((function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),-1!==s.indexOf("PLL2CKEN")?(Ot("PLL2CKEN",1),0!==y||!It(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10)?(!It(nt)||12!==parseInt($("#"+nt+"_input").val(),10)&&24!==parseInt($("#"+nt+"_input").val(),10))&&(Ut("关於PLL2，可接受的HXT频率为12MHz和24MHz。否则，实际输出的PLL2频率会是含糊不清的。","關於PLL2，可接受的HXT頻率為12MHz和24MHz。否則，實際輸出的PLL2頻率會是含糊不清的。","For PLL2, the acceptable frequencies of HXT are 12MHz and 24MHz, or the clock of PLL2 would be ambiguous."),$("#PLL2CKEN_input").change()):$("#PLL2CKEN_input").change()):-1!==s.indexOf("APD")?(0===X&&$("#APD_input").change(),Ot("APLL1EN",1),Ot("APD",0)):-1!==s.indexOf("PDFN")?(0===D&&$("#PDFN_input").change(),Ot("PDFN",0),Ot("OEFN",0)):(0===u.indexOf("KM1M7CF")?It(nt)?Ot("PLL_SRC",1):Ot("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&(It(nt)?Ot("PLLISEL",1):Ot("PLLISEL",0)),0===H&&$("#PD_input").change(),Ot("PD",0),Ot("OE",0),Ot("PLLEN",1),Ot("NPLLEN",0),Ot("APLL0EN",1)),-1!==(s=s.sliceBetweenXandX("radio_","_enable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","black"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","black"):$(".PLL_"+s+"_p").css("color","black"),xt())})),$(".cb-disable").click((function(){-1===(s=this.htmlFor).indexOf("PD")&&-1===s.indexOf("PLL2CKEN")||(r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),-1!==s.indexOf("PLL2CKEN")?(Ot("PLL2CKEN",0),y=0,w=0,$("#PLL2_span_showRealFreq").text("")):-1!==s.indexOf("APD")?(Ot("APLL1EN",0),Ot("APD",1),$("#APLLCTLtable").dataTable().fnDestroy(),$("#APLL_tableWrapper").remove(),$("#"+De+"_span_showRealFreq").text(""),X=0):-1!==s.indexOf("PDFN")?(Ot("PDFN",1),Ot("OEFN",1),$("#PLLFNCTLtable").dataTable().fnDestroy(),$("#PLLFN_tableWrapper").remove(),$("#PLLFN_span_showRealFreq").text(""),D=0):(Ot("PD",1),Ot("OE",1),Ot("APLL0EN",0),null!=h.CHIPPLLCTR2&&(h.CHIPPLLCTR2=NUTOOL_CLOCK.g_register_map_default.CHIPPLLCTR2),Ot("PLLEN",0),0===u.indexOf("KM1M7CF")?Ot("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&(Ot("PLLSTART",0),Ot("NPLLEN",1),null!=h.PLLCTR2&&(h.PLLCTR2=NUTOOL_CLOCK.g_register_map_default.PLLCTR2),It(nt)?Ot("PLLISEL",1):Ot("PLLISEL",0)),$("#PLLCTLtable").dataTable().fnDestroy(),$("#PLL_tableWrapper").remove(),$("#"+Xe+"_span_showRealFreq").text(""),H=0),-1!==(s=s.sliceBetweenXandX("radio_","_disable")).indexOf("APD")?$(".APLL_"+s+"_p").css("color","#BC8484"):-1!==s.indexOf("PDFN")?$(".PLLFN_"+s+"_p").css("color","#BC8484"):$(".PLL_"+s+"_p").css("color","#BC8484"),xt())})),$("#PD_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#"+Xe+"_inaccuracy_select").val(),Ye):-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again.")})),$("#PLL2CKEN_input").change((function(){void 0!==this.value&&""!==this.value&&parseInt(this.value,10)>0&&/^\d*\.?\d*$/.test(this.value)?(ee(this.value),""!==$("#PLL2_span_showRealFreq").text()?$("label[for='radio_PLL2CKEN_enable']").click():$("label[for='radio_PLL2CKEN_disable']").click()):($("#PLL2CKEN_input").val(""),$("label[for='radio_PLL2CKEN_disable']").click(),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again."))})),$("#APD_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#"+De+"_inaccuracy_select").val(),Ze):-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again.")})),$("#PDFN_input").change((function(){void 0!==this.value&&""!==this.value&&/^\d*\.?\d*$/.test(this.value)?J(this.value,!1,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"):-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。請再試一次。"):Rt("The inputted content is incorrect. Please try again.")})),(It(nt)||It(Qe)||It("HIRC1EN")||It(et)||It("HIRC2EN")||It(it)||It("MIRCEN"))&&(H>0||X>0||D>0||1===x||"undefined"!=typeof NUTOOL_PER)?(1===x&&0===H&&(H=pe),1===x&&0===X&&(X=Te),1===x&&0===D&&(D=ge),H>0&&($("#PD_input").val(H/1e6),J(H/1e6,!0,$("#"+Xe+"_inaccuracy_select").val(),Ye)),X>0&&($("#APD_input").val(X/1e6),J(X/1e6,!0,$("#"+De+"_inaccuracy_select").val(),Ze)),D>0&&($("#PDFN_input").val(D/1e6),J(D/1e6,!0,$("#PLLFN_inaccuracy_select").val(),"PLLFNCTL0"))):(H=0,X=0,D=0),It(nt)&&("12"===$("#"+nt+"_input").val()||"24"===$("#"+nt+"_input").val())&&(y>0||1===x)?(1===x&&0===y&&(y=ue),$("#PLL2CKEN_input").val(y/1e6),$("#PLL2CKEN_input").change()):(y=0,w=0),"single"!==e&&x>2&&(It(Je)||It(Qe)||It("HIRC1EN")||It(et)||It("HIRC2EN")||It(it)||It("MIRCEN")||It("MIRC1P2MEN")||It(nt)||It(tt)||It("LIRC32KEN")||It("PLL2CKEN"))&&Q(),$("#tab-3")[0]&&$("#add-tab-2").hide()}function Ye(e){var t,n,i,o,l,a,r,s,C,d,c,O,p,T=$("#tabs"),g="",h="HXT".toEquivalent().toString(),S="LXT".toEquivalent().toString(),N="HXTWAIT".toEquivalent().toString(),M="HIRC".toEquivalent().toString(),E="HIRC2".toEquivalent().toString(),P="HIRC48".toEquivalent().toString(),H="LIRC".toEquivalent().toString(),y="PWRCON".toEquivalent().toString(),w="OSC10K_EN".toEquivalent().toString(),X="OSC22M_EN".toEquivalent().toString(),D="OSC22M2_EN".toEquivalent().toString(),q="XTL32K_EN".toEquivalent().toString(),B="XTL12M_EN".toEquivalent().toString(),z="HIRC48EN".toEquivalent().toString(),W="C32KS".toEquivalent().toString(),V=!1,G=!1,j=!1,Y=!1,Z=!1;if(C=function(e,t,n,i,o,l,r){"input"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"input_select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><input id='"+t+"_input' title='Input the expected value' type='text' value='"+i+"' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+" <span class=wait_span>Wait</span>:</p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'><span class=cycles_span>cycles</span></p></div><br />":"select"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable selected'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": </p><select id='"+t+"_select' title='Select the expected value' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>"+o+"</p></div><br />":"text"===l?a=r?"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable selected'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable'><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"<br /><div id='ref_"+t+"_div'><p class='field switch div_clock_composite'><input type='radio' id='radio_"+t+"_enable' name='field' checked/><input type='radio' id='radio_"+t+"_disable' name='field'/><label for='radio_"+t+"_enable' class='cb-enable'><span class=enable_span>Enable</span></label><label for='radio_"+t+"_disable' class='cb-disable' selected><span class=disable_span>Disable</span></label></p><p style='text-indent: 1em;' class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"alwaysEnabled"===l?a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+": "+i+o+"</p></div><br />":"RTC32k"===l&&(a="<br /><div id='ref_"+t+"_div'><p class = 'ref_"+t+"_p div_clock_composite'>"+n+"(from </p><select id='"+t+"_select' title='Select a clock source' class = 'div_clock_composite'/><p class = 'ref_"+t+"_p div_clock_composite'>): 32.768"+o+"</p></div><br />"),e.append(a)},c=function(){if(Ae)Ae=!1;else if(It(w)||It(X)||It("HIRC1EN")||It(D)||It("HIRC2EN")||It(z)||It("MIRCEN")||It("MIRC1P2MEN")||It(B)||It(q)||It("LIRC32KEN")){if("none"!==$("#add-tab-1").css("display")){if($("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ge():je(),x<$("#tabs").tabs("option","active")+1&&(x=$("#tabs").tabs("option","active")+1),$("#add-tab-1").hide(),It(w)&&(b=NUTOOL_CLOCK.g_LIRCfrequency),(It(X)||It("HIRC1EN"))&&(v=NUTOOL_CLOCK.g_HIRCfrequency),(It(D)||It("HIRC2EN"))&&(U=NUTOOL_CLOCK.g_HIRC2frequency),It(z)&&(k=NUTOOL_CLOCK.g_HIRC48frequency),It("MIRCEN")){const e=$t("MIRCFSEL");R=-1!==e?1e6*Math.pow(2,e):R}It("MIRC1P2MEN")&&(I=NUTOOL_CLOCK.g_MIRC1P2Mfrequency),It(q)&&(m=32768),It("LIRC32KEN")&&(m=32e3),It(B)&&(F=1e6*parseFloat($("#"+B+"_input").val())),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(A=NUTOOL_CLOCK.g_RTC32kfrequency)}}else-1!==L.indexOf("Simplified")?Rt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?Rt("請至少啟用一個時脈源。"):Rt("Please enable at least one clock source.")},O=function(){var e=ft(NUTOOL_CLOCK.g_CLKSEL),l="",a="";for(It(q)?(l=S,a=h):(l=h,a=S),t=0,n=e.length;t<n;t+=1)for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[e[t]].length;i<o;i+=1)-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf(a)&&(-1!==NUTOOL_CLOCK.g_CLKSEL[e[t]][i].indexOf("HXTorLXT")?NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace("HXTorLXT",l):NUTOOL_CLOCK.g_CLKSEL[e[t]][i]=NUTOOL_CLOCK.g_CLKSEL[e[t]][i].replace(a,l))},p=function(){It(q)?NUTOOL_CLOCK.g_Module.RTC[0]=S:0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?NUTOOL_CLOCK.g_Module.RTC[0]=H:NUTOOL_CLOCK.g_Module.RTC[0]="LIRC"},pt(),T[0].setAttribute("style","border: 1px solid white; position:absolute; margin-top: 55px; left:"+(f+8)+"px; top:0px;"),$("#tab-2")[0]||$("#tab-3")[0]?void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-2"),$("<div id='tab-1'></div>").insertBefore("#tab-2")):($("<li id='li-1'><a href='#tab-1'>Base Clocks</a></li>").insertBefore("#li-3"),$("<div id='tab-1'></div>").insertBefore("#tab-3")):($("#tabs ul").append("<li id='li-1'><a href='#tab-1'><span id=base_clocks_span>Base Clocks</span></a></li>"),$("#tabs").append("<div id='tab-1'></div>")),l=$("#tab-1"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf(w+":")})).length?0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?C(l,w,H,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):C(l,w,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","text",!0):0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?C(l,w,H,NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0):C(l,w,"LIRC",NUTOOL_CLOCK.g_LIRCfrequency/1e3,"kHz","alwaysEnabled",!0)),0!==NUTOOL_CLOCK.g_HIRCfrequency)if(0===NUTOOL_CLOCK.g_HIRCfrequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf(X+":")})).length?C(l,X,M,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","text",!0):C(l,X,M,NUTOOL_CLOCK.g_HIRCfrequency/1e6,"MHz","alwaysEnabled",!0);else{for(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("HIRCSEL")?(C(l,X,"HIRC0",0,"MHz","select",!0),C(l,"HIRC1EN","HIRC1",36,"MHz","text",!0)):C(l,X,M,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRCfrequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRCfrequencyArray[t]/1e6}catch(e){}$("#"+X+"_select")[0].appendChild(d)}It("HIRC_FSEL")?$("#"+X+"_select").val(16):$("#"+X+"_select").val(12),$("#"+X+"_select").on("change",(function(){"16"===$(this).val()?Ot("HIRC_FSEL",1):Ot("HIRC_FSEL",0),It(X)&&(NUTOOL_CLOCK.g_HIRCfrequency=parseInt(1e6*$(this).val(),10),xt())}))}if(0!==NUTOOL_CLOCK.g_HIRC2frequency)if(0===NUTOOL_CLOCK.g_HIRC2frequencyArray.length)0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf(D+":")})).length?C(l,D,E,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","text",!0):C(l,D,E,NUTOOL_CLOCK.g_HIRC2frequency/1e6,"MHz","alwaysEnabled",!0);else{for(C(l,D,E,0,"MHz","select",!0),t=0,n=NUTOOL_CLOCK.g_HIRC2frequencyArray.length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_HIRC2frequencyArray[t]/1e6}catch(e){}$("#"+D+"_select")[0].appendChild(d)}It("HIRC_FSEL")?$("#"+D+"_select").val(16):$("#"+D+"_select").val(12),$("#"+D+"_select").on("change",(function(){"16"===$(this).val()?Ot("HIRC_FSEL",1):Ot("HIRC_FSEL",0),It(D)&&(NUTOOL_CLOCK.g_HIRC2frequency=parseInt(1e6*$(this).val(),10),xt())}))}if(0!==NUTOOL_CLOCK.g_HIRC48frequency&&C(l,z,P,NUTOOL_CLOCK.g_HIRC48frequency/1e6,"MHz","text",!0),0!==NUTOOL_CLOCK.g_MIRCfrequency)if(-1!==$t("MIRCFSEL")){for(C(l,"MIRCEN","MIRC",0,"MHz","select",!0),t=0,n=4;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=Math.pow(2,t),d.value=t}catch(e){}$("#MIRCEN_select")[0].appendChild(d)}$("#MIRCEN_select").val($t("MIRCFSEL")),$("#MIRCEN_select").on("change",(function(){Ot("MIRCFSEL",parseInt($(this).val(),10)),It("MIRCEN")&&(R=1e6*Math.pow(2,parseInt($(this).val(),10)),xt())}))}else C(l,"MIRCEN","MIRC",NUTOOL_CLOCK.g_MIRCfrequency/1e6,"MHz","text",!0);if(0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&(0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf("MIRC1P2MEN:")})).length?C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","text",!0):C(l,"MIRC1P2MEN","MIRC1P2M",NUTOOL_CLOCK.g_MIRC1P2Mfrequency/1e6,"MHz","alwaysEnabled",!0)),0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf(q+":")})).length&&C(l,q,S,"32.768","kHz","text",!0),-1!==$t("LIRC32KEN")&&C(l,"LIRC32KEN","LIRC32K","32","kHz","text",!0),0!==NUTOOL_CLOCK.g_RTC32kfrequency){C(l,"RTC32kEN","RTC32k",NUTOOL_CLOCK.g_RTC32kfrequency/1e3,"kHz","RTC32k",!0),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=S}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),d=window.document.createElement("option");try{d.id=d.innerHTML=d.value="LIRC"}catch(e){}$("#RTC32kEN_select")[0].appendChild(d),It("RTCSEL")?$("#RTC32kEN_select").val("LIRC"):$("#RTC32kEN_select").val(S),$("#RTC32kEN_select").on("change",(function(){"LIRC"===$(this).val()?Ot("RTCSEL",1):Ot("RTCSEL",0)}))}if(0!==_.filter(NUTOOL_CLOCK.g_register_map[y],(function(e){return-1!==e.indexOf(B+":")})).length)if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(N)){for(C(l,B,h,F>0?F/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input_select",!0),t=0,n=NUTOOL_CLOCK.g_CLKSEL[N].length;t<n;t+=1){d=window.document.createElement("option");try{d.id=d.innerHTML=d.value=NUTOOL_CLOCK.g_CLKSEL[N][t].slicePriorToX(":")}catch(e){}$("#"+B+"_select")[0].appendChild(d)}for(g=$t(N).toString(),t=0,n=NUTOOL_CLOCK.g_CLKSEL[N].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[N][t].sliceAfterX(":")===g&&$("#"+B+"_select").val(NUTOOL_CLOCK.g_CLKSEL[N][t].slicePriorToX(":"));$("#"+B+"_select").on("change",(function(){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[N].length;t<n;t++)NUTOOL_CLOCK.g_CLKSEL[N][t].slicePriorToX(":")===$(this).val()&&Ot(N,NUTOOL_CLOCK.g_CLKSEL[N][t].sliceAfterX(":"))}))}else C(l,B,h,F>0?F/1e6:NUTOOL_CLOCK.g_HXTfrequency/1e6,"MHz ("+NUTOOL_CLOCK.g_HXTRange+")","input",!0);l.append("<br />"),-1!==L.indexOf("Simplified")||-1!==L.indexOf("Traditional")?l[0].appendChild(ut("button","add-tab-1","下一步")):l[0].appendChild(ut("button","add-tab-1","Next Step")),$("#add-tab-1").addClass("css_btn_class"),K.addEvent($("#add-tab-1")[0],"click",c),T.tabs({heightStyle:"auto"}),T.tabs("refresh"),T.tabs({activate:function(){St(),null===Ue?$("#searchModule").hide():"none"!==$("#clockRegsTree").css("display")&&$("#searchModule").show()}}),$(".cb-enable").click((function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-disable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!0),""===$("#"+B+"_input").val()&&$("#"+B+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),s=s.sliceBetweenXandX("radio_","_enable"),$(".ref_"+s+"_p").css("color","black"),Ot(s,1),0===u.indexOf("KM1M7CF")?Ot("PLL_SRC",1):0===u.indexOf("KM1M0DF")&&Ot("PLLISEL",1),V?(0===s.indexOf(B)?(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Ot(q,0)):0===s.indexOf(q)&&(r=$("label[for='radio_"+B+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+B+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+B+"_p").css("color","#BC8484"),Ot(B,0)),O()):G?0===s.indexOf(X)?(r=$("label[for='radio_HIRC1EN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_HIRC1EN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_HIRC1EN_p").css("color","#BC8484"),Ot("HIRC1EN",0),Ot("HIRCSEL",0),It("HIRC_FSEL")?NUTOOL_CLOCK.g_HIRCfrequency=16e6:NUTOOL_CLOCK.g_HIRCfrequency=12e6):0===s.indexOf("HIRC1EN")&&(r=$("label[for='radio_"+X+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+X+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+X+"_p").css("color","#BC8484"),Ot(X,0),Ot("HIRCSEL",1),NUTOOL_CLOCK.g_HIRCfrequency=36e6):j&&0===s.indexOf(q)?p():Y?0===s.indexOf(B)?(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Ot(q,0)):0===s.indexOf(q)&&(r=$("label[for='radio_"+B+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+B+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+B+"_p").css("color","#BC8484"),Ot(B,0)):Z&&(0===s.indexOf(q)?(r=$("label[for='radio_LIRC32KEN_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_LIRC32KEN_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_LIRC32KEN_p").css("color","#BC8484"),Ot("LIRC32KEN",0),Ot(W,0)):0===s.indexOf("LIRC32KEN")&&(r=$("label[for='radio_"+q+"_disable']").parents(".switch"),$(".cb-enable",r).removeClass("selected"),$("label[for='radio_"+q+"_disable']").addClass("selected"),$(".checkbox",r).attr("checked",!1),$(".ref_"+q+"_p").css("color","#BC8484"),Ot(q,0),Ot(W,1))),xt()})),$(".cb-disable").click((function(){s=this.htmlFor,r=$(this).parents(".switch"),$(".cb-enable",r).removeClass("selected"),$(this).addClass("selected"),$(".checkbox",r).attr("checked",!1),s=s.sliceBetweenXandX("radio_","_disable"),$(".ref_"+s+"_p").css("color","#BC8484"),Ot(s,0),0===u.indexOf("KM1M7CF")?Ot("PLL_SRC",0):0===u.indexOf("KM1M0DF")&&Ot("PLLISEL",0),j&&0===s.indexOf(q)&&p(),xt()})),$("#"+B+"_input").change((function(){void 0===this.value||""===this.value||parseInt(this.value,10)<parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(this.value,10)>parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10)?($("#"+B+"_input").val(NUTOOL_CLOCK.g_HXTfrequency/1e6),-1!==L.indexOf("Simplified")?Rt("所输入的内容是不正确的。它应为"+NUTOOL_CLOCK.g_HXTRange+"。请再试一次。"):-1!==L.indexOf("Traditional")?Rt("所輸入的內容是不正確的。它應為"+NUTOOL_CLOCK.g_HXTRange+"。請再試一次。"):Rt("The inputted content is incorrect. It should be "+NUTOOL_CLOCK.g_HXTRange+". Please try again.")):It(B)&&(F=1e6*parseFloat($("#"+B+"_input").val()),xt())})),-1!==L.indexOf("Simplified")?($("#base_clocks_span").text("基础时脉源"),$(".enable_span").text("启用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("周期"),$("[title]").prop("title","输入期望值")):-1!==L.indexOf("Traditional")?($("#base_clocks_span").text("基礎時脈源"),$(".enable_span").text("啟用"),$(".disable_span").text("停用"),$(".wait_span").text("等待"),$(".cycles_span").text("週期"),$("[title]").prop("title","輸入期望值")):($("#base_clocks_span").text("Base Clocks"),$(".enable_span").text("Enable"),$(".disable_span").text("Disable"),$(".wait_span").text("Wait"),$(".cycles_span").text("cycles"),$("[title]").prop("title","Input the expected value")),$("#"+B+"_input").width(55),$("#"+B+"_input").height(20),"MINI51AN"===u||"MINI51DE"===u||"MINI55"===u||"MINI57"===u||"MINI58"===u||"NM1200"===u||"NUC029AE"===u?(V=!0,qe=!0,O()):"NANO103"===u?(G=!0,qe=!1):"NUC400"===u?(j=!0,qe=!1,p()):"NUC121AE"===u?(Y=!0,qe=!1):"M2351"===u||"M2354"===u||"M261"===u||"M55M1"===u?(Z=!0,qe=!1):qe=!1,"single"!==e&&x>1&&c(),($("#tab-2")[0]||$("#tab-3")[0])&&$("#add-tab-1").hide(),It(w)?$("label[for='radio_"+w+"_enable']").click():$("label[for='radio_"+w+"_disable']").click(),It(X)?$("label[for='radio_"+X+"_enable']").click():$("label[for='radio_"+X+"_disable']").click(),It("HIRC1EN")?$("label[for='radio_HIRC1EN_enable']").click():$("label[for='radio_HIRC1EN_disable']").click(),It(D)?$("label[for='radio_"+D+"_enable']").click():$("label[for='radio_"+D+"_disable']").click(),It("HIRC2EN")?$("label[for='radio_HIRC2EN_enable']").click():$("label[for='radio_HIRC2EN_disable']").click(),It(z)?$("label[for='radio_"+z+"_enable']").click():$("label[for='radio_"+z+"_disable']").click(),It("MIRCEN")?$("label[for='radio_MIRCEN_enable']").click():$("label[for='radio_MIRCEN_disable']").click(),It("MIRC1P2MEN")?$("label[for='radio_MIRC1P2MEN_enable']").click():$("label[for='radio_MIRC1P2MEN_disable']").click(),It(q)?$("label[for='radio_"+q+"_enable']").click():$("label[for='radio_"+q+"_disable']").click(),It("LIRC32KEN")?$("label[for='radio_LIRC32KEN_enable']").click():$("label[for='radio_LIRC32KEN_disable']").click(),It(B)?$("label[for='radio_"+B+"_enable']").click():$("label[for='radio_"+B+"_disable']").click()}function Ze(){var e,t,n=$("#MCUselect"),i={},o=[],l=!1;for(n.children().length>0&&n.children().remove(),e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)try{o.push(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")")}catch(e){}for(o.sort(Tt),e=0,t=o.length;e<t;e+=1)(i=window.document.createElement("option")).id=i.innerHTML=i.value=o[e],n[0].appendChild(i);for(e=0,t=NUTOOL_CLOCK.g_cfg_chips.length;e<t;e+=1)if(NUTOOL_CLOCK.g_cfg_chips[e].name+"("+NUTOOL_CLOCK.g_cfg_chips[e].pkg+")"===g){l=!0;break}l?n.val(g):n.val($("#MCUselect option:first-child").val()).change(),n.on("change",(function(){T!==$(this).val()&&(T=$(this).val(),window.setTimeout(tt,0))}))}function Je(){var e,t,n,i,o,l,a,r,s,C,c="",O=[],p=[],T=ft(NUTOOL_CLOCK.g_Module).slice(),g={},K=$("#rootTree_Clock"),S=$("#clockRegsTree"),N="HXT".toEquivalent().toString(),x="LXT".toEquivalent().toString(),E="PLL".toEquivalent().toString(),b="HIRC".toEquivalent().toString(),v="HIRC2".toEquivalent().toString(),U="HIRC48".toEquivalent().toString(),k="LIRC".toEquivalent().toString(),R="HCLK".toEquivalent().toString(),I="HCLK0".toEquivalent().toString(),A="HCLK1".toEquivalent().toString(),m="HCLK2".toEquivalent().toString(),F="PCLK".toEquivalent().toString(),H="PCLK0".toEquivalent().toString(),y="PCLK1".toEquivalent().toString(),w="PCLK2".toEquivalent().toString(),X="PWRCON".toEquivalent().toString(),D="XTL32K_EN".toEquivalent().toString(),q="XTL12M_EN".toEquivalent().toString(),B="PCLK0SEL".toEquivalent().toString();for(T.push(R),0===u.indexOf("M55M1")&&T.push("HCLK0","HCLK1","HCLK2","HCLK3","ACLK"),0===u.indexOf("M2L31")&&T.push(I,A,m),"CPUCLK"!==R&&T.push("CPUCLK"),0!==NUTOOL_CLOCK.g_LIRCfrequency&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?T.push(k):T.push("LIRC")),0!==NUTOOL_CLOCK.g_HIRCfrequency&&T.push(b),0!==NUTOOL_CLOCK.g_HIRC2frequency&&T.push(v),0!==NUTOOL_CLOCK.g_HIRC48frequency&&T.push(U),0!==NUTOOL_CLOCK.g_MIRCfrequency&&T.push("MIRC"),0!==NUTOOL_CLOCK.g_MIRC1P2Mfrequency&&T.push("MIRC1P2M"),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&T.push("RTC32k"),0!==_.filter(NUTOOL_CLOCK.g_register_map[X],(function(e){return-1!==e.indexOf(D+":")})).length&&T.push(x),0!==_.filter(NUTOOL_CLOCK.g_register_map[X],(function(e){return-1!==e.indexOf(q+":")})).length&&T.push(N),void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]&&T.push(E),void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&T.push("PLL2"),0!==NUTOOL_CLOCK.g_PLL480Mfrequency&&T.push("PLL480M"),void 0!==NUTOOL_CLOCK.g_register_map.APLLCTL&&T.push("APLL"),void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&T.push("APLL1"),void 0!==NUTOOL_CLOCK.g_register_map.PLLFNCTL0&&T.push("PLLFN"),0!==NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency&&T.push("HSUSB_OTG_PHY"),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(B)||0===u.indexOf("M55M1")?(T.push(H),T.push(y),T.push(w),T.push("PCLK3"),T.push("PCLK4")):T.push(F),T.sort(),e=0,t=M.length;e<t;e+=1)p[e]=M[e];for(p.sort(),e=0,t=p.length;e<t;e+=1)p[e].length>P&&(P=p[e].length);for(10*(P+1+2+8)+50>(f=250)&&(f=10*(P+1+2+8)+40,$("#ChipType").width(f-16),$("#MCU").width(f-16)),e=0,t=p.length;e<t;e+=1){if((c=p[e]).length<P)for(n=0,i=P-c.length;n<i;n+=1)c+=d;o={},(l={}).id=p[e],o.data=c+":0x"+gt(h[p[e]]).toUpperCase(),o.attr=l,O[e]=o}(l={}).id="clock_tree",Ht(),g.data="Simplified Chinese"===L?"Clock寄存器":"Traditional Chinese"===L?"Clock暂存器":"Clock Registers",g.attr=l,g.state="open",g.children=O,0===S.length&&(K[0].appendChild(ut("div","clockRegsTree","Loading...")),S=$("#clockRegsTree")),0===u.indexOf("M460")?S[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+f+"px; height: "+14*p.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"):0===u.indexOf("M55M1")?S[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+f+"px; height: "+4*p.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"):S[0].setAttribute("style","background-color: #FFFFFF; float:left; width:"+(f-16)+"px; height: "+20*p.length+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),S.hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),S.jstree({json_data:{data:g},themes:{theme:"default",icons:!1,dots:!0},core:{animation:0},plugins:["themes","json_data","ui","crrm"]}).bind("hover_node.jstree",(function(e,t){var n,i=t.rslt.obj.attr("id");NUTOOL_CLOCK.g_register_map_description.hasOwnProperty(i)&&(n="Simplified Chinese"===L||"Traditional Chinese"===L?"位址: ":"Address: ",n+=NUTOOL_CLOCK.g_register_map_description[i],$("#"+i).simpletip({fixed:!0,offset:[80,-10]}),$("#"+i).eq(0).simpletip().update(n))})).bind("dblclick.jstree",(function(e){var t=$(e.target).closest("li")[0].id;"clock_tree"!==t&&-1===NUTOOL_CLOCK.g_register_map_description[t].indexOf("Read Only")&&(S.jstree("rename",$("#"+t)),$("#"+t).eq(0).simpletip().blockShow(),$("#"+t).eq(0).simpletip().hide())})).bind("rename.jstree",(function(e,t){var n=t.rslt.obj.attr("id"),i=t.rslt.old_name,o=t.rslt.new_name;-1!==o.indexOf(E)?(-1!==L.indexOf("Simplified")?Rt("若要设置"+E+"，请至"+E+"页面。"):-1!==L.indexOf("Traditional")?Rt("若要設置"+E+"，請至"+E+"頁面。"):Rt("To configure "+E+", please refer to the "+E+" page."),S.jstree("rename_node",$("#"+n),i)):-1!==o.indexOf(":0x")&&o.slicePriorToX(":")===i.slicePriorToX(":")&&o.sliceAfterX(":").length===i.sliceAfterX(":").length&&o!==i?(h[n]=parseInt(o.sliceAfterX(":"),16),St(),Gt(),NUTOOL_CLOCK.g_readConfigFilePath="",Nt(),rt(),Fe=!0,Mt(),Fe=!1,!Ie&&window.console&&window.console.log("In the end of rename.jstree.")):S.jstree("rename_node",$("#"+n),i)})).bind("loaded.jstree",(function(){an(),ct(),He=!0,"undefined"!=typeof NUTOOL_PER&&(we=!0)})).bind("destroy.jstree",(function(){})),S.css("font-size","16px"),S.css("font-family",'Monaco, Consolas, "Lucida Console", monospace;'),C="Simplified Chinese"===L?"搜寻模块":"Traditional Chinese"===L?"搜尋模組":"Search Module",K[0].appendChild(ut("div","searchModule","")),(a=$("#searchModule")).append("<span id=searchModule_span></span>"),(r=$("#searchModule_span")).css("font-size","16px"),r.css("font-weight","bold"),a.append("<input id='searchInput' type='text' value=''>"),s=$("#searchInput"),a[0].setAttribute("style","background-color: #FFFFFF; border-right: 16px solid #FFFFFF; float:left; width:"+(f-16)+"px; height: 22px;"),r.text(C),s[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+(r.width()+10)+"px; width:"+(f-16-r.width()-10)+"px; height: 16px;"),s.change((function(){var n,i,o;if(null!==Ue&&(Ue.selectAll("g.node").on("searchFromInput")(this.value),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2})),n=$(this).val(),a.simpletip({fixed:!0,offset:[100,-7]}),i="",""!==n){for(o=[],e=0,t=T.length;e<t;e+=1)0===T[e].toLowerCase().indexOf(n.toLowerCase())&&o.push(T[e]);if(o.length>0)for(i="Simplified Chinese"===L?"符合的搜寻结果为:<br />":"Traditional Chinese"===L?"符合的搜尋結果為:<br />":"The matched search result is:<br />",e=0,t=o.length;e<t;e+=1)i=i+o[e]+"<br />"}""!==i?(!Ie&&window.console&&window.console.log("In $searchInput.change, unblockShow."),a.eq(0).simpletip().unblockShow(),a.eq(0).simpletip().update(i),a.eq(0).simpletip().show()):(a.eq(0).simpletip().blockShow(),a.eq(0).simpletip().hide())})),a.hide()}function Qe(e,t){var n;return"js"===t?((n=document.createElement("script")).setAttribute("type","text/javascript"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("src",e):n.setAttribute("src",`./src/${e}`)):"css"===t&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("href",e):n.setAttribute("href",`./src/${e}`)),n}function et(e,t,n,i){var o,l,a,r="js"===n?"script":"css"===n?"link":"none",s="js"===n?"src":"css"===n?"href":"none",C=window.document.getElementsByTagName(r),L="NUC_Reset_Content.js";for("undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="ClockConfigure/"+e,L="ClockConfigure/"+L),l=Qe(L,n),o=C.length;o>=0;o-=1)C[o]&&null!==C[o].getAttribute(s)&&(C[o].getAttribute(s)===e||C[o].getAttribute(s)===L)&&C[o].parentNode.removeChild(C[o]);C[0].parentNode.appendChild(l),l.onload=function(){for("undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="ClockConfigure/"+e,t="ClockConfigure/"+t),a=Qe(t,n),"function"==typeof i&&(a.onload=function(){i()}),!Ie&&window.console&&window.console.log("In replacejscssfile, oldfilename:"+e+" / newfilename:"+t),o=C.length;o>=0;o-=1)C[o]&&null!==C[o].getAttribute(s)&&(C[o].getAttribute(s)===e||C[o].getAttribute(s)===t)&&C[o].parentNode.removeChild(C[o]);C[0].parentNode.appendChild(a)}}function tt(){if(T!==g){try{window.external.updateCurrentDialogSize()}catch(e){}et("NUC_"+u+"_Content.js","NUC_"+(u=at(T))+"_Content.js","js",nt)}}function nt(){g=T,Nt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",lt(),Mt()}function it(e){var t;return t=e,"NUC200AN"===e||"NUC200AE"===e||"NUC2201"===e?t="NUC200":"NANO100AN"===e||"NANO100BN"===e||"NANO103"===e||"NANO112"===e?t="NANO100":"NUC100AN"===e||"NUC100BN"===e||"NUC100CN"===e||"NUC100DN"===e||"NUC131"===e||"NUC1311"===e||"NUC121AE"===e||"NUC123AN_AE"===e||"NUC122AN"===e||0===e.indexOf("NUC126")?t="NUC100":"M051BN"===e?t="M051":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?t="M0A21":0===e.indexOf("M030G")?t="M030G":0===e.indexOf("M03")?t="M031":"M051DN"===e||"M051DE"===e||"M051AN"===e||"M058S"===e?t="M051":0===e.indexOf("MINI5")?t="MINI51":0===e.indexOf("NUC029")?t="NUC029":0===e.indexOf("M235")?t="M2351":0==e.indexOf("M2L31")?t="M2L31":0===e.indexOf("M25")?t="M251":0===e.indexOf("M460")?t="M460":0===e.indexOf("M480")?t="M480":0===e.indexOf("KM1M4BF")?t="KM1M4BF":0===e.indexOf("KM1M7AF")?t="KM1M7AF":0===e.indexOf("KM1M7BF")?t="KM1M7BF":0===e.indexOf("KM1M7CF")?t="KM1M7CF":0===e.indexOf("M2003")?t="M2003":0!==e.indexOf("M55M1")&&0!==e.indexOf("M5531")||(t="M55M1"),t}function ot(e){var t,n,i="HXT".toEquivalent().toString(),o="LXT".toEquivalent().toString(),l="PLL".toEquivalent().toString(),a="APLL".toEquivalent().toString(),r="HIRC".toEquivalent().toString(),s="HIRC2".toEquivalent().toString(),C="HIRC48".toEquivalent().toString(),L="LIRC".toEquivalent().toString(),_="HCLK".toEquivalent().toString(),d="HCLK0".toEquivalent().toString(),c="HCLK1".toEquivalent().toString(),O="HCLK2".toEquivalent().toString(),f="PCLK".toEquivalent().toString(),p="PCLK0".toEquivalent().toString(),u="PCLK1".toEquivalent().toString(),T="PCLK2".toEquivalent().toString();return n=-1!==e.indexOf("DIV")?$t(e.sliceAfterX("(").slicePriorToX(":").slicePriorToX("+"))+1:-1!==e.indexOf("/")?parseInt(e.sliceAfterX("/"),10):1,0===e.indexOf("LIRC")||0===e.indexOf(L)?t=b/n:0===e.indexOf(C)?t=k/n:0===e.indexOf(r)?t=v/n:0===e.indexOf(s)?t=U/n:0===e.indexOf("MIRC1P2M")?t=I/n:0===e.indexOf("MIRC")?t=R/n:0===e.indexOf(o)?t=m/n:0===e.indexOf(i)?t=F/n:0===e.indexOf("RTC32k")?t=A/n:0===e.indexOf("PLL480M")?t=w/n:0===e.indexOf("PLL2")?t=y/n:0===e.indexOf(l)?t=H/n:0===e.indexOf(a)?t=X/n:0===e.indexOf("PLLFN")?t=D/n:0===e.indexOf("HSUSB_OTG_PHY")?t=q/n:0===e.indexOf("ACLK")?t=B/n:0===e.indexOf(_)?t=z/n:0===e.indexOf(d)?t=W/n:0===e.indexOf(c)?t=V/n:0===e.indexOf(O)?t=G/n:0===e.indexOf(p)?t=Z/n:0===e.indexOf(u)?t=J/n:0===e.indexOf(T)?t=Q/n:0===e.indexOf("PCLK3")?t=ee/n:0===e.indexOf("PCLK4")?t=te/n:0===e.indexOf(f)?t=Y/n:0===e.indexOf("CPUCLK")&&(t=z/n),t}function lt(e){var t,n,i,o,l,a,r,s={},C=ft(NUTOOL_CLOCK.g_CLKSEL),L=[],_="XTL32K_EN".toEquivalent().toString(),d="XTL12M_EN".toEquivalent().toString(),c="PWRCON".toEquivalent().toString(),O="PLLCON".toEquivalent().toString(),f="HXT".toEquivalent().toString(),p="LXT".toEquivalent().toString(),u="PLL".toEquivalent().toString();if(void 0!==NUTOOL_CLOCK.g_unusedModule)for(void 0!==NUTOOL_CLOCK.g_unusedModule[g]?s="function"==typeof NUTOOL_CLOCK.g_unusedModule[g]?NUTOOL_CLOCK.g_unusedModule[g]():NUTOOL_CLOCK.g_unusedModule[g]:void 0!==NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]&&(s="function"==typeof NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]?NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]():NUTOOL_CLOCK.g_unusedModule[g.slicePriorToX("(")]),L=ft(NUTOOL_CLOCK.g_Module),i=0,a=s.length;i<a;i+=1){for(r=s[i],n=0,l=L.length;n<l;n+=1)if(r.toUpperCase()===L[n].toUpperCase()){delete NUTOOL_CLOCK.g_Module[r];break}if(r.toUpperCase()===p){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(_+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(p+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(p+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===f.toUpperCase()){for(n=0,l=NUTOOL_CLOCK.g_register_map[c].length;n<l;n+=1)if(0===NUTOOL_CLOCK.g_register_map[c][n].indexOf(d+":")){NUTOOL_CLOCK.g_register_map[c].splice(n,1);break}for(t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(f+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}if(r.toUpperCase()===u.toUpperCase())for(delete NUTOOL_CLOCK.g_register_map[O],delete NUTOOL_CLOCK.g_register_map_default[O],delete NUTOOL_CLOCK.g_register_map_description[O],t=0,o=C.length;t<o;t+=1)for(n=NUTOOL_CLOCK.g_CLKSEL[C[t]].length-1;n>=0;n-=1)0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(u+":")&&0!==NUTOOL_CLOCK.g_CLKSEL[C[t]][n].indexOf(u+"/")||NUTOOL_CLOCK.g_CLKSEL[C[t]].splice(n,1)}for(t=0,o=(M=ft(NUTOOL_CLOCK.g_register_map_default)).length;t<o;t+=1)"undefined"==typeof NUTOOL_PER&&!0===$e&&void 0!==NUTOOL_CLOCK.g_register_map_default[M[t]].NuClockConfig?NUTOOL_CLOCK.g_register_map_default[M[t]]=NUTOOL_CLOCK.g_register_map_default[M[t]].NuClockConfig:"undefined"==typeof NUTOOL_PER&&!1===$e&&void 0!==NUTOOL_CLOCK.g_register_map_default[M[t]].NuClockConfigTest?NUTOOL_CLOCK.g_register_map_default[M[t]]=NUTOOL_CLOCK.g_register_map_default[M[t]].NuClockConfigTest:"undefined"!=typeof NUTOOL_PER&&!1===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[M[t]].NuCodeGenTool?NUTOOL_CLOCK.g_register_map_default[M[t]]=NUTOOL_CLOCK.g_register_map_default[M[t]].NuCodeGenTool:"undefined"!=typeof NUTOOL_PER&&!0===NUTOOL_PER.getg_bDevelopingTool()&&void 0!==NUTOOL_CLOCK.g_register_map_default[M[t]].NuCodeGenTest&&(NUTOOL_CLOCK.g_register_map_default[M[t]]=NUTOOL_CLOCK.g_register_map_default[M[t]].NuCodeGenTest);if(void 0!==e&&ft(e).length>0)for(t=0,o=M.length;t<o;t+=1)h[M[t]]=e[M[t]];else for(t=0,o=M.length;t<o;t+=1)h[M[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[M[t]],16)}function at(e){return-1===e.indexOf("(")&&(e+="("),0===e.indexOf("M0564")?"M0564":0===e.indexOf("M45")||0===e.indexOf("M4TK")?"M451":0===e.indexOf("M46")?-1!==e.indexOf("CAE")?"M460LD":"M460HD":0===e.indexOf("M48")?-1!==e.indexOf("8AE")||-1!==e.indexOf("CAE")?"M480LD":"M480MD":0===e.indexOf("KM1M0DF")?"KM1M0DF":0===e.indexOf("KM1M4BF")?"KM1M4BF":0===e.indexOf("KM1M7AF")?"KM1M7AF":0===e.indexOf("KM1M7BF")?"KM1M7BF":0===e.indexOf("KM1M7CF")?"KM1M7CF":0===e.indexOf("M2L31")?"M2L31":0===e.indexOf("M251")||0===e.indexOf("M252")?"M251":0===e.indexOf("M253")?"M253":0===e.indexOf("M254")||0===e.indexOf("M256")||0===e.indexOf("M258")?"M258":0===e.indexOf("M0A21")||0===e.indexOf("M0A23")?"M0A21":0===e.indexOf("M030G")||0===e.indexOf("M031G")?"M030G_31G":0===e.indexOf("M031BT")?"M031BT":0===e.indexOf("M031")||0===e.indexOf("M032")?"M031":0===e.indexOf("M2351")?"M2351":0===e.indexOf("M2354")?"M2354":0===e.indexOf("M26")?"M261":0===e.indexOf("M0518")?"M0518":0===e.indexOf("M0519")?"M0519":0===e.indexOf("M05")&&-1!==e.indexOf("DN(")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("DE(")?"M051DE":0===e.indexOf("MHC54ZDN")||0===e.indexOf("PL054TDN")?"M051DN":0===e.indexOf("M05")&&-1!==e.indexOf("BN(")||0===e.indexOf("E32")?"M051BN":0===e.indexOf("M058S")?"M058S":0===e.indexOf("M05")&&-1!==e.indexOf("AN(")?"M051AN":0===e.indexOf("MINI57")?"MINI57":0===e.indexOf("MINI58")?"MINI58":0===e.indexOf("MINI5")&&-1!==e.indexOf("AN(")?"MINI51AN":0===e.indexOf("MINI5")&&-1!==e.indexOf("AE(")||0===e.indexOf("MINI54XFHC")||0===e.indexOf("MINI55")||0===e.indexOf("NVS06AL")?"MINI55":0===e.indexOf("MINI5")&&-1!==e.indexOf("DE(")||0===e.indexOf("MINI54FHC")?"MINI51DE":0===e.indexOf("M55M1")||0===e.indexOf("M5531")?"M55M1":0===e.indexOf("NUC2201")?"NUC2201":0===e.indexOf("NUC2")&&-1!==e.indexOf("AN(")?"NUC200AN":0===e.indexOf("NUC2")&&-1!==e.indexOf("AE(")?"NUC200AE":0===e.indexOf("NUC029ZAN")?"NUC029ZAN":0===e.indexOf("NUC029LDE")||0===e.indexOf("NUC029SDE")?"NUC029xDE":0===e.indexOf("NUC029LGE")||0===e.indexOf("NUC029SGE")||0===e.indexOf("NUC029KGE")?"NUC029xGE":0===e.indexOf("NUC029LEE")||0===e.indexOf("NUC029SEE")?"NUC029xEE":0===e.indexOf("NUC029TAE")?"NUC029TAE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AE(")?"NUC029AE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AN(")?"NUC029AN":0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO100")||-1===e.indexOf("AN(")?0!==e.indexOf("NANO100")&&0!==e.indexOf("NANO110")&&0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO130")||-1===e.indexOf("BN(")?0===e.indexOf("NANO103")&&-1!==e.indexOf("AE(")?"NANO103":0===e.indexOf("NANO1")&&-1!==e.indexOf("AN(")?"NANO112":0===e.indexOf("NM11")||0===e.indexOf("NM12")?"NM1200":0===e.indexOf("NM15")?"NM1500":0===e.indexOf("NUC121")||0===e.indexOf("NUC125")?"NUC121AE":0===e.indexOf("NUC122")&&-1!==e.indexOf("AN(")?"NUC122AN":0!==e.indexOf("NUC123")||-1===e.indexOf("AE0(")&&-1===e.indexOf("AE1(")&&-1===e.indexOf("AN0(")&&-1===e.indexOf("AN1(")?0===e.indexOf("NUC1")&&-1!==e.indexOf("AN(")?"NUC100AN":0===e.indexOf("NUC1")&&-1!==e.indexOf("BN(")?"NUC100BN":0===e.indexOf("NUC1")&&-1!==e.indexOf("CN(")?"NUC100CN":0===e.indexOf("NUC1")&&-1!==e.indexOf("DN(")?"NUC100DN":0===e.indexOf("NUC1261")?"NUC1261":0===e.indexOf("NUC1262")?"NUC1262":0===e.indexOf("NUC1263")?"NUC1263":0===e.indexOf("NUC126")?"NUC126":0===e.indexOf("NUC1311")?"NUC1311":0===e.indexOf("NUC13")?"NUC131":0===e.indexOf("NUC505")?"NUC505":0===e.indexOf("I91")?"ISD9100":0===e.indexOf("I93")?"ISD9300":0===e.indexOf("M2003")?"M2003":"NUC400":"NUC123AN_AE":"NANO100BN":"NANO100AN"}function rt(){var e,t,n,i,o="",l="",a="",r=[],s=[],C=[],L=0,_="",d="",c="",O="",f="",T="",K="",h="",S=!1,N=function(){e="NUC_"+u+"_Content.js","undefined"==typeof NUTOOL_PER?(u="NUC400",g="NUC442JG8AE(LQFP144)"):(u="M251",g="M251EB2AE(TSSOP28)"),a=at(g),et(e,"NUC_"+a+"_Content.js","js",lt),window.setTimeout(tt,0)};if("",o=NUTOOL_CLOCK.g_readConfigFileContentText,!o||/^\s*$/.test(o))return o,N(),S;for(;-1!==o.indexOf("\r")&&o.indexOf("\r")<o.indexOf("MCU:");)o=o.sliceAfterX("\r");if(l=o.sliceBetweenXandX("MCU:","\r"),a=at(l),-1===$.inArray(it(a),p))return Ut("从配置档读出的晶片型号 "+a+" 不正确。","從配置檔讀出的晶片型號 "+a+" 不正確。","The chip type of "+a+" read from the config file is incorrect."),N(),S;for(u!=a&&et(e=void 0!==u&&""!==u?"NUC_"+u+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+a+"_Content.js","js");-1!==o.indexOf("Reg:");){if(h=(o=o.sliceAfterX("Reg:")).sliceBetweenXandX("0x","\r"),!/^[0-9A-Fa-f]+$/.test(h)||8!==h.length)return Ut("从配置档读出的暂存器"+o.slicePriorToX(" = ")+"的值"+h+"是不正确的。","從配置檔讀出的暫存器"+o.slicePriorToX(" = ")+"的值"+h+"是不正確的。","The value "+h+" of "+o.slicePriorToX(" = ")+" read from the config file is incorrect."),N(),S;if(r[o.slicePriorToX(" = ")]=parseInt(h,16),o=o.slice(1),L>200)break;L+=1}return n="LXT".toEquivalent().toString(),-1!==o.indexOf(n+":")&&"32768"!==(_=(o=o.sliceAfterX(n+":")).slicePriorToX("\r"))&&"32000"!==_?(Ut("从配置档读出的"+n+"频率是不正确的。","從配置檔讀出的"+n+"頻率是不正確的。","The frequency of "+n+" read from the config file is incorrect."),N(),S):(t="HXT".toEquivalent().toString(),-1!==o.indexOf(t+":")&&(d=(o=o.sliceAfterX(t+":")).slicePriorToX("\r"),parseInt(d,10)<1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.slicePriorToX("~").slicePriorToX("MHz"),10)||parseInt(d,10)>1e6*parseInt(NUTOOL_CLOCK.g_HXTRange.sliceAfterX("~").slicePriorToX("MHz"),10))?(Ut("从配置档读出的"+t+"频率是不正确的。","從配置檔讀出的"+t+"頻率是不正確的。","The frequency of "+t+" read from the config file is incorrect."),N(),S):(i="PLL".toEquivalent().toString(),sAPLL="APLL".toEquivalent().toString(),-1!==o.indexOf(i+":")&&(c=(o=o.sliceAfterX(i+":")).slicePriorToX("\r")),-1!==o.indexOf("PLL2:")&&(O=(o=o.sliceAfterX("PLL2:")).slicePriorToX("\r")),-1!==o.indexOf(sAPLL)&&(f=(o=o.sliceAfterX(sAPLL+":")).slicePriorToX("\r")),-1!==o.indexOf("PLLFN:")&&(T=(o=o.sliceAfterX("PLLFN:")).slicePriorToX("\r")),-1!==o.indexOf("Step:")&&(K=(o=o.sliceAfterX("Step:")).slicePriorToX("\r"),parseInt(K,10)<1||parseInt(K,10)>4)?(Ut("从配置档读出的最後步骤是不正确的。","從配置檔讀出的最後步驟是不正確的。","The last step read from the config file is incorrect."),N(),S):(o,u=a,g=l,lt(r),(s=ft(r)).sort(),(C=ft(NUTOOL_CLOCK.g_register_map_default)).sort(),C.compare(s)?($("#ChipTypeSelect").val(it(u)),""!==_&&(m=parseInt(_,10)),""!==d&&(F=parseInt(d,10)),""!==c&&(H=parseInt(c,10)),""!==O&&(y=parseInt(O,10)),""!==f&&(X=parseInt(f,10)),""!==T&&(D=parseInt(T,10)),""!==K&&(x=parseInt(K,10)),St(),S):(Ut("从配置档读出的时脉暂存器里至少一个是不正确的。","從配置檔讀出的暫存器裡至少一個時脈是不正確的。","At least one of the clock registers read from the config file is incorrect."),N(),S))))}function st(){n=1022,t=(o=635)-8,recordedDialogSize=null}function Ct(e){var t,n,i,o,l,a,r,s="";if(e.includes("."))for(l=e.split(".")[0],e=e.split(".")[1],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1){if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){s=-1===a.indexOf("-")?l+"["+a.sliceAfterX(":")+"]":l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}if(-1!==a.indexOf(e.slice(1))&&a.indexOf(":")===e.length-1&&"!"===e[0]){s=-1===a.indexOf("-")?"!"+l+"["+a.sliceAfterX(":")+"]":"!"+l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}}else if(-1===e.indexOf("["))for(t=0,n=M.length;t<n;t+=1)for(l=M[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1){if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){s=-1===a.indexOf("-")?l+"["+a.sliceAfterX(":")+"]":l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}if(-1!==a.indexOf(e.slice(1))&&a.indexOf(":")===e.length-1&&"!"===e[0]){s=-1===a.indexOf("-")?"!"+l+"["+a.sliceAfterX(":")+"]":"!"+l+"["+(r=a.sliceAfterX(":")).slicePriorToX("-")+":"+r.sliceAfterX("-")+"]";break}}else s=e;return s}function Lt(e){var t,n,i,o,l,a,r,s="HCLK".toEquivalent().toString(),C="HCLK0".toEquivalent().toString(),L="HCLK1".toEquivalent().toString(),_="HCLK2".toEquivalent().toString(),d="ACLK".toEquivalent().toString(),c="PCLK".toEquivalent().toString(),O="PCLK0".toEquivalent().toString(),f="PCLK1".toEquivalent().toString(),p="PCLK2".toEquivalent().toString(),u="PCLK3".toEquivalent().toString(),T="PCLK4".toEquivalent().toString(),g="";if("SYSTICK"!==e&&0!==e.indexOf("CLKO")&&0!==e.indexOf("CKO"))if((l=NUTOOL_CLOCK.g_Module[e][1].slicePriorToX("/").toString()).includes("."))for(a=l.split(".")[0],l=l.split(".")[1],i=0,o=NUTOOL_CLOCK.g_register_map[a].length;i<o;i+=1)-1!==(r=NUTOOL_CLOCK.g_register_map[a][i]).indexOf(l)&&r.indexOf(":")===l.length&&(g="("+c+"):"+Y.toHzString());else for(t=0,n=M.length;t<n;t+=1){for(a=M[t],i=0,o=NUTOOL_CLOCK.g_register_map[a].length;i<o;i+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][i]).indexOf(l)&&r.indexOf(":")===l.length){g=0===a.indexOf("AHB")?"("+s+"):"+z.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK0)?"("+C+"):"+W.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK1)?"("+L+"):"+V.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromHCLK2)?"("+_+"):"+G.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromACLK)?"("+d+"):"+B.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK1)?"("+f+"):"+J.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK2)?"("+p+"):"+Q.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK3)?"("+u+"):"+ee.toHzString():-1!==$.inArray(e,NUTOOL_CLOCK.g_BusFromPCLK4)?"("+T+"):"+te.toHzString():0!==Z?"("+O+"):"+Z.toHzString():"("+c+"):"+Y.toHzString();break}if(""!==g)break}else g="("+s+"):"+z.toHzString();return g}function _t(e){return-1===NUTOOL_CLOCK.g_BusNonExistent.indexOf(e)}function dt(e){var t,n,i=!0,o="HCLK".toEquivalent().toString(),l="ACLK".toEquivalent().toString(),a="HCLK0".toEquivalent().toString(),r="HCLK1".toEquivalent().toString(),s="HCLK2".toEquivalent().toString(),C="PCLK".toEquivalent().toString(),L="PCLK0".toEquivalent().toString(),_="PCLK1".toEquivalent().toString(),d="PCLK2".toEquivalent().toString(),c="PCLK3".toEquivalent().toString(),O="PCLK4".toEquivalent().toString();return t=NUTOOL_CLOCK.g_Module[e][0],n=NUTOOL_CLOCK.g_Module[e][2],[o,l,a,r,s,C,L,_,d,c,O].includes(t)&&"none"===n&&(i=!1),i}function ct(...e){var t,n,i,o,l,a;const r=e.length>0?e:M;for(t=0,n=r.length;t<n;t+=1)if(a=l=r[t],h.hasOwnProperty(l)){if(a.length<P)for(i=0,o=P-a.length;i<o;i+=1)a+=d;$("#clockRegsTree").jstree("rename_node",$("#"+l),a+":0x"+gt(h[l]).toUpperCase())}}function Ot(e,t,n,i){var o,l,a,r,s,C,L,_,d,c,O="";if(e.includes("."))return Ot(e.split(".")[1],t,e.split(".")[0],i);if(n){for(a=0,r=NUTOOL_CLOCK.g_register_map[n].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[n][a]).indexOf(e)&&C.indexOf(":")===e.length){O=n,-1===C.indexOf("-")?(d=1<<(L=parseInt(C.sliceAfterX(":"),10))>>>0,c=(h[n]&d)>>>0,c=h[n]-c,t=t<<L>>>0,h[n]=c+t):(L=parseInt(C.sliceAfterX("-"),10),_=parseInt(C.sliceBetweenXandX(":","-"),10)-L+1,d=Math.pow(2,_)-1<<L>>>0,c=(h[n]&d)>>>0,c=h[n]-c,t=t<<L>>>0,h[n]=c+t);break}}else for(o=0,l=M.length;o<l;o+=1)for(s=M[o],a=0,r=NUTOOL_CLOCK.g_register_map[s].length;a<r;a+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[s][a]).indexOf(e)&&C.indexOf(":")===e.length){O=s,-1===C.indexOf("-")?(d=1<<(L=parseInt(C.sliceAfterX(":"),10))>>>0,c=(h[s]&d)>>>0,c=h[s]-c,t=t<<L>>>0,h[s]=c+t):(L=parseInt(C.sliceAfterX("-"),10),_=parseInt(C.sliceBetweenXandX(":","-"),10)-L+1,d=Math.pow(2,_)-1<<L>>>0,c=(h[s]&d)>>>0,c=h[s]-c,t=t<<L>>>0,h[s]=c+t);break}i||""===O||ct(O)}function ft(e){var t,n=[],i=0;for(t in e)e.hasOwnProperty(t)&&(n[i]=t,i+=1);return i=null,t=null,n}function pt(){$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),$("#dividerConfigureDialog").is(":visible")&&$("#dividerConfigureDialog").dialog("destroy"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$("#generateCodeDialog").is(":visible")&&$("#generateCodeDialog").dialog("destroy")}function ut(e,t,n,i){var o;return i?((o=window.document.createElement("input")).value=n,o.type=e):(o=window.document.createElement(e)).innerHTML=n,o.id=t,o}function Tt(e,t){var n,i,o,l,a,r=0,s=/(\d+)|(\D+)/g,C=/\d/;if(isFinite(e)&&isFinite(t))return e-t;if((n=String(e).toLowerCase())===(i=String(t).toLowerCase()))return 0;if(!C.test(n)||!C.test(i))return n>i?1:-1;for(n=n.match(s),i=i.match(s),a=n.length>i.length?i.length:n.length;r<a;)if(o=n[r],l=i[r],r+=1,o!==l)return isFinite(o)&&isFinite(l)?("0"===o.charAt(0)&&(o="."+o),"0"===l.charAt(0)&&(l="."+l),o-l):o>l?1:-1;return n.length-i.length}function gt(e,t){var n=Number(e).toString(16);for(t=null==t?t=8:t;n.length<t;)n="0"+n;return n}function Kt(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ht(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}function St(){var e,t;for(N=[],e=0,t=M.length;e<t;e+=1)N[M[e]]=h[M[e]];ne=b,ie=v,oe=U,le=k,ae=R,re=I,se=m,Ce=F,Le=H,_e=y,de=X,ce=D,Oe=B,fe=z,pe=W,ue=V,Te=G,ge=Y,Ke=Z,he=J,Se=Q,Ne=ee,Me=te}function Nt(){h=[],M=[],P=0,b=0,v=0,U=0,k=0,R=0,I=0,m=0,F=0,A=0,H=0,y=0,w=0,X=0,D=0,q=0,z=0,W=0,V=0,G=0,B=0,Y=0,Z=0,J=0,Q=0,ee=0,te=0,xe=[],Ee="",Ae=!1,r="","",x=1,Ue=null,$("#tab-1").remove(),$("#tab-2").remove(),$("#tab-3").remove(),$("#tab-4").remove(),$("#tabs > ul > li").remove(),$("#clockRegsTree").jstree("destroy"),$("#searchModule").jstree("destroy"),$("#clockRegsTree").remove(),$("#searchModule").remove(),pt()}function Mt(){$("#ChipType").show(),$("#MCU").show(),"none"!==$("#clockRegsTree").css("display")?($("#tabs").css("width",n-f-8+"px"),$("#tabs").css({left:f+8+"px"})):($("#tabs").css("width",n-8+"px"),$("#tabs").css({left:"0px"})),"undefined"==typeof NUTOOL_PER&&Ze(),Je(),Ye()}function xt(){var e,t,n,i,o,l,a,r,s=!1,C=!1,_=$("#tabs").tabs("option","active");if(!Fe){if(Fe=!0,_+1<x){for(e=0,t=M.length;e<t;e+=1)if(N[M[e]]!==h[M[e]]){s=!0;break}(ne>0&&ne!==b||ie>0&&ie!==v||oe>0&&oe!==U||le>0&&le!==k||ae>0&&ae!==R||re>0&&re!==I||se>0&&se!==m||Ce>0&&Ce!==F||Le>0&&Le!==H||_e>0&&_e!==y||de>0&&de!==X||ce>0&&ce!==D||fe>0&&fe!==z||pe>0&&pe!==W||ue>0&&ue!==V||Te>0&&Te!==G||Oe>0&&Oe!==B||ge>0&&ge!==Y||Ke>0&&Ke!==Z||he>0&&he!==J||Se>0&&Se!==Q||Ne>0&&Ne!==ee||Me>0&&Me!==te)&&(C=!0),(s||C)&&(we?Et(_):(n=function(){Et(_)},i=function(){!function(e){switch(Fe=!0,function(){var e,t;for(e=0,t=M.length;e<t;e+=1)h[M[e]]=N[M[e]];b=ne,v=ie,U=oe,k=le,R=ae,I=re,m=se,F=Ce,H=Le,y=_e,X=de,D=ce,B=Oe,z=fe,W=pe,V=ue,G=Te,Y=ge,Z=Ke,J=he,Q=Se,ee=Ne,te=Me}(),$("#li-"+(e+1)).remove(),$("#tab-"+(e+1)).remove(),e+1){case 1:$("#tab-1")[0]||Ye("single");break;case 2:$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ge():je();break;case 3:$("#tab-3")[0]||Ge("single")}$("#tabs").tabs({active:e}),Fe=!1}(_)},me||(-1!==L.indexOf("Simplified")?(o="警告!",l='这样的改变将会影响之前的设定。请问你要继续它吗?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暂时略过这个讯息</label>',a="要",r="不要"):-1!==L.indexOf("Traditional")?(o="警告!",l='這樣的改變將會影響之前的設定。請問你要繼續它嗎?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>暫時略過這個訊息</label>',a="要",r="不要"):(o="Warning!",l='The modification will influence the prior settings.<br />Would you like to continue it?<br /><br /><label><input type="checkbox" id = "checkbox_skip"/>Skip this message temporarily</label>',a="Yes",r="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+l+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,dialogClass:"no-close",title:o,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:a,click:function(){$("#checkbox_skip").is(":checked")&&(we=!0),n(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:r,click:function(){$("#checkbox_skip").is(":checked")&&(we=!0),i(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))))}Fe=!1}}function Et(e){var t,n=0,i="HCLK".toEquivalent().toString(),o="OSC10K_EN".toEquivalent().toString(),l="OSC22M_EN".toEquivalent().toString(),a="OSC22M2_EN".toEquivalent().toString(),r="XTL32K_EN".toEquivalent().toString(),s="XTL12M_EN".toEquivalent().toString(),C="HIRC48EN".toEquivalent().toString();for(Fe=!0,St(),$("#tabs")[0].style.visibility="hidden",n=e+1+1;n<=4;n+=1)$("#li-"+n).remove(),$("#tab-"+n).remove();switch(ye=!0,e+1){case 1:It(o)||It(l)||It("HIRC1EN")||It(a)||It("HIRC2EN")||It(C)||It("MIRCEN")||It("MIRC1P2MEN")||It(s)||It(r)||It("LIRC32KEN")?$("#tab-2")[0]||void 0===NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?$("#tab-3")[0]||Ge():je():-1!==L.indexOf("Simplified")?Rt("请至少启用一个时脉源。"):-1!==L.indexOf("Traditional")?Rt("請至少啟用一個時脈源。"):Rt("Please enable at least one clock source.");break;case 2:$("#tab-3")[0]||Ge();break;case 3:$("#tab-4")[0]||(t=Kt(NUTOOL_CLOCK.g_CPUCLKLimit)?NUTOOL_CLOCK.g_CPUCLKLimit:parseInt(NUTOOL_CLOCK.g_CPUCLKLimit[g.slicePriorToX("(")],10),z>t?-1!==L.indexOf("Simplified")?Rt("CPU频率上限为"+t.toHzString()+"。 "+i+"频率不应超过其限制。"):-1!==L.indexOf("Traditional")?Rt("CPU頻率上限為"+t.toHzString()+"。 "+i+"頻率不應超過其限制。"):Rt("The upper limit of CPU frequency is "+t.toHzString()+". The "+i+" frequency should not run beyond the limit."):Ve())}ct(),ye=!1,$("#tabs").tabs({active:e}),Fe=!1,$("#tabs")[0].style.visibility="visible"}function Pt(e){var t="",n="HCLK".toEquivalent().toString(),i=!0;return!It("CLKSRC")&&$("#SYSTICK_span_showRealFreq").text().toFloat()>z/2&&(i=!1,t="Simplified Chinese"===L?"SysTick的时脉源频率必需小於或等於"+n+"/2。":"Traditional Chinese"===L?"SysTick的時脈源頻率必需小於或等於"+n+"/2。":"The clock source of SysTick must be less than or equal to "+n+"/2."),i||e(t),i}function bt(e){var t,n,i;"Simplified Chinese"===L?(t="时脉设置错误",n=e,i="确定"):"Traditional Chinese"===L?(t="時脈設置錯誤",n=e,i="確定"):(t="Clock Configure Error",n=e,i="Confirm"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+n+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:i,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function vt(e){var t,n,i,o,l,a;"Simplified Chinese"===L?(i="时脉设置错误",o=e+"<br /><br />若你仍想要关掉应用程式，请按'关闭'。但所有设置将会回复到初始值。若你想要修正他们，请按'修正'。",l="关闭",a="修正"):"Traditional Chinese"===L?(i="時脈設置錯誤",o=e+"<br /><br />若你仍想要關掉應用程式，請按'關閉'。但所有設置將會回復到初始值。若你想要修正他們，請按'修正'。",l="關閉",a="修正"):(i="Clock Configure Error",o=e+"<br /><br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",l="Close",a="Fix"),$("#clockConfigureErrorDialog").is(":visible")&&$("#clockConfigureErrorDialog").dialog("destroy"),$('<div id="clockConfigureErrorDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:i,width:500,height:350,show:"fade",hide:"fade",buttons:[{text:l,click:function(){for($(this).is(":visible")&&$(this).dialog("destroy"),Nt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",M=ft(NUTOOL_CLOCK.g_register_map_default),h=[],t=0,n=M.length;t<n;t+=1)h[M[t]]=parseInt(NUTOOL_CLOCK.g_register_map_default[M[t]],16);Gt()}},{text:a,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function Ut(e,t,n){"Simplified Chinese"===L?window.alert(e):"Traditional Chinese"===L?window.alert(t):window.alert(n)}function kt(e){var t,n,i,o,l,a,r=!0;if("undefined"!=typeof NUTOOL_PER)e();else if(!me){for(t=0,n=M.length;t<n;t+=1)if(S[M[t]]!==h[M[t]]){r=!1;break}r?e():(-1!==L.indexOf("Simplified")?(i="警告!",o="配置档已被修改过。请问你要储存它吗?",l="要",a="不要"):-1!==L.indexOf("Traditional")?(i="警告!",o="配置檔已被修改過。請問你要儲存它嗎?",l="要",a="不要"):(i="Warning!",o="The configuration has been modified.<br />Would you like to save it?",l="Yes",a="No"),$("#warningForSavingDialog").is(":visible")&&$("#warningForSavingDialog").dialog("destroy"),$('<div id="warningForSavingDialog"><p>'+o+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){Vt(),e(),$(this).is(":visible")&&$(this).dialog("destroy")}},{text:a,click:function(){e(),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))}}function Rt(e){var t,n;$("#warningDialog").is(":visible")&&$("#warningDialog").dialog("destroy"),-1!==L.indexOf("Simplified")?(t="警告!",n="确认"):-1!==L.indexOf("Traditional")?(t="警告!",n="確認"):(t="Warning!",n="Confirm"),$('<div id="warningDialog"><p>'+e+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:n,click:function(){$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}})}function It(e,t){var n,i,o,l,a,r,s,C="OSC10K_EN".toEquivalent().toString(),L="OSC22M_EN".toEquivalent().toString(),_="OSC22M2_EN".toEquivalent().toString(),d={},c=0,O=!1;if(d[C]=["KM1M0DF","M030G_31G","KM1M7CF"],d[L]=["KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF"],d[_]=["KM1M7CF"],d.MIRC1P2MEN=["M258"],e.includes("."))return It(e.split(".")[1],e.split(".")[0]);if(void 0!==d[e]&&-1!==d[e].indexOf(u))c=1;else if(t){for(o=0,l=NUTOOL_CLOCK.g_register_map[t].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[t][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(h[t]&s)>>>0;break}}else for(n=0,i=M.length;n<i;n+=1)for(a=M[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(r=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(e)&&r.indexOf(":")===e.length){s=1<<parseInt(r.sliceAfterX(":"),10)>>>0,c=(h[a]&s)>>>0;break}return 0!==c&&(O=!0),O}function At(e){return 0!==e.indexOf("!")?It(e):!It(e.sliceAfterX("!"))}function mt(e){var t=window.document.createEvent("Event");t.initEvent("dblclick",!0,!0),void 0!==e.id?d3.select("#"+e.id)[0][0].dispatchEvent(t):d3.select("#"+e)[0][0].dispatchEvent(t)}function $t(e){var t,n,i,o,l,a,r,s,C,L=-1;for(t=0,n=M.length;t<n;t+=1)for(l=M[t],i=0,o=NUTOOL_CLOCK.g_register_map[l].length;i<o;i+=1)if(-1!==(a=NUTOOL_CLOCK.g_register_map[l][i]).indexOf(e)&&a.indexOf(":")===e.length){-1===a.indexOf("-")?C=1<<(r=parseInt(a.sliceAfterX(":"),10))>>>0:(r=parseInt(a.sliceAfterX("-"),10),s=parseInt(a.sliceBetweenXandX(":","-"),10)-r+1,C=Math.pow(2,s)-1<<r>>>0),L=(L=(h[l]&C)>>>0)>>>r>>>0;break}return L}function Ft(){var e,t,n,i,o,l,a=ft(NUTOOL_CLOCK.g_Module),r=[],s=0,C=!0;for(ye=!0,e=0,n=a.length;e<n;e+=1){if(o=a[e],r=[],s=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))r.push(l);else{for(;-1!==l.indexOf("/")&&(r.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((s+=1)>10)););r.push(l)}for(C=!0,t=0,i=r.length;t<i;t+=1)if(!At(r[t])){C=!1;break}C&&mt(o)}ct(),ye=!1}function Ht(){var e=localStorage.getItem("UIlanguage");L=void 0===e||null==e?"English":e,e=null}function yt(e){var t,n,i,o,l,a,L,d,c,O,f,p,T,K,S,N,x,E,P,j=ft(NUTOOL_CLOCK.g_Module),ne="HXT".toEquivalent().toString(),ie="LXT".toEquivalent().toString(),oe="HXTWAIT".toEquivalent().toString(),le="PLL".toEquivalent().toString(),ae="APLL".toEquivalent().toString(),re="HIRC".toEquivalent().toString(),se="HIRC2".toEquivalent().toString(),Ce="HIRC48".toEquivalent().toString(),Le="LIRC".toEquivalent().toString(),_e="HCLK".toEquivalent().toString(),de="HCLK0".toEquivalent().toString(),ce="HCLK1".toEquivalent().toString(),Oe="HCLK2".toEquivalent().toString(),fe="PCLK".toEquivalent().toString(),pe="PCLK0".toEquivalent().toString(),ue="PCLK1".toEquivalent().toString(),Te="PCLK2".toEquivalent().toString(),ge="PWRCON".toEquivalent().toString(),Ke="PLLCON".toEquivalent().toString(),he="HCLK_S".toEquivalent().toString(),Se="HCLK2_S".toEquivalent().toString(),Ne="PCLK_S".toEquivalent().toString(),Me="PCLK0SEL".toEquivalent().toString(),xe="PCLK1SEL".toEquivalent().toString(),Ee="PCLK2SEL".toEquivalent().toString(),Pe="HCLK_N".toEquivalent().toString(),be="PCLK_N".toEquivalent().toString(),ve="OSC10K_EN".toEquivalent().toString(),ke="OSC22M_EN".toEquivalent().toString(),Re="OSC22M2_EN".toEquivalent().toString(),Ie="XTL32K_EN".toEquivalent().toString(),Ae="XTL12M_EN".toEquivalent().toString(),me="HIRC48EN".toEquivalent().toString(),$e="Enabled-Module Frequencies:\n",Fe="",He="",ye="",we="",Xe=[],qe=[],Be=[],ze=[];if(void 0===e&&(e="default"),O=function(e,t){return""===e?e=t:e+="|"+t,e},f=function(){for(Fe="","undefined"==typeof NUTOOL_PER&&(Fe+="    /* If the macros do not exist in your project, please refer to the related clk.h in Header folder of the tool package */\n"),0===u.indexOf("M480")&&(Fe+="    /* Set XT1_OUT(PF.2) and XT1_IN(PF.3) to input mode */\n    PF->MODE &= ~(GPIO_MODE_MODE2_Msk | GPIO_MODE_MODE3_Msk);\n\n"),-1===$t("HIRC1EN")&&-1===$t("HIRC_FSEL")||(Fe+="    /* Select clock source */\n",P=!1,-1!==$t("HIRC_FSEL")&&It(ke)&&("NANO112"===u?It("HIRC_FSEL")?Fe+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC_FSEL_Msk;\n":Fe+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC_FSEL_Msk;\n":It("HIRC_FSEL")?Fe+="    CLK->PWRCTL = CLK->PWRCTL | CLK_PWRCTL_HIRC0FSEL_Msk;\n":Fe+="    CLK->PWRCTL = CLK->PWRCTL & ~CLK_PWRCTL_HIRC0FSEL_Msk;\n",P=!0),-1!==$t("HIRC1EN")&&(It(ke)||It("HIRC1EN"))&&(It(ke)?Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_HIRCSEL_Msk;\n":Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_HIRCSEL_Msk;\n",P=!0),P&&(Fe+="\n")),0===u.indexOf("KM1M0DF")&&(Fe+="\n    /* Clock source */\n",Fe+="    /* External high-speed oscillation(HXO) */\n",$t(Ae)?(Fe+="    SystemCoreClockUpdate();\n\n",Fe+="    GPIO_SetFunctionMode(GPIO_MD2, 5U, GPIO_P25MD_OSC1);\n",Fe+="    GPIO_SetFunctionMode(GPIO_MD2, 6U, GPIO_P26MD_OSC2);\n\n",Fe+="    CLK_EnableHXO();\n",Fe+="    CLK_SysTickDelay(HXO_WCYCLE);\n\n"):Fe+="    CLK_DisableHXO();\n\n",Fe+="    /* External low-speed oscillation(LXO) */\n",$t(Ie)?(Fe+="    SystemCoreClockUpdate();\n\n",g.includes("D0x")?(Fe+="    GPIO_SetFunctionMode(GPIO_MD9, 1U, GPIO_P91MD_XO);\n",Fe+="    GPIO_SetFunctionMode(GPIO_MD9, 0U, GPIO_P90MD_XI);\n\n"):(Fe+="    GPIO_SetFunctionMode(GPIO_MD9, 1U, GPIO_P91MD_XI);\n",Fe+="    GPIO_SetFunctionMode(GPIO_MD9, 0U, GPIO_P90MD_XO);\n\n"),Fe+="    CLK_EnableLXO();\n",Fe+="    CLK_SysTickDelay(LXO_WCYCLE);\n\n"):Fe+="    CLK_DisableLXO();\n\n",Fe+="    /* Internal high-speed oscillation(HRC) */\n",$t(ke)?(Fe+="    if (CLK_IsHRCStability() != 1U)\n    {\n",Fe+="        CLK_EnableHRC();\n",Fe+="    }\n\n"):Fe+="    CLK_DisableHRC();\n\n",Fe+="    /* waiting for external high-speed oscillation to stabilize */\n",$t(Ae)?Fe+="    CLK_SysTickDelay(HXO_WCYCLE);\n\n":$t(Ie)&&(Fe+="    CLK_SysTickDelay(LXO_WCYCLE);\n\n")),t=0,i=L.length;t<i;t+=1){if(l=Dt(L[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),"RTC_LXTCTL"===L[t]&&("M2354"===u?(It(Ie)&&(Fe+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),It("LIRC32KEN")&&(Fe+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n")):"M55M1"===u?(It(Ie)&&(Fe+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC0_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC0_MODULE);\n\n"),It("LIRC32KEN")&&(Fe+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC0_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KSEL_Msk);\n    CLK_DisableModuleClock(RTC0_MODULE);\n\n")):(It(Ie)&&(Fe+="    /* "+ie+" source from external "+ie+" */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL &= ~(RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"),It("LIRC32KEN")&&(Fe+="    /* "+ie+" source from LIRC32K */\n    CLK_EnableModuleClock(RTC_MODULE);\n    RTC->LXTCTL |= (RTC_LXTCTL_LIRC32KEN_Msk|RTC_LXTCTL_C32KS_Msk);\n    CLK_DisableModuleClock(RTC_MODULE);\n\n"))),"RTC_CLKSRC"===L[t]&&(It("RTCSEL")?Fe+="    /* RTC32k source from internal */\n    RTC_SetClockSource(RTC_CLKSRC_INTERNAL);\n\n":Fe+="    /* RTC32k source from external */\n    RTC_SetClockSource(RTC_CLKSRC_EXTERNAL);\n\n"),L[t]===ge&&(He="",ye="",It(ve)&&(void 0!==Be[0]&&"none"!==Be[0]&&(He=O(He,Be[0])),void 0!==ze[0]&&"none"!==ze[0]&&(ye=O(ye,ze[0]))),It(ke)&&(void 0!==Be[1]&&"none"!==Be[1]&&(He=O(He,Be[1])),void 0!==ze[1]&&"none"!==ze[1]&&(ye=O(ye,ze[1]))),It(Ie)&&(void 0!==Be[2]&&"none"!==Be[2]&&(He=O(He,Be[2])),void 0!==ze[2]&&"none"!==ze[2]&&(ye=O(ye,ze[2].slicePriorToLastX("/")))),It("LIRC32KEN")&&"M55M1"!==u&&void 0!==ze[2]&&"none"!==ze[2]&&(ye=O(ye,ze[2].sliceAfterX("/"))),It(Ae)?(void 0!==Be[3]&&"none"!==Be[3]&&(He=O(He,Be[3])),void 0!==ze[3]&&"none"!==ze[3]&&(ye=O(ye,ze[3]))):0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")||(He=""),It("HIRC1EN")&&(void 0!==Be[4]&&"none"!==Be[4]&&(He=O(He,Be[4])),void 0!==ze[5]&&"none"!==ze[5]&&(ye=O(ye,ze[5]))),It(me)&&(void 0!==Be[4]&&"none"!==Be[4]&&(He=O(He,Be[4])),void 0!==ze[5]&&"none"!==ze[5]&&(ye=O(ye,ze[5]))),It("MIRCEN")&&(void 0!==Be[5]&&"none"!==Be[5]&&(He=O(He,Be[5])),void 0!==ze[6]&&"none"!==ze[6]&&(ye=O(ye,ze[6]))),It("MIRC1P2MEN")&&(void 0!==Be[6]&&"none"!==Be[6]&&(He=O(He,Be[6])),void 0!==ze[7]&&"none"!==ze[7]&&(ye=O(ye,ze[7]))),""!==He&&("NUC505"===u?Fe+="    /* Enable clock source */\n    CLK->PWRCTL |= "+He+";\n\n":-1!==He.indexOf("(")&&-1!==He.indexOf(");")?-1!==He.indexOf("Disable")?Fe+="    /* Disable clock source */\n    "+He+"\n\n":Fe+="    /* Enable clock source */\n    "+He+"\n\n":Fe+="    /* Enable clock source */\n    CLK_EnableXtalRC("+He+");\n\n"),""!==ye&&(-1!==ye.indexOf("(")&&-1!==ye.indexOf(");")?Fe+="    /* Waiting for clock source ready */\n    "+ye+"\n\n":Fe+="    /* Waiting for clock source ready */\n    CLK_WaitClockReady("+ye+");\n\n"),It("MIRCEN")&&-1!==$t("MIRCFSEL")&&(Fe+="    /* Set MIRC frequency */\n",Fe+="    CLK_EnableMIRC(CLK_PWRCTL_MIRCFSEL_"+R/1e6+"M);\n\n")),L[t]===Ke&&void 0!==NUTOOL_CLOCK.g_register_map[Ke]){var e=0===u.indexOf("M2L31")?"PLLCTL":Ke;It("PD")||0===_.filter(NUTOOL_CLOCK.g_register_map[e],(function(e){return-1!==e.indexOf("PD:")})).length||(Fe+="    /* Disable "+le+" first to avoid unstable when setting "+le+" */\n",Fe+="    CLK_DisablePLL();\n\n",Fe+="    /* Set "+le+" frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n","none"!==ze[4]&&(Fe+="    /* Waiting for "+le+" ready */\n    CLK_WaitClockReady("+ze[4]+");\n\n")),It("APLL0EN")&&void 0!==NUTOOL_CLOCK.g_register_map.APLL0CTL&&(Fe+="    /* Disable APLL0 circuit */\n    CLK_DisableAPLL(CLK_APLL0_SELECT);\n\n",Fe+="    /* Set APLL0 frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n",Fe+="    /* Waiting for APLL0 ready */\n    CLK_WaitClockReady(CLK_STATUS_APLL0STB_Msk);\n\n"),It("PLLEN")&&0!==_.filter(NUTOOL_CLOCK.g_register_map.CHIPPLLCTR1,(function(e){return-1!==e.indexOf("PLLEN:")})).length&&(0===u.indexOf("KM1M7C")?(Fe+="    /* Disable "+le+" circuit */\n    CLK_DisablePLL();\n\n",Fe+="    CLK->CHIPPLLCTR1 = 0xA53C0002U;\n",Fe+="    "+l+" = 0x"+gt(h[L[t]]).toUpperCase()+"U;\n",Fe+="    CLK->CHIPPLLCTR1 = 0xA53C000"+(h.CHIPPLLCTR1<<29>>>31)*Math.pow(2,2)+"U | CLK->CHIPPLLCTR1 | (1U << CLK_CHIPPLLCTR1_PLLEN_Pos);\n\n"):0===u.indexOf("KM1M4B")?(Fe+="    /* Disable "+le+" circuit */\n    CLK_DisablePLL();\n\n",Fe+="    /* Set "+le+" frequency */\n",Fe+="    "+l+" = 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n",Fe+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n"):(Fe+="    /* Set "+le+" frequency */\n",Fe+="    "+l+" = 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n",0===u.indexOf("KM1M7A")?Fe+="    CLK->CHIPPLLCTR1 = 0xA53C0003UL;\n\n":(u.indexOf("KM1M7B"),Fe+="    CLK->CHIPPLLCTR1 = 0xA53C0001UL;\n\n")),0===u.indexOf("KM1M7")?Fe+="    /* Waiting for "+le+" operating ready */\n    CLK_WaitClockReady(CLK_CHIPCKSTAT_PLLOK_Msk);\n\n":0===u.indexOf("KM1M4")?Fe+="    /* Waiting for "+le+" operating ready */\n    CLK_WaitClockReady(CLK_STABLE_PLLCLK);\n\n":Fe+="    /* Waiting for "+le+" ready */\n    CLK_WaitPLLReady();\n\n"),0!==_.filter(NUTOOL_CLOCK.g_register_map.PLLCTR1,(function(e){return-1!==e.indexOf("NPLLEN:")})).length&&0===u.indexOf("KM1M0DF")&&(Fe+="    /* Disable PLL first to avoid unstabilization when setting PLL */\n",Fe+="    CLK_DisablePLL();\n\n",It("NPLLEN")||(Fe+="    /* PLLCLK clock configuration */\n",Fe+="    "+l+" = 0x"+gt(h[L[t]]).toUpperCase()+"U;\n",Fe+="    CLK->PLLCTR1 = 0x"+gt(h.PLLCTR1).toUpperCase()+"U;\n\n",Fe+="    /* Wait for PLL setting stabilization  */\n    CLK_SysTickDelay(1U);\n\n",Fe+="    /* Setting for PLL reset release  */\n    "+l+" |= (0xA53C0000U | CLK_PLLCTR2_NRSET_PLL_Msk);\n\n",Fe+="    /* Wait for PLL stabilization  */\n    CLK_SysTickDelay(100U);\n\n"))}"APLLCTL"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.APLLCTL||It("APD")||(Fe+="    /* Disable APLL first to avoid unstable when setting APLL */\n",Fe+="    CLK->PLLCTL |= CLK_APLLCTL_PD_Msk;\n\n",Fe+="    /* Set APLL frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n"),"APLL1CTL"===L[t]&&void 0!==NUTOOL_CLOCK.g_register_map.APLL1CTL&&It("APLL1EN")&&(Fe+="    /* Disable APLL1 circuit */\n    CLK_DisableAPLL(CLK_APLL1_SELECT);\n\n",Fe+="    /* Set APLL1 frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n",Fe+="    /* Waiting for APLL1 ready */\n    CLK_WaitClockReady(CLK_STATUS_APLL1STB_Msk);\n\n"),"PLLFNCTL0"!==L[t]&&"PLLFNCTL1"!==L[t]||void 0===NUTOOL_CLOCK.g_register_map.PLLFNCTL0||It("PDFN")||(Fe+="    /* Disable PLLFN first to avoid unstable when setting PLLFN */\n",Fe+="    CLK->PLLCTL |= CLK_PLLFNCTL1_PD_Msk;\n\n",Fe+="    /* Set PLLFN frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n"),"PLL2CTL"===L[t]&&void 0!==NUTOOL_CLOCK.g_register_map.PLL2CTL&&It("PLL2CKEN")&&(Fe+="    /* Set PLL2 frequency */\n",Fe+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n\n",Fe+="    /* Waiting for PLL2 ready */\n    CLK_WaitClockReady(CLK_STATUS_PLL2STB_Msk);\n\n")}if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(-1!==(K=$t(p="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(p))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[p].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[p][t].sliceAfterX(":")===K){T=NUTOOL_CLOCK.g_CLKSEL[p][t].slicePriorToX(":");break}if(0===u.indexOf("KM1M7CF")?-1!==T.indexOf("HRCCLK1")?Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC1, CLK_CPUCKDIV_":-1!==T.indexOf("HRCCLK2")?Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HRC2, CLK_CPUCKDIV_":-1!==T.indexOf("HXOCLK")?Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_HXO, CLK_CPUCKDIV_":-1!==T.indexOf("PLLCLK")&&(Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_PLL, CLK_CPUCKDIV_"):0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CLK_BASESEL_"+T.slicePriorToX("CLK")+", CLK_CPUCKDIV_":(Fe+="    /* Set BASECLK clock */\n    CLK_SelectBASECLK(SELECT_"+T+");\n\n",Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK(CPUCLK_DIV_"),-1!==(K=$t(p="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(p))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[p].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[p][t].sliceAfterX(":")===K){T=NUTOOL_CLOCK.g_CLKSEL[p][t].slicePriorToX(":");break}Fe+=T.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("SYSCLKSEL")){let e="",t="",n="";switch($t(he)){case 1:e="CLK_SYSCLKSEL_HXOCLK";break;case 2:e="CLK_SYSCLKSEL_KRCCLK";break;case 3:e="CLK_SYSCLKSEL_LXOCLK";break;case 4:e="CLK_SYSCLKSEL_PLLCLK";break;default:e="CLK_SYSCLKSEL_HRCCLK"}t="CLK_SYSDIV_"+Math.pow(2,$t(Pe)),n="CLK_CPUCKDIV_"+Math.pow(2,$t(Ne)),Fe+="    /* Set CPUCLK clock */\n    CLK_SetCPUCLK("+e+", "+t+", "+n+");\n\n"}else if(0===u.indexOf("M55M1")){Fe+="    /* Set SCLK clock */\n    CLK_SetSCLK("+qt(_e,he,"").slicePriorToX(",")+");\n\n",(n=$t("SCLKDIV"))>0&&(Fe+="    /* Set SCLK Divider */\n    CLK_SET_SCLKDIV("+(n+1)+");\n\n"),(n=$t("HCLK2DIV"))>0&&(Fe+="    /* Set HCLK2 Divider */\n    CLK_SET_HCLK2DIV("+(n+1)+");\n\n")}else 0===u.indexOf("M2L31")?(Fe+="    /* Set HCLK0 clock */\n    CLK_SetHCLK("+qt(_e,he,"HCLK0DIV")+");\n\n",It("HCLK1EN")&&(Fe+="    /* Set HCLK1 clock */\n    CLK_SetModuleClock(HCLK1_MODULE, "+qt(Oe,Se,"HCLK1DIV")+");\n\n",Fe+="    /* Enable HCLK1 clock */\n    CLK_EnableModuleClock(HCLK1_MODULE);\n\n")):Fe+="    /* Set HCLK clock */\n    CLK_SetHCLK("+qt(_e,he,Pe)+");\n\n";if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Me))if("M2354"!==u&&(Fe+="    /* Set PCLK-related clock */\n"),0===u.indexOf("M480")||0===u.indexOf("M46"))N=$t(Me),Fe+="    CLK->PCLKDIV = (CLK_PCLKDIV_PCLK0DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+="CLK_PCLKDIV_PCLK1DIV"+Math.pow(2,N)+");\n\n";else if(0===u.indexOf("M0A21")||0===u.indexOf("M0A23"))N=$t(Me),Fe+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,N)+");\n\n";else if(0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031"))N=$t(Me),Fe+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,N)+");\n\n";else if("M2351"===u||"M261"===u)N=$t(Me),Fe+=0===N?"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK | ":"    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_HCLK_DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+=0===N?"CLK_PCLKDIV_APB1DIV_HCLK);\n\n":"CLK_PCLKDIV_APB1DIV_HCLK_DIV"+Math.pow(2,N)+");\n\n";else if("M2354"===u);else if("M2003"===u)N=$t(Me),Fe+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,N)+" | ",N=$t(Ee),Fe+="CLK_PCLKDIV_APB2DIV_DIV"+Math.pow(2,N)+");\n\n";else if("M2L31"===u)N=$t(Me),Fe+="    CLK->PCLKDIV = (CLK_PCLKDIV_APB0DIV_DIV"+Math.pow(2,N)+" | ",N=$t(xe),Fe+="CLK_PCLKDIV_APB1DIV_DIV"+Math.pow(2,N)+");\n\n",It("HCLK1EN")&&(N=$t(Ee),Fe+="    LPSCC->CLKDIV0 = (LPSCC->CLKDIV0 & ~(LPSCC_CLKDIV0_APB2DIV_Msk)) | (LPSCC_CLKDIV0_APB2DIV_DIV"+Math.pow(2,N)+");\n\n");else if("KM1M0DF"===u){let e="",t="";switch($t(Me)){case 1:e="CLK_HPCLKSEL_HXOCLK";break;case 2:e="CLK_HPCLKSEL_PLLCLK";break;default:e="CLK_HPCLKSEL_HRCCLK"}if(1===$t(Ee))t="CLK_LPCLKSEL_LXOCLK";else t="CLK_LPCLKSEL_LRCCLK";Fe+="    /* HPCLK clock configuration  */\n",Fe+="    CLK_SetHPCLK("+e+");\n\n",Fe+="    /* LPCLK clock configuration  */\n",Fe+="    CLK_SetLPCLK("+t+");\n\n"}else NUTOOL_CLOCK.g_CLKSEL[Me].length<=2?It(Me)?Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK0SEL_Msk;\n":Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK0SEL_Msk;\n":(N=$t(Me),Fe+=0===N?"    CLK_SetPCLK0(CLK_APB0DIV_HCLK);\n":"    CLK_SetPCLK0(CLK_APB0DIV_1_"+Math.pow(2,N)+"HCLK);\n"),NUTOOL_CLOCK.g_CLKSEL[xe].length<=2?It(xe)?Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK1SEL_Msk;\n\n":(N=$t(xe),Fe+=0===N?"    CLK_SetPCLK1(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK1(CLK_APB1DIV_1_"+Math.pow(2,N)+"HCLK);\n\n"),NUTOOL_CLOCK.g_CLKSEL[Ee].length<=2?It(Ee)?Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLK2SEL_Msk;\n\n":(N=$t(Ee),Fe+=0===N?"    CLK_SetPCLK2(CLK_APB1DIV_HCLK);\n\n":"    CLK_SetPCLK2(CLK_APB1DIV_1_"+Math.pow(2,N)+"HCLK);\n\n");else if(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ne))if(0===Ne.indexOf("IOCKDIV")){if(Fe+="    /* Set IOCLK clock */\n",0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?Fe+="    CLK_SetIOCLK(CLK_IOCKDIV_":Fe+="    CLK_SetIOCLK(IOCLK_DIV_",-1!==(K=$t(p=Ne).toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(p))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[p].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[p][t].sliceAfterX(":")===K){T=NUTOOL_CLOCK.g_CLKSEL[p][t].slicePriorToX(":");break}Fe+=T.slicePriorToX(":").sliceAfterX("/")+");\n\n"}else Fe+="    /* Set PCLK-related clock */\n","NUC123AN_AE"===u?It(Ne)?Fe+="    CLK->APBDIV = CLK->APBDIV | CLK_APBDIV_APBDIV_Msk;\n\n":Fe+="    CLK->APBDIV = CLK->APBDIV & ~CLK_APBDIV_APBDIV_Msk;\n\n":"NANO112"===u?Fe+="    CLK->APB_DIV = 0x"+gt($t(Ne)).toUpperCase()+"UL;\n\n":It(Ne)?Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 | CLK_CLKSEL0_PCLKSEL_Msk;\n\n":Fe+="    CLK->CLKSEL0 = CLK->CLKSEL0 & ~CLK_CLKSEL0_PCLKSEL_Msk;\n\n";else if(-1!==$t(be))Fe+="    /* Set PCLK divider */\n",Fe+="    CLK_SetModuleClock(PCLK_MODULE, CLK_CLKDIV0_PCLK("+($t(be)+1)+"), 1);\n\n";else if(NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV"))for(t=NUTOOL_CLOCK.g_register_map.PCLKDIV.length-1;t>=0;t--){var n,o=NUTOOL_CLOCK.g_register_map.PCLKDIV[t].slicePriorToX(":");(n=$t(o))>0&&(Fe+="    /* Set "+o+" Divider */\n    CLK_SET_"+o+"("+(n+1)+");\n\n")}return Fe},De=!0,"M451"===u?(L=[ge,Ke],c='#include "M451Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):0===u.indexOf("M460")?(L=[ge,Ke,"PLLFNCTL0","PLLFNCTL1"],c='#include "M460.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):"M480MD"===u?(L=[ge,Ke],c='#include "M480.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M480LD"===u?(L=[ge,Ke],c='#include "M480.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","none"]):"M55M1"===u?(L=["RTC_LXTCTL",ge,Ke,"APLL1CTL"],c='#include "NuMicro.h"',Be=["CLK_SRCCTL_LIRCEN_Msk","CLK_SRCCTL_HIRCEN_Msk","CLK_SRCCTL_LXTEN_Msk","CLK_SRCCTL_HXTEN_Msk","CLK_SRCCTL_HIRC48MEN_Msk","CLK_SRCCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","none","CLK_STATUS_HIRC48MSTB_Msk","CLK_STATUS_MIRCSTB_Msk"]):0===u.indexOf("KM1M0DF")?(L=[ge,Ke],c='#include "NuMicro.h"',c+="\n\n#define HXO_WCYCLE          (200)",c+="\n#define LXO_WCYCLE          (500)",Be=[],ze=[]):0===u.indexOf("KM1M4BF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],(function(e){return-1!==e.indexOf(":"+$t(oe).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_STABLE_HXOCLK);","none","none","none"]):0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_CHIPCKCTR_HXOEN_Msk, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],(function(e){return-1!==e.indexOf(":"+$t(oe).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);\n\n    /* Disable "+le+" circuit */\n    CLK_DisablePLL();","none","none","none"]):0===u.indexOf("KM1M7CF")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","none","none","CLK_EnableXtalRC(CLK_HXOCLK_ON, CLK_WCYCLE_"+_.filter(NUTOOL_CLOCK.g_CLKSEL[oe],(function(e){return-1!==e.indexOf(":"+$t(oe).toString())}))[0].toString().slicePriorToX(":")+");","none","none"],ze=["none","none","none","CLK_WaitClockReady(CLK_CHIPCKSTAT_HXOOK_Msk);","none","none","none","none"]):"M2351"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M2351.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M2354"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M2354.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","CLK_PWRCTL_MIRCEN_Msk","CLK_PWRCTL_MIRC1P2MEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","CLK_STATUS_MIRCSTB_Msk","none"]):"M253"===u?(L=[ge],c='#include "M253.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","","none","CLK_STATUS_MIRCSTB_Msk"]):0===u.indexOf("M25")?(L=[ge,Ke],c='#include "M251.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","CLK_STATUS_MIRCSTB_Msk"]):"M261"===u?(L=["RTC_LXTCTL",ge,Ke],c='#include "M261.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk/CLK_STATUS_LIRC32STB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):0===u.indexOf("M2L31")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48MEN_Msk","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48MSTB_Msk","CLK_STATUS_MIRCSTB_Msk"]):0===u.indexOf("M0A21")||0===u.indexOf("M0A23")?(L=[ge,Ke],c='#include "NuMicro.h"',Be=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],ze=["none","CLK_STATUS_HIRCSTB_Msk","none","none","none","none","none"]):0===u.indexOf("M030G")?(L=[ge,Ke],c='#include "M030G.h"',Be=["none","CLK_PWRCTL_HIRCEN_Msk","none","none","none","none"],ze=["none","CLK_STATUS_HIRCSTB_Msk","none","none","CLK_STATUS_PLLSTB_Msk","none","none"]):0===u.indexOf("M031")?(L=[ge,Ke],c='#include "M031Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"M051AN"===u||"M051BN"===u||"M051DN"===u||"M051DE"===u?(L=[ge,Ke],c='#include "M051Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M058S"===u?(L=[ge,Ke],c='#include "M058S.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0518"===u?(L=[ge,Ke],c='#include "M0518.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"M0519"===u?(L=[ge,Ke],c='#include "M0519.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC100AN"===u||"NUC100BN"===u||"NUC100DN"===u?(L=[ge,Ke],c='#include "NUC100Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC131"===u?(L=[ge,Ke],c='#include "NUC131.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC1311"===u?(L=[ge,Ke],c='#include "NUC1311.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC121AE"===u?(L=[ge,Ke],c='#include "NUC121.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN","CLK_PWRCTL_HXTEN","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NUC122AN"===u?(L=[ge,Ke],c='#include "NUC122.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC123AN_AE"===u?(L=[ge,Ke],c='#include "NUC123.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):0===u.indexOf("NUC126")?(L=[ge,Ke],c='#include "'+u+'.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"M0564"===u?(L=[ge,Ke],c='#include "M0564.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC2201"===u?(L=[ge,Ke],c='#include "NUC2201.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029AN"===u||"NUC029TAE"===u||"NUC029ZAN"===u?(L=[ge,Ke],c='#include "NUC029xAN.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","none","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","none","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xDE"===u?(L=[ge,Ke],c='#include "NUC029xDE.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC029xEE"===u?(L=[ge,Ke],c='#include "NUC029xEE.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","CLK_PWRCON_OSC48M_EN_Msk","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","CLK_CLKSTATUS_OSC48M_STB_Msk","none"]):"NUC029xGE"===u?(L=[ge,Ke],c='#include "NUC029xGE.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC48EN_Msk","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC48STB_Msk","none"]):"NUC200AN"===u?(L=[ge,Ke],c='#include "NUC200Series.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NUC200AE"===u?(L=[ge,Ke],c='#include "NUC230_240.h"',Be=["CLK_PWRCON_OSC10K_EN_Msk","CLK_PWRCON_OSC22M_EN_Msk","CLK_PWRCON_XTL32K_EN_Msk","CLK_PWRCON_XTL12M_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_OSC10K_STB_Msk","CLK_CLKSTATUS_OSC22M_STB_Msk","CLK_CLKSTATUS_XTL32K_STB_Msk","CLK_CLKSTATUS_XTL12M_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"MINI57"===u?(L=[ge],c='#include "Mini57Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXT_EN","CLK_PWRCTL_HXT_EN","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","none","none","none"]):"MINI58"===u?(L=[ge,Ke],c='#include "Mini58Series.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_XTLEN_LXT","CLK_PWRCTL_XTLEN_HXT","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_XTLSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]):"NANO100AN"===u||"NANO100BN"===u?(L=[ge,Ke],c='#include "Nano100Series.h"',Be=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO112"===u?(L=[ge,Ke],c='#include "Nano1X2Series.h"',Be=["CLK_PWRCTL_LIRC_EN_Msk","CLK_PWRCTL_HIRC_EN_Msk","CLK_PWRCTL_LXT_EN_Msk","CLK_PWRCTL_HXT_EN_Msk","none","none"],ze=["CLK_CLKSTATUS_LIRC_STB_Msk","CLK_CLKSTATUS_HIRC_STB_Msk","CLK_CLKSTATUS_LXT_STB_Msk","CLK_CLKSTATUS_HXT_STB_Msk","CLK_CLKSTATUS_PLL_STB_Msk","none","none"]):"NANO103"===u?(L=[ge,Ke],c='#include "Nano103.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRC0EN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","CLK_PWRCTL_HIRC1EN_Msk","CLK_PWRCTL_MIRCEN_Msk"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRC0STB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","CLK_STATUS_HIRC1STB_Msk","CLK_STATUS_MIRCSTB_Msk"]):"NUC505"===u?(L=["RTC_CLKSRC",ge,Ke,"APLLCTL"],c='#include "NUC505Series.h"',Be=["none","none","none","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["none","none","none","none","none","none"]):"MINI51AN"===u?(L=[ge],c='#include "Mini51.h"',De=!1):"MINI51DE"===u?(L=[ge],c='#include "Mini51Series.h"',De=!1):"MINI55"===u?(L=[ge],c='#include "Mini55Series.h"',De=!1):"NUC029AE"===u?(L=[ge],c='#include "NUC029FAE.h"',Be=[],ze=[],De=!1):"NUC100CN"===u?(L=[ge,Ke],c='#include "NUC100Series.h"',Be=[],ze=[],De=!1):"NM1200"===u?(L=[ge],c='#include "Mini51.h"',Be=[],ze=[],De=!1):"NM1500"===u?(L=[ge,Ke],c='#include "MT500Series.h"',Be=[],ze=[],De=!1):"M2003"===u?(L=[ge],c='#include "M2003.h"',Be=[],ze=[],De=!1):(L=[ge,Ke,"PLL2CTL"],c='#include "NUC472_442.h"',Be=["CLK_PWRCTL_LIRCEN_Msk","CLK_PWRCTL_HIRCEN_Msk","CLK_PWRCTL_LXTEN_Msk","CLK_PWRCTL_HXTEN_Msk","none","none"],ze=["CLK_STATUS_LIRCSTB_Msk","CLK_STATUS_HIRCSTB_Msk","CLK_STATUS_LXTSTB_Msk","CLK_STATUS_HXTSTB_Msk","CLK_STATUS_PLLSTB_Msk","none","none"]),"undefined"!=typeof NUTOOL_PER&&(c='#include "NuCodeGenProj.h"',"modularizeCode"===e&&(c+='\n#include "clk_conf.h"')),r="",null!==Ue){r="Base Clocks:\n",It(ve)&&b>0&&(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?((S={}).module=Le,S.busClock=b.toHzString(),S.engineClock="",Xe.push(S),r+=Le+":"+b.toHzString()+"\n"):((S={}).module="LIRC",S.busClock=b.toHzString(),S.engineClock="",Xe.push(S),r+="LIRC:"+b.toHzString()+"\n")),(It(ke)||It("HIRC1EN"))&&v>0&&((S={}).module=re,S.busClock=v.toHzString(),S.engineClock="",Xe.push(S),r+=re+":"+v.toHzString()+"\n"),(It(Re)||It("HIRC2EN"))&&U>0&&((S={}).module=se,S.busClock=U.toHzString(),S.engineClock="",Xe.push(S),r+=se+":"+U.toHzString()+"\n"),It(me)&&k>0&&((S={}).module=Ce,S.busClock=k.toHzString(),S.engineClock="",Xe.push(S),r+=Ce+":"+k.toHzString()+"\n"),It("MIRCEN")&&R>0&&((S={}).module="MIRC",S.busClock=R.toHzString(),S.engineClock="",Xe.push(S),r+="MIRC:"+R.toHzString()+"\n"),It("MIRC1P2MEN")&&I>0&&((S={}).module="MIRC1P2M",S.busClock=I.toHzString(),S.engineClock="",Xe.push(S),r+="MIRC1P2M:"+I.toHzString()+"\n"),(It(Ie)||It("LIRC32KEN"))&&m>0&&((S={}).module=ie,S.busClock=m.toHzString(),S.engineClock="",Xe.push(S),r+=ie+":"+m.toHzString()+"\n"),It(Ae)&&F>0&&((S={}).module=ne,S.busClock=F.toHzString(),S.engineClock="",Xe.push(S),r+=ne+":"+F.toHzString()+"\n"),It(Ae)&&A>0&&((S={}).module="RTC32k",S.busClock=A.toHzString(),S.engineClock="",Xe.push(S),r+="RTC32k:"+A.toHzString()+"\n"),(!It("PD")||It("PLLEN")||!It("NPLLEN")||It("APLL0EN"))&&H>0&&((S={}).module=le,S.busClock=H.toHzString(),S.engineClock="",Xe.push(S),r+=le+":"+H.toHzString()+"\n"),It("PLL2CKEN")&&y>0&&((S={}).module="PLL2",S.busClock=y.toHzString(),S.engineClock="",Xe.push(S),r+="PLL2:"+y.toHzString()+"\n"),It("PLL2CKEN")&&w>0&&((S={}).module="PLL480M",S.busClock=w.toHzString(),S.engineClock="",Xe.push(S),r+="PLL480M:"+w.toHzString()+"\n"),(!It("APD")||It("APLL1EN"))&&X>0&&((S={}).module=ae,S.busClock=X.toHzString(),S.engineClock="",Xe.push(S),r+=ae+":"+X.toHzString()+"\n"),!It("PDFN")&&D>0&&((S={}).module="PLLFN",S.busClock=D.toHzString(),S.engineClock="",Xe.push(S),r+="PLLFN:"+D.toHzString()+"\n"),It(Ae)&&q>0&&((S={}).module="HSUSB_OTG_PHY",S.busClock=q.toHzString(),S.engineClock="",Xe.push(S),r+="HSUSB_OTG_PHY:"+q.toHzString()+"\n"),z>0&&((S={}).module=_e,S.busClock=z.toHzString(),S.engineClock="",Xe.push(S),r+=_e+":"+z.toHzString()+"\n"),W>0&&((S={}).module=de,S.busClock=W.toHzString(),S.engineClock="",Xe.push(S),r+=de+":"+W.toHzString()+"\n"),V>0&&((S={}).module=ce,S.busClock=V.toHzString(),S.engineClock="",Xe.push(S),r+=ce+":"+V.toHzString()+"\n"),G>0&&((S={}).module=Oe,S.busClock=G.toHzString(),S.engineClock="",Xe.push(S),r+=Oe+":"+G.toHzString()+"\n"),B>0&&((S={}).module="ACLK",S.busClock=B.toHzString(),S.engineClock="",Xe.push(S),r+="ACLK:"+B.toHzString()+"\n"),Y>0&&((S={}).module=fe,S.busClock=Y.toHzString(),S.engineClock="",Xe.push(S),r+=fe+":"+Y.toHzString()+"\n");var We=NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV");for(Z>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Me)||We&&-1!==$t("PCLK0DIV"))&&((S={}).module=pe,S.busClock=Z.toHzString(),S.engineClock="",Xe.push(S),r+=pe+":"+Z.toHzString()+"\n"),J>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(xe)||We&&-1!==$t("PCLK1DIV"))&&((S={}).module=ue,S.busClock=J.toHzString(),S.engineClock="",Xe.push(S),r+=ue+":"+J.toHzString()+"\n"),Q>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(Ee)||We&&-1!==$t("PCLK2DIV"))&&((S={}).module=Te,S.busClock=Q.toHzString(),S.engineClock="",Xe.push(S),r+=Te+":"+Q.toHzString()+"\n"),ee>0&&We&&-1!==$t("PCLK3DIV")&&((S={}).module="PCLK3",S.busClock=ee.toHzString(),S.engineClock="",Xe.push(S),r+="PCLK3:"+ee.toHzString()+"\n"),te>0&&We&&-1!==$t("PCLK4DIV")&&((S={}).module="PCLK4",S.busClock=te.toHzString(),S.engineClock="",Xe.push(S),r+="PCLK4:"+te.toHzString()+"\n"),r+=$e,j.sort(),t=0,i=j.length;t<i;t+=1){if(l=j[t],qe=[],E=0,-1===(x=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))qe.push(x);else{for(;-1!==x.indexOf("/")&&(qe.push(x.slicePriorToX("/")),x=x.sliceAfterX("/"),!((E+=1)>10)););qe.push(x)}for(P=!0,n=0,o=qe.length;n<o;n+=1)if(!At(qe[n])){P=!1;break}P&&_t(l)&&((S={}).module=l,N=Lt(l),S.busClock=N.sliceAfterX(":")+" "+N.slicePriorToX(":"),r+=l+"=Bus Clock"+N,dt(l)?(S.engineClock=$("#"+l+"_span_showRealFreq").text().trim(),r=r+"/Engine Clock:"+$("#"+l+"_span_showRealFreq").text().trim()):S.engineClock="",Xe.push(S),r+="\n")}r.lastIndexOf($e)+28===r.length&&(r=r.slicePriorToX($e))}if(r+="********************/\n\n",r+=c,r+="\n\n",De){for(0!==F?"undefined"==typeof NUTOOL_PER?"modularizeCode"===e?(s="#undef  __"+ne+"\n",s+="#define __"+ne+"         ("+F+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):(r+="/*----------------------------------------------------------------------------\n",r+="  Define "+ne+" clock.\n",r+="  Please locate and modify the real one in your project.\n",r+="  Otherwise, the project may fail to build.\n",r+=" *----------------------------------------------------------------------------*/\n",r+="#define __"+ne+"         ("+F+"UL)  /*!< High Speed External Crystal Clock Frequency */\n\n"):s="__"+ne+"="+F+"ul;__LXT="+m+"ul":s="","default"===e?(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n"):"modularizeCode"===e&&(we=wt("modularizeCode"),r+="void NuCodeGenProj_init_base(void)\n{\n",C+="void NuCodeGenProj_init_base(void);\n",r+=f(),r+="    return;\n}\n\n","undefined"==typeof NUTOOL_PER?(r+="void NuCodeGenProj_init(void)\n{\n",C+="void NuCodeGenProj_init(void);\n"):(r+="void Clock_Init(void)\n{\n",C+="void Clock_Init(void);\n")),r+="    /*---------------------------------------------------------------------------------------------------------*/\n",r+="    /* Init System Clock                                                                                       */\n",r+="    /*---------------------------------------------------------------------------------------------------------*/\n",d=0,t=0,i=M.length;t<i;t+=1)(l=Dt(M[t]).slicePriorToX("/")).length>d&&(d=l.length);for(t=0,i=L.length;t<i;t+=1)if(void 0!==NUTOOL_CLOCK.g_register_map[L[t]]){if(l=Dt(L[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[L[t]]).toUpperCase()+"UL;\n"}for(t=0,i=M.length;t<i;t+=1)if(-1===$.inArray(M[t],L)&&-1===NUTOOL_CLOCK.g_register_map_description[M[t]].indexOf("Read Only")){if(l=Dt(M[t]),a=l.sliceAfterX("/"),d>(l=l.slicePriorToX("/")).length)for(n=0,o=d-l.length;n<o;n+=1)l+=" ";r+="    //"+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[M[t]]).toUpperCase()+"UL;\n"}r+="\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==u&&0!==u.indexOf("KM1M0DF")&&0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")&&(r+="    /* Unlock protected registers */\n    SYS_UnlockReg();\n\n"),"default"===e?r+=f():"modularizeCode"===e&&(r+="    /* Enable base clock */\n",r+="    NuCodeGenProj_init_base();\n\n",r+=we)}else{for(r+="/*\n * @brief This function updates clock registers to fulfill the configuration\n * @param None\n * @return None\n */\n","undefined"==typeof NUTOOL_PER?r+="void SYS_Init(void)\n{\n":r+="void Clock_Init(void)\n{\n",l=Dt(ge),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[ge]).toUpperCase()+"UL;\n",void 0!==NUTOOL_CLOCK.g_register_map[Ke]&&(l=Dt(Ke),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[Ke]).toUpperCase()+"UL;\n"),t=0,i=M.length;t<i;t+=1)-1===$.inArray(M[t],L)&&(l=Dt(M[t]),a=l.sliceAfterX("/"),l=l.slicePriorToX("/"),r+="    "+l+" = ("+l+" & ~("+a+")) | 0x"+gt(h[M[t]]).toUpperCase()+"UL;\n");r+="\n    return;\n}\n"}return Xe}function wt(e){var t,n,i,o,l,a,s,L,_,d,c,O=ft(NUTOOL_CLOCK.g_Module),f="CLKO".toEquivalent().toString(),p="CLKO_Divider".toEquivalent().toString(),T="CLKO1".toEquivalent().toString(),g="CLKO1_Divider".toEquivalent().toString(),K="STCLK_S".toEquivalent().toString(),h="_S".toEquivalent().toString(),S="    /* Enable module clock and set clock source */\n",N="",M=[];if(De){for(void 0===e&&(e="default"),"default"===e?r+="    /* Enable IP clock */\n":"modularizeCode"===e&&(C="",O=O.sort(Tt)),N="",t=0,i=O.length;t<i;t+=1){if(l=O[t],M=[],d=0,-1===(_=NUTOOL_CLOCK.g_Module[l][1]).indexOf("/"))M.push(_);else{for(;-1!==_.indexOf("/")&&(M.push(_.slicePriorToX("/")),_=_.sliceAfterX("/"),!((d+=1)>10)););M.push(_)}for(c=!0,n=0,o=M.length;n<o;n+=1)if(!At(M[n])){c=!1;break}c&&(a="",s="",L="",l===f?(s=qt(l),"NANO100AN"===u||"NANO100BN"===u?(a="    CLK_EnableCKO("+s+");\n",L="    CLK_DisableCKO();\n"):"NANO112"===u?(a="    CLK_EnableCKO0("+s+", 1);\n",L="    CLK_DisableCKO0();\n"):0===u.indexOf("KM1M7CF")?(a="    CLK_EnableCKO("+s.slicePriorToX(",")+");\n",L="    CLK_DisableCKO();\n"):(a="    CLK_EnableCKO("+s+", 1);\n",L="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=Bt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===p?(s=qt(l),"NANO100AN"===u||"NANO100BN"===u?(a="    CLK_EnableCKO("+s+");\n",L="    CLK_DisableCKO();\n"):"NANO112"===u?(a="    CLK_EnableCKO0("+s+", 0);\n",L="    CLK_DisableCKO0();\n"):(a="    CLK_EnableCKO("+s+", 0);\n",L="    CLK_DisableCKO();\n"),-1!==$.inArray("CLKO_1Hz",O)&&(a+=Bt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1))):l===T?(a="    CLK_EnableCKO1("+(s=qt(l))+", 1);\n",L="    CLK_DisableCKO1();\n"):l===g?(a="    CLK_EnableCKO1("+(s=qt(l))+", 0);\n",L="    CLK_DisableCKO1();\n"):"CLKO_1Hz"===l?(a=Bt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!0),L=Bt(NUTOOL_CLOCK.g_Module.CLKO_1Hz[1],!1)):"SYSTICK"===l&&(a="",It("CLKSRC")||(-1!==$t("STICKDIV")?(a="    CLK->CLKDIV1 = CLK->CLKDIV1 & ~CLK_CLKDIV1_STICKDIV_Msk;\n",a+="    CLK->CLKDIV1 = CLK->CLKDIV1 + CLK_CLKDIV1_STICK("+($t("STICKDIV")+1)+");\n"):-1!==$t("ST0DIV")&&(a="    CLK_SET_STDIV("+($t("ST0DIV")+1)+");\n")),a+="    CLK_EnableSysTick("+(s=qt("SYSTICK",K,""))+", 0);\n",L="    CLK_DisableSysTick();\n"),""!==a?("modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,be+=a):("partial"!==e&&"HSUSBH"!==l&&("WWDT"!==l||"WWDT"===l&&-1!==NUTOOL_CLOCK.g_Module.WWDT[0].indexOf(h))&&(void 0!==NUTOOL_CLOCK.g_Module[l][3]?(a="    CLK_EnableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n",L="    CLK_DisableModuleClock("+NUTOOL_CLOCK.g_Module[l][3]+");\n"):(a="    CLK_EnableModuleClock("+l+"_MODULE);\n",L="    CLK_DisableModuleClock("+l+"_MODULE);\n"),"modularizeCode"===e&&(r+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",S+="    NuCodeGenProj_init_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"();\n"),r+=a,be+=a),-1!==(s=qt(l)).indexOf("RTC->LXTCTL")?("modularizeCode"===e?r+=s:N+=s,be+=s):"None"!==s&&"MODULE_NoMsk, MODULE_NoMsk"!==s&&("CCAP0"===l&&0===u.indexOf("M55M1")?(a="    CLK_SetModuleClock("+l+"_MODULE, "+s.slicePriorToX(",")+", MODULE_NoMsk);\n",$t("VSENSEDIV")>0&&(a+="    CLK->VSENSEDIV = (CLK->VSENSEDIV & ~CLK_VSENSEDIV_VSENSEDIV_Msk) | CLK_VSENSEDIV_VSENSEDIV("+($t("VSENSEDIV")+1)+");\n")):a=0===l.indexOf("RTC")&&0===u.indexOf("M2L31")?"    RTC_SetClockSource("+s.slicePriorToX(",")+");\n":"    CLK_SetModuleClock("+l+"_MODULE, "+s+");\n","modularizeCode"===e?r+=a:N+=a,be+=a)),"modularizeCode"===e&&(""!==a&&(r+="\n    return;\n}\n\n"),""!==L&&(r+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void)\n{\n",C+="void NuCodeGenProj_deinit_"+l.slicePriorToX("_1Hz").slicePriorToX("_Divider").toLowerCase()+"(void);\n",r+=L,r+="\n    return;\n}\n\n")),"functionalTest"===e&&(r+=L))}return""!==N&&("default"===e&&(r+="\n    /* Set IP clock */\n"),r+=N),S}}function Xt(){var e="    /* Enable IP clock */\n",t="    /* Enable module clock and set clock source */\n";De&&(r.lastIndexOf(e)+26===r.length?r=r.slicePriorToX(e):r.lastIndexOf(t)+51===r.length?r=r.slicePriorToX(t):r+="\n",r+="    /* Update System Core Clock */\n    /* User can use SystemCoreClockUpdate() to calculate SystemCoreClock. */\n    SystemCoreClockUpdate();\n\n","undefined"==typeof NUTOOL_PER&&"NUC505"!==u&&0!==u.indexOf("KM1M0DF")&&0!==u.indexOf("KM1M4")&&0!==u.indexOf("KM1M7")&&(r+="    /* Lock protected registers */\n    SYS_LockReg();\n\n"),r+="    return;\n}\n\n")}function Dt(e){var t,n,i,o,l,a=0,r=[],s="SYST_CSR".toEquivalent().toString(),C="";if(void 0!==NUTOOL_CLOCK.g_register_map[e]){for(t=0,n=NUTOOL_CLOCK.g_register_map[e].length;t<n;t+=1)if(l=NUTOOL_CLOCK.g_register_map[e][t].sliceAfterX(":"),-1===r.indexOf(l))if(r.push(l),-1===l.indexOf("-"))a+=Math.pow(2,l);else for(i=parseInt(l.sliceAfterX("-"),10),o=parseInt(l.slicePriorToX("-"),10)+1;i<o;i+=1)a+=Math.pow(2,i);C=e===s?"SysTick->CTRL/0x"+gt(a).toUpperCase()+"UL":"RTC_LXTCTL"===e?"RTC->LXTCTL/0x"+gt(a).toUpperCase()+"UL":"RTC_CLKSRC"===e?"RTC->CLKSRC/0x"+gt(a).toUpperCase()+"UL":0===e.indexOf("LPSCC")||0===e.indexOf("LPSPI")?e.slicePriorToX("_")+"->"+e.sliceAfterX("_")+"/0x"+gt(a).toUpperCase()+"UL":"CLK->"+e+"/0x"+gt(a).toUpperCase()+"UL"}return C}function qt(e,t,n){var i,o,l,a,r,s,C,L,_,d,c,O,f,p=-1,T="",g="CLKO".toEquivalent().toString(),K="CLKO_Divider".toEquivalent().toString(),S="CLKO1".toEquivalent().toString(),N="CLKO1_Divider".toEquivalent().toString(),x="HXT".toEquivalent().toString(),E="LXT".toEquivalent().toString(),P="HCLK".toEquivalent().toString(),b=!1,v=!1;if(s=void 0===t?NUTOOL_CLOCK.g_Module[e][0]:t,p=-1,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(s))for(i=0,o=M.length;i<o;i+=1){for(r=M[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(s)?(O=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0],f=parseInt(O.sliceAfterX(":"),10),O=O.slicePriorToX(":"),p=$t(s)+($t(O)<<f)>>>0,b=!0):(p=$t(s),b=!1);break}if(-1!==p)break}if(-1!==p){if(0===u.indexOf("KM1M7CF")&&"SYSTICK"===e){var U=$t("CLKSRC").toString(),k=$t("STCKSEL").toString();C=1==U&&0==k?"CPUCLK":0==U&&0==k?"HXOCLK/128":0==U&&1==k?"HRCCLK1/128":"CPUCLK"}else if("SYSTICK"===e&&It("CLKSRC"))C=0===u.indexOf("M55M1")?"ACLK":P;else for(i=0,o=NUTOOL_CLOCK.g_CLKSEL[s].length;i<o&&(C=NUTOOL_CLOCK.g_CLKSEL[s][i],p!==parseInt(C.sliceAfterX(":"),10));i+=1)i===o-1&&(T="MODULE_NoMsk");if(C=C.slicePriorToX(":"),"M55M1"===u&&(C=C.replace("SCLK","SYSCLK")),qe&&-1!==C.indexOf("XT")&&(C="MINI57"===u?C.replace(x,"EXT").replace(E,"EXT"):C.replace(x,"XTAL").replace(E,"XTAL")),"MINI57"===u?-1!==s.indexOf("STCLK")?T=-1===C.indexOf("/")?"CLK_SYSTICK_SRC_"+C:"CLK_SYSTICK_SRC_"+C.slicePriorToX("/")+"_HALF":-1===C.indexOf("/")?T="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C:(L=C,T="CLK_"+s.slicePriorToX("SEL")+"_SRC_"+C.slicePriorToX("/")+"_"+L.sliceAfterX("/")):"NUC505"===u?T="CLK_"+s.slicePriorToX("SEL").slicePriorToX("_S")+"_SRC_"+C.replace(x,"EXT").replace("RTC32k","RTC"):0===u.indexOf("KM1M7CF")&&"SYSTICK"===e?T=0===C.indexOf("CPUCLK")?"CLK_SYSTICK_CLK_CPU":0===C.indexOf("HXOCLK/128")?"CLK_SYSTICK_CLK_HXO_DIV128":0===C.indexOf("HRCCLK1/128")?"CLK_SYSTICK_CLK_HRCCLK1_DIV128":"CLK_SYSTICK_CLK_CPU":0===u.indexOf("KM1M7CF")&&"CLKOUT"===e?T=0===C.indexOf("HRCCLK1/8")?"CLK_CLKOUTSEL_HRCCLK1_DIV8":0===C.indexOf("HXOCLK/8")?"CLK_CLKOUTSEL_HXOCLK_DIV8":0===C.indexOf("PLLCLK/256")?"CLK_CLKOUTSEL_PLLCLK_DIV256":"CLK_CLKOUTSEL_HRCCLK1_DIV8":-1===C.indexOf("/")?T="CLK_"+r+"_"+s+"_"+C:-1!==C.indexOf("/")&&-1!==C.indexOf("DIV")?(void 0===n&&(n=C.sliceAfterX("(").slicePriorToX("+")),L=C,T="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")):(L=C,T="CLK_"+r+"_"+s+"_"+C.slicePriorToX("/")+"_DIV"+L.sliceAfterX("/")),(0===u.indexOf("M25")||0===u.indexOf("M030")||0===u.indexOf("M031")||0===u.indexOf("M0A21")||0===u.indexOf("M0A23"))&&-1!==T.indexOf("LXTCTL"))return T=-1!==T.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_C32KS_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_C32KS_Msk;\n";if("M55M1"===u&&-1!==T.indexOf("LXTCTL")&&(T=-1!==T.indexOf("LIRC")?"RTC_LXTCTL_RTCCKSEL_LIRC":"RTC_LXTCTL_RTCCKSEL_LXT"),"M2354"===u&&-1!==T.indexOf("LXTCTL"))return T=-1!==T.indexOf("LIRC")?"    RTC->LXTCTL |= RTC_LXTCTL_RTCCKSEL_Msk;\n":"    RTC->LXTCTL = RTC->LXTCTL & ~RTC_LXTCTL_RTCCKSEL_Msk;\n";if("NUC2201"!==u&&"NUC029xEE"!==u||-1===T.indexOf("HIRC48")||(T="CLK_CLKSEL0_USB_S_RC48M"),"M480LD"===u&&-1!==T.indexOf("HIRC48")&&(T="CLK_CLKSEL0_USBSEL_RC48M"),"M2L31"===u&&((T=(T=T.replace("SRHCLK0","HCLK")).replace("HCLK0","HCLK")).includes("LPSCC")?T=T.sliceAfterX("CLK_"):T.includes("LXTCTL")&&(T=T.includes("LIRC")?"RTC_CLOCK_SOURCE_LIRC":"RTC_CLOCK_SOURCE_LXT")),b){for(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[s][0].slicePriorToX(":"),i=0,o=M.length;i<o;i+=1){for(r=M[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(L=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&L.indexOf(":")===s.length){v=!0;break}if(v)break}T=T+"|CLK_"+r+"_"+s.slicePriorToX("_")+"_EXT_"+C}}else"SYSTICK"===e?(C=(C=It("CLKSRC")?"M55M1"===u?"ACLK":P:-1===NUTOOL_CLOCK.g_Module.SYSTICK[0].indexOf("STICKDIV")?NUTOOL_CLOCK.g_Module.SYSTICK[0]:x).slicePriorToX(":"),qe&&-1!==C.indexOf("XT")&&(C=C.replace(x,"XTAL").replace(E,"XTAL")),"NUC505"!==u?-1===C.indexOf("/")?T="CLK_CLKSEL0_STCLKSEL_"+C:(L=C,T="CLK_CLKSEL0_STCLKSEL_"+C.slicePriorToX("/")+"_DIV"+L.sliceAfterX("/")):T="CLK_STICK_SRC_"+C.replace(x,"EXT").replace("RTC32k","RTC")):T="MODULE_NoMsk";if("SYSTICK"!==e)if("none"===(s=void 0===n?NUTOOL_CLOCK.g_Module[e][2]:n))T+=", MODULE_NoMsk";else{for(p=-1,i=0,o=M.length;i<o;i+=1){for(r=M[i],l=0,a=NUTOOL_CLOCK.g_register_map[r].length;l<a;l+=1)if(-1!==(C=NUTOOL_CLOCK.g_register_map[r][l]).indexOf(s)&&C.indexOf(":")===s.length){-1===C.indexOf("-")?c=1<<(_=parseInt(C.sliceAfterX(":"),10))>>>0:(_=parseInt(C.sliceAfterX("-"),10),d=parseInt(C.sliceBetweenXandX(":","-"),10)-_+1,c=Math.pow(2,d)-1<<_>>>0),p=(p=(h[r]&c)>>>0)>>>_>>>0;break}if(-1!==p)break}if(-1!==p)if(e!==g&&e!==K&&e!==S&&e!==N){for(i=0,o=NUTOOL_CLOCK.g_DIV_Module_Defines.length;i<o;i+=1)0===e.indexOf(NUTOOL_CLOCK.g_DIV_Module_Defines[i].slicePriorToX(":"))&&(e=NUTOOL_CLOCK.g_DIV_Module_Defines[i].sliceAfterX(":"));"NANO100AN"===u||"NANO100BN"===u||"NANO112"===u||"NANO103"===u?T=T+", CLK_"+e+"_CLK_DIVIDER("+(p+1)+")":0!==u.indexOf("M480")||0!==e.indexOf("USB")&&0!==e.indexOf("OTG")?"MINI57"===u?T=-1!==e.indexOf("ADC")?T+", CLK_CLKDIV_EADC("+(p+1)+")":T+", CLK_CLKDIV_HCLK("+(p+1)+")":"M2L31"===u&&0===r.indexOf("LPSCC")?T=T+", "+r+"_"+e+"("+(p+1)+")":("M55M1"===u&&(0===e.indexOf("USB")&&(e="USB"),e+="DIV"),T=T+", CLK_"+r+"_"+e+"("+(p+1)+")"):T=T+", CLK_"+r+"_USB("+(p+1)+")"}else T=T+", "+p;else T+=", MODULE_NoMsk"}return T}function Bt(e,t){var n,i,o,l,a,r,s,C="";if("none"===(r=e))C="MODULE_NoMsk";else for(n=0,i=M.length;n<i;n+=1){for(a=M[n],o=0,l=NUTOOL_CLOCK.g_register_map[a].length;o<l;o+=1)if(-1!==(s=NUTOOL_CLOCK.g_register_map[a][o]).indexOf(r)&&s.indexOf(":")===r.length){C=t?"    CLK->"+a+" = CLK->"+a+" | CLK_"+a+"_"+r+"_Msk;\n":"    CLK->"+a+" = CLK->"+a+" & ~CLK_"+a+"_"+r+"_Msk;\n";break}if(""!==C)break}return C}function zt(){"undefined"==typeof NUTOOL_PER?"none"===$("#ChipType").css("display")?($("#ChipType").show(),$("#MCU").show(),null!==Ue&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#ChipType").hide(),$("#MCU").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px")):"none"===$("#clockRegsTree").css("display")?($("#clockRegsTree").show(),null!==Ue&&$("#searchModule").show(),$("#tabs").css({left:f+8+"px"}),$("#tabs").css("width",n-f-8+"px")):($("#clockRegsTree").hide(),$("#searchModule").hide(),$("#tabs").css({left:"0px"}),$("#tabs").css("width",n-8+"px"))}function Wt(){Nt(),rt(),Fe=!0,Mt(),Fe=!1}function Vt(t){if(console.log("filename:"+t),console.log(null==t?`${g}.ncfg`:`${t}.ncfg`),Pt(bt))try{Zt();var n=`/****************************************************************************\r\n * @file     ${g}.ncfg\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${ke} clock config file\r\n *\r\n * @note Please do not modify this file.\r\n *       Otherwise, it may not be loaded successfully.\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${Re} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${g}\r\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Re} ***/\r\n`,i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,null==t?`${g}.ncfg`:`${t}.ncfg`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function Gt(){Zt();var e=`Please do not modify this file. Otherwise, it may not be loaded successfully.\nMCU:${g}\n${r}`;try{localStorage.setItem("Nu_config",e)}catch(e){}}function jt(e){var t,n,i,o,l,a,r,s,C,_,d,c,O,f="checked=true",p="",T=[],g="",K="",h="",S=null,N=[],M=localStorage.getItem("UIlanguage"),x="",E="",P="";if(function(e,t){var n,i,o,l=["*","?",'"',"<",">","|"],a=!0;for(n=0,i=l.length;n<i;n+=1)if(o=l[n],-1!==t.indexOf(l[n])){Ut("工程路径不应该包含"+o+"。请修正它。","專案路徑不應該包含"+o+"。請修正它。","The project path should not contain "+o+". Please fix it."),a=!1;break}for(l.push("\\"),l.push("/"),l.push(":"),n=0,i=l.length;n<i;n+=1)if(o=l[n],-1!==e.indexOf(o)){Ut("工程名称不应该包含"+o+"。请修正它。","專案名稱不應該包含"+o+"。請修正它。","The project name should not contain "+o+". Please fix it."),a=!1;break}return t.charAt(0).match(/^[a-zA-Z]/)&&t.charAt(1).match(/^[:]/)&&t.charAt(2).match(/^[\/\\]/)||(Ut("工程路径开头应为磁碟机代号、磁碟区分隔符号和元件分隔符号(C:)。请修正它。","專案路徑開頭應為磁碟機代號、磁碟區分隔符號和元件分隔符號(C:)。請修正它。","The project path should begin with a drive letter, a volume separator and a component separator (C:). Please fix it."),a=!1),e.slice(-1).match(/^[ .]/)&&(Ut("工程名称不应以空格或句号结尾。请修正它。","專案名稱不應以空格或句號結尾。請修正它。","The project name should not end with a space or peroid. Please fix it."),a=!1),a},d=function(){-1!==L.indexOf("Simplified")?(g="模块",K="汇流排频率",h="引擎频率"):-1!==L.indexOf("Traditional")?(g="模組",K="匯流排頻率",h="引擎頻率"):(g="Module",K="Bus Clock",h="Engine Clock"),$("#reviewReportTable")[0]||$("<div id='reviewReportTable'></div>").insertAfter($("#generateCodeDialogMainPart_div")),N=yt(),c=N.length>10?"282px":"100%",N.length>0&&(S=new Tabulator("#reviewReportTable",{height:c,data:N,layout:"fitColumns",columns:[{title:g,field:"module"},{title:K,field:"busClock"},{title:h,field:"engineClock"}],rowClick:function(e,t){null!==Ue&&(Ue.selectAll("g.node").on("searchFromInput")(t._row.data.module),$("#tabs").tabs({active:3}),3!==$("#tabs").tabs("option","active")&&$("#tabs").tabs({active:2}))},langs:{Simplified:{headerFilters:{default:"过滤"}},Traditional:{headerFilters:{default:"過濾..."}},English:{headerFilters:{default:"filter..."}}}}),-1!==L.indexOf("Simplified")?S.setLocale("Simplified"):-1!==L.indexOf("Traditional")?S.setLocale("Traditional"):S.setLocale("English"))},Pt(bt)){if(null==(E=localStorage.getItem("ProjectName"))&&(E=""),null==localStorage.getItem("ProjectLocation")&&"",null==(P=localStorage.getItem("ProjectLocationHistory"))&&(P=""),void 0===M||null==M?(i="Generate Code",o="Project Name","Please input a folder path for storing the generated code:",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",p="Or you can choose a folder from recent projects","Browse",r="Modularize Code",_="Review Report",O="Confirm","Leave"):(null!=(x=localStorage.getItem("CheckModularizeCode"))&&"No"!==x||(x="No",f=""),"Simplified Chinese"===M?(i="产生程式码",o="工程名称","请输入文件夹路径，用于存放生成的代码:",l="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",p="或是您可以从最近的工程中选择一个","浏览",r="模组化代码",_="检阅报告",O="确定","离开"):"Traditional Chinese"===M?(i="產生程式碼",o="專案名稱","請輸入資料夾路徑，用於存放生成的程式碼:",l="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",p="或是您可以從最近的專案中選擇一個","瀏覽",r="模組化程式碼",_="檢閱報告",O="確定","離開"):(i="Generate Code",o="Project Name","Please input a folder path for storing the generated code:",l="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",p="Or you can choose a folder from recent projects","Browse",r="Modularize Code",_="Review Report",O="Confirm","Leave")),""===E.trim()&&(E="MyProject"),""!==P.trim()){for('<br /><label><select id="generateCodeDialogSelect" style="width: 450px;height:32px;"><option value="default">'+p+"</option>",t=0,n=(T=P.split(">")).length-1;t<n;t++)'<option value="'+T[t]+'">'+T[t]+"</option>";"</select></label>"}-1===["MINI51DE","MINI55","NUC029AE","NUC100CN","NM1200","NM1500"].indexOf(u)?s="checkbox":(r="",s="hidden",f=""),null===Ue?(_="",C="hidden"):C="checkbox",pt(),void 0===e?(a='<div id="generateCodeDialogMainPart_div"><label>'+o+': <input type="text" id="inputText_projectName" value="'+E+'" style="width:250px;height:24px;"></label><br /><br /><label><p>'+l+"</p></div>",a+='<div id="reviewReportTable"></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},create:function(e,t){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")?$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label><input type='"+C+"' id='checkbox_ReviewReport'/>"+_+"</label></label></div>").prependTo(n):$("<div class='generateCodeByModule'><label><input type='"+s+"' id='checkbox_ModularizeCode' "+f+"/>"+r+" </label></div>").prependTo(n)},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){localStorage.setItem("ProjectName",$("#inputText_projectName").val()),$("#checkbox_ModularizeCode").is(":checked")?localStorage.setItem("CheckModularizeCode","Yes"):localStorage.setItem("CheckModularizeCode","No"),$("#generateCodeDialog_buttonOk").button("disable"),""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Yt()}catch(e){}$("#generateCodeDialog").dialog("isOpen")?$("#generateCodeDialog").dialog("destroy"):$("#generateCodeDialog_buttonOk").button("enable")}}]})):0===e.indexOf("reviewReport")&&(a='<div id="reviewReportTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:_,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},buttons:[{id:"generateCodeDialog_buttonOk",text:O,click:function(){-1!==e.indexOf("runAnotherTool")?runAnotherTool():$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy")}}]}),d()),$("#generateCodeDialogInput").keypress((function(e){if(22===e.which)$("#generateCodeDialogInput").val(window.clipboardData.getData("Text"))})),$("#generateCodeDialogBrowseFolder").click((function(){""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Yt()}catch(e){}""!==NUTOOL_CLOCK.g_clockFunctionString&&-1!==NUTOOL_CLOCK.g_clockFunctionString.indexOf(":")&&$("#generateCodeDialogInput").val(NUTOOL_CLOCK.g_clockFunctionString),$("#generateCodeDialog").focus()})),$("#generateCodeDialogSelect").change((function(){"default"!==$("#generateCodeDialogSelect").val()&&($("#generateCodeDialogInput").val($("#generateCodeDialogSelect").val()),$("#generateCodeDialogSelect").val($("#generateCodeDialogSelect option:first-child").val()))})),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")?(d(),$("#generateCodeDialogMainPart_div").hide(),$("#generateCodeDialogTableWrapper").show(),$("#generateCodeDialog_buttonOk").button("disable")):($("#reviewReportTable").remove(),$("#generateCodeDialogMainPart_div").show(),$("#generateCodeDialogTableWrapper").hide(),$("#generateCodeDialog_buttonOk").button("enable"))}))}}function Yt(){if($("#checkbox_ModularizeCode").is(":checked")){Qt(),a=(a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Re} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${g}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Re} ***/\n`).replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`);var n=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Re} All rights reserved.\n*****************************************************************************/\n\n#ifndef __${$("#inputText_projectName").val().toUpperCase()}_H__\n#define __${$("#inputText_projectName").val().toUpperCase()}_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${C}#ifdef __cplusplus\n}\n#endif\n#endif /*__${$("#inputText_projectName").val().toUpperCase()}_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Re} ***/\n`;n=n.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var i=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(i,`${$("#inputText_projectName").val()}.h`);var o=`/****************************************************************************\n * @file     nutool_clkcfg.h\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Re} All rights reserved.\n*****************************************************************************/\n\n#ifndef __NUTOOL_CLKCFG_H__\n#define __NUTOOL_CLKCFG_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${s}#ifdef __cplusplus\n}\n#endif\n#endif /*__NUTOOL_CLKCFG_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Re} ***/\n`;o=o.replaceAll("NuCodeGenProj",`${$("#inputText_projectName").val()}`);var l=new Blob([o],{type:"text/plain;charset=utf-8"});saveAs(l,"nutool_clkcfg.h")}else{Jt();var a=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${e}\n * @Date     ${new Date}\n * @brief    ${ke} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Re} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${g}\n${r}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Re} ***/\n`;t=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`)}Vt($("#inputText_projectName").val())}function Zt(){var e,t,n="HXT".toEquivalent().toString(),i="LXT".toEquivalent().toString(),o="HIRC".toEquivalent().toString(),l="LIRC".toEquivalent().toString(),a="PLL".toEquivalent().toString(),s="APLL".toEquivalent().toString();for(r="",e=0,t=M.length;e<t;e+=1)r+="Reg:"+M[e]+" = 0x"+gt(h[M[e]]).toUpperCase()+"\r\n";m>0&&(r+=i+":"+m+"\r\n"),F>0&&(r+=n+":"+F+"\r\n"),m>0&&(r+=l+":"+b+"\r\n"),F>0&&(r+=o+":"+v+"\r\n"),A>0&&(r+="RTC32k:"+A+"\r\n"),H>0&&(r+=a+":"+H+"\r\n"),y>0&&(r+="PLL2:"+y+"\r\n"),w>0&&(r+="PLL480M:"+w+"\r\n"),X>0&&(r+=s+":"+X+"\r\n"),D>0&&(r+="PLLFN:"+D+"\r\n"),q>0&&(r+="HSUSB_OTG_PHY:"+q+"\r\n"),r+="Step:"+x+"\r\n",e=null,t=null}function Jt(){yt(),wt(),Xt()}function Qt(){yt("modularizeCode"),Xt()}function en(){var e,t;kt((function(){if(He){for(He=!1,Nt(),NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",M=ft(NUTOOL_CLOCK.g_register_map_default),h=[],e=0,t=M.length;e<t;e+=1)h[M[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[M[e]],16);Mt()}an()}))}function tn(){null!==Ue&&(Xe=!Xe,Et(x-1-1),$("#tabs").tabs({active:x-1}))}function nn(){null!==Ue&&kt((function(){Ft(),an()}))}function on(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,p,u,T,g,K,h,S,N,M,x,E="",P="",b="",v="PLL".toEquivalent().toString();me||("Simplified Chinese"===L?(e="设定",t="从下面选取一个语言显示在操作介面上。",n="英文",i="简体中文",o="繁体中文",P="checked",l="确定",a="离开"):"Traditional Chinese"===L?(e="設定",t="從下面選取一個語言顯示在操作介面上。",n="英文",i="简體中文",o="繁體中文",b="checked",l="確定",a="離開"):(e="Settings",t="Select one of the following languages displayed in UI.",n="English",i="Simplified Chinese",o="Traditional Chinese",E="checked",l="Confirm",a="Leave"),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy"),$('<div id="languageDialog"><p>'+t+'</p><input type="radio" id="engiish" value="English" name="UIlanguage" '+E+'><label for="engiish">'+n+'</label><br /><input type="radio" id="simplifiedChinese" value="Simplified Chinese" name="UIlanguage" '+P+'><label for="simplifiedChinese">'+i+'</label><br /><input type="radio" id="traditionalChinese" value="Traditional Chinese" name="UIlanguage" '+b+'><label for="traditionalChinese">'+o+'</label><br /><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",buttons:[{text:l,click:function(){$("input").each((function(){if(!0===this.checked&&"on"!==$(this).val()){L!==$(this).val()&&!0,-1!==(L=$(this).val()).indexOf("Simplified")?(r="型号",s="晶片系列:",C="Clock寄存器",_="搜寻模块",d="启用",c="停用",O="等待",p="周期",u="",T="模块",g="的时脉频率: ",K="下一步",h="基础时脉源",S=v,N="模块",M="没有"+v+"相关的时脉源可供使用。",x="输入期望值"):-1!==L.indexOf("Traditional")?(r="型號",s="晶片系列:",C="Clock暂存器",_="搜尋模組",d="啟用",c="停用",O="等待",p="週期",u="",T="模組",g="的時脈頻率: ",K="下一步",h="基礎時脈源",S=v,N="模組",M="沒有"+v+"相關的時脈源可供使用。",x="輸入期望值"):(r="Part No.",s="Chip Series:",C="Clock Registers",_="Search Module",d="Enable",c="Disable",O="Wait",p="cycles",u="The clock of ",T="The clock of ",g=": ",K="Next Step",h="Base Clocks",S=v,N="Module",M="There are no "+v+"-related clock sources available.",x="Input the expected value"),$("#MCU_span").text(r),$("#ChipType_span").text(s),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),C),$("#searchModule_span").text(_),$(".enable_span").text(d),$(".disable_span").text(c),$(".wait_span").text(O),$(".cycles_span").text(p),$(".specificRealOutput_before_span").text(u),$(".realOutput_before_span").text(T),$(".realOutput_after_span").text(g),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=K),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=K),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=K),$("#base_clocks_span").text(h),$("#pll_clocks_span").text(S),$("#module_span").text(N),$("#no_pll_span").text(M),$("[title]").prop("title",x),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px");try{localStorage.setItem("UIlanguage",$(this).val())}catch(e){}fn(),$("#languageDialog").is(":visible")&&$("#languageDialog").dialog("destroy")}}))}},{text:a,click:function(){""===L&&(L="English"),$(this).is(":visible")&&$(this).dialog("destroy")}}],close:function(){$(this).dialog("destroy")}}))}function ln(){var e,t,n,i,o,l,a,r,s,C,_,d,c,O,p,u,T,g="PLL".toEquivalent().toString();Ht(),-1!==L.indexOf("Simplified")?(n="型号",i="晶片系列:",t="Clock寄存器",e="搜寻模块",o="启用",l="停用",a="等待",r="周期",s="",C="模块",_="的时脉频率: ",d="下一步",c="基础时脉源",O=g,p="模块",u="没有"+g+"相关的时脉源可供使用。",T="输入期望值",rn("ID_BUTTON_SHOW_REGISTERS","开关选择区域和MFP寄存器树状图"),rn("ID_BUTTON_LOAD","读取配置档"),rn("ID_BUTTON_SAVE","存放配置档"),rn("ID_BUTTON_GENERATE_CODE","产生程式码"),rn("ID_BUTTON_CONNECT_TO_TARGET","连线到目标芯片"),rn("ID_BUTTON_RETURN_DEFAULT","回到初始设置"),rn("ID_BUTTON_SWITCH_CLOCK_TREE","切换时钟树形图"),rn("ID_BUTTON_DISABLE","取消所有已选模组"),rn("ID_BUTTON_LANGUAGE","设定"),rn("ID_BUTTON_INSTRUCTION","阅读用户手册")):-1!==L.indexOf("Traditional")?(n="型號",i="晶片系列:",t="Clock暂存器",e="搜尋模組",o="啟用",l="停用",a="等待",r="週期",s="",C="模組",_="的時脈頻率: ",d="下一步",c="基礎時脈源",O=g,p="模組",u="沒有"+g+"相關的時脈源可供使用。",T="輸入期望值",rn("ID_BUTTON_SHOW_REGISTERS","開關選擇區域和MFP暫存器樹狀圖"),rn("ID_BUTTON_LOAD","讀取配置檔"),rn("ID_BUTTON_SAVE","存放配置檔"),rn("ID_BUTTON_GENERATE_CODE","產生程式碼"),rn("ID_BUTTON_CONNECT_TO_TARGET","連線到目標晶片"),rn("ID_BUTTON_RETURN_DEFAULT","回到初始設置"),rn("ID_BUTTON_SWITCH_CLOCK_TREE","切換時鐘樹狀圖"),rn("ID_BUTTON_DISABLE","取消所有已選模組"),rn("ID_BUTTON_LANGUAGE","設定"),rn("ID_BUTTON_INSTRUCTION","閱讀用戶手冊")):(n="Part No.",i="Chip Series:",t="Clock Registers",e="Search Module",o="Enable",l="Disable",a="Wait",r="cycles",s="The clock of ",C="The clock of ",_=": ",d="Next Step",c="Base Clocks",O=g,p="Module",u="There are no "+g+"-related clock sources available.",T="Input the expected value",rn("ID_BUTTON_SHOW_REGISTERS","Switch Select Field and MFP-Registers TreeView"),rn("ID_BUTTON_LOAD","Load Configuration"),rn("ID_BUTTON_SAVE","Save Configuration"),rn("ID_BUTTON_GENERATE_CODE","Generate Code"),rn("ID_BUTTON_CONNECT_TO_TARGET","Connect to Target Chip"),rn("ID_BUTTON_RETURN_DEFAULT","Return to Default Settings"),rn("ID_BUTTON_SWITCH_CLOCK_TREE","Switch Clock Tree"),rn("ID_BUTTON_DISABLE","Disable All Checked Modules"),rn("ID_BUTTON_LANGUAGE","Settings"),rn("ID_BUTTON_INSTRUCTION","Read User Manual")),$("#MCU_span").text(n),$("#ChipType_span").text(i),$("#clockRegsTree").jstree("rename_node",$("#clock_tree"),t),$("#searchModule_span").text(e),$(".enable_span").text(o),$(".disable_span").text(l),$(".wait_span").text(a),$(".cycles_span").text(r),$(".specificRealOutput_before_span").text(s),$(".realOutput_before_span").text(C),$(".realOutput_after_span").text(_),$("#add-tab-1")[0]&&($("#add-tab-1")[0].innerHTML=d),$("#add-tab-2")[0]&&($("#add-tab-2")[0].innerHTML=d),$("#add-tab-3")[0]&&($("#add-tab-3")[0].innerHTML=d),$("#base_clocks_span").text(c),$("#pll_clocks_span").text(O),$("#module_span").text(p),$("#no_pll_span").text(u),$("[title]").prop("title",T),$("#searchInput").css({left:$("#searchModule_span").width()+10+"px"}),$("#searchInput").css("width",f-16-$("#searchModule_span").width()-10+"px")}function an(){var e,t;for(S=[],e=0,t=M.length;e<t;e+=1)S[M[e]]=h[M[e]]}function rn(e,t,n){null!=n&&null!=n||(n="top"),null!=document.querySelector(`#${e}`)&&null!=document.querySelector(`#${e}`)&&document.querySelector(`#${e}`)._tippy&&document.querySelector(`#${e}`)._tippy.destroy(),tippy(`#${e}`,{content:`${t}`,placement:`${n}`})}function sn(){d="\f",K.getContext=function(e){return e.getContext("2d")},K.removeContext=function(e){e.remove()},K.addEvent=function(e,t,n){void 0!==e&&e.addEventListener(t,n,!1)},K.triggerEvent=function(e,t){void 0!==$(e)[0]&&$(e).trigger(t)},$("html").addClass("ie10+"),"undefined"==typeof NUTOOL_PER&&(et("","tabulator/promise-polyfill.js","js"),et("","tabulator/js/tabulator.js","js"),et("","tabulator/css/tabulator.css","css")),Ht(),st(),rt(),$("#rootTree_Clock")[0].setAttribute("style","width:"+f+"px; height: "+t+"px;"),"undefined"==typeof NUTOOL_PER?function(){var e,t,n,i=$("#ChipTypeSelect"),o=$("#ChipType_span"),l=$("#MCU_span");for($("#ChipType")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#MCU")[0].setAttribute("style","background-color: #FFFFFF; width:"+(f-16)+"px; border-right: 16px solid #FFFFFF; border-bottom: 5px solid #FFFFFF;"),$("#ChipType").hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),$("#MCU").hover((function(){$(this).css("background-color","#FAFAFA")}),(function(){$(this).css("background-color","#FFFFFF")})),-1!==L.indexOf("Simplified")?(o.text("晶片系列:"),l.text("型号:")):-1!==L.indexOf("Traditional")?(o.text("晶片系列:"),l.text("型號:")):(o.text("Chip Series:"),l.text("Part No.:")),o.css("font-size","16px"),o.css("font-weight","bold"),l.css("font-size","16px"),l.css("font-weight","bold"),e=0,t=p.length;e<t;e+=1){n=window.document.createElement("option");try{n.id=n.innerHTML=n.value=p[e]}catch(e){}i[0].appendChild(n)}i.val(it(u)),Ze(),i.on("change",(function(){var e,t;u!=$(this).val()&&et("NUC_"+u+"_Content.js","NUC_"+(e=$(this).val(),t=e,"NUC200"===e?t="NUC200AN":"NANO100"===e?t="NANO100AN":"NUC100"===e?t="NUC100DN":"M0A21"===e?t="M0A21":"M030G"===e||"M030G"===e?t="M030G_31G":"M031"===e?t="M031BT":"M051"===e?t="M051DE":"MINI51"===e?t="MINI55":"NUC029"===e?t="NUC029AE":"M460"===e?t="M460HD":"M480"===e?t="M480MD":"KM1M4BF"===e?t="KM1M4BF":"KM1M7AF"===e?t="KM1M7AF":"KM1M7BF"===e?t="KM1M7BF":"KM1M7CF"===e?t="KM1M7CF":"M2003"===e?t="M2003":"M55M1"===e?t="M55M1":"M2L31"===e&&(t="M2L31"),(u=t)+"_Content.js"),"js",Ze)}))}():x=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,Je(),Fe=!0,Ye(),Fe=!1,$(window.document).mousedown((function(e){return e=e||window.event,l=(e.target||e.srcElement).id,this})),"undefined"!=typeof NUTOOL_PER&&($("#tabs")[0].style.visibility="hidden",$("#rootTree_Clock").hide()),"undefined"!=typeof NUTOOL_PER||Ie||$(window.document).keypress((function(e){switch(e.which){case 122:case 120:case 99:case 113:case 119:default:break;case 13:Ae=!0}}))}function Cn(){if(null!=this.files[0]&&null!=this.files[0])if(-1!=this.files[0].name.split(".").pop().toLowerCase().indexOf("ncfg")){var e=this.files[0],t=new FileReader;t.readAsText(e),t.onload=function(t){NUTOOL_CLOCK.g_readConfigFileContentText=t.target.result,NUTOOL_CLOCK.g_readConfigFilePath=URL.createObjectURL(e);try{!function(e){var t="",n="",i="";"",saved_newReadConfigFile=t=NUTOOL_CLOCK.g_readConfigFileContentText;for(;-1!==t.indexOf("\r")&&t.indexOf("\r")<t.indexOf("MCU:");)t=t.sliceAfterX("\r");if(n=(n=t.sliceBetweenXandX("MCU:","\r")).trim(),i=at(n),-1===$.inArray(it(i),p))return Ut("从配置档读出的晶片型号 "+i+" 不正确。","從配置檔讀出的晶片型號 "+i+" 不正確。","The chip type of "+i+" read from the config file is incorrect."),t=null,n=null,i=null,null;et(void 0!==u&&""!==u?"NUC_"+u+"_Content.js":"undefined"==typeof NUTOOL_PER?"NUC_NUC400_Content.js":"NUC_M251_Content.js","NUC_"+i+"_Content.js","js",e);t,u=i,g=n}(Wt)}catch(e){}}}else alert("Please select a file with a valid file type. (.ncfg)")}function Ln(e,t){var n,i,o="OSC10K_EN".toEquivalent().toString(),l="OSC22M_EN".toEquivalent().toString(),a=("OSC22M2_EN".toEquivalent().toString(),"XTL32K_EN".toEquivalent().toString()),r="XTL12M_EN".toEquivalent().toString(),s=("PWRCON".toEquivalent().toString(),"HCLK_S".toEquivalent().toString(),"STCLK_S".toEquivalent().toString(),"CLKO".toEquivalent().toString(),"CLKO_Divider".toEquivalent().toString(),"CLKO1".toEquivalent().toString(),"CLKO1_Divider".toEquivalent().toString(),"SYST_CSR".toEquivalent().toString(),"_S".toEquivalent().toString(),"HXT".toEquivalent().toString());"PLL".toEquivalent().toString(),"HIRC".toEquivalent().toString(),"HIRC2".toEquivalent().toString(),"LIRC".toEquivalent().toString(),"HCLK".toEquivalent().toString(),"PCLK".toEquivalent().toString();if("CortexM"==t){var C,L,_,d,c,O=[],f=!1,p=!1,T=!1;for(var K in regNames=ft(NUTOOL_CLOCK.g_register_map_description),e)for(var h=0;h<regNames.length;h++)if(NUTOOL_CLOCK.g_register_map_description[regNames[h]]==Object.keys(e[K])[0]){var S=e[K][Object.keys(e[K])[0]];if("PWRCTL"==regNames[h])for(P=0,max=M.length;P<max;P+=1){var N=M[P];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[N].length;j<maxJ;j+=1){-1!==(x=NUTOOL_CLOCK.g_register_map[N][j]).indexOf(r)||-1!==x.indexOf("XTL12M_EN")?(i=1<<(n=parseInt(x.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(f=!0)):-1!==x.indexOf(l)||-1!==x.indexOf("OSC22M_EN")?(i=1<<(n=parseInt(x.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(p=!0)):-1!==x.indexOf("MIRCEN")&&(i=1<<(n=parseInt(x.sliceAfterX(":"),10))>>>0,1==(parseInt(S,16)&i)>>>0>>>n>>>0&&(T=!0))}}}for(var K in e)for(h=0;h<regNames.length;h++)if(NUTOOL_CLOCK.g_register_map_description[regNames[h]]==Object.keys(e[K])[0]){S=e[K][Object.keys(e[K])[0]];if("PLLCTL"==regNames[h]||"CHIPPLLCTR1"==regNames[h]){for(P=0,max=M.length;P<max;P+=1){N=M[P];for(j=0,maxJ=NUTOOL_CLOCK.g_register_map[N].length;j<maxJ;j+=1){var x;if(-1!==(x=NUTOOL_CLOCK.g_register_map[N][j]).indexOf("PLL_SRC")&&7===x.indexOf(":")){-1===x.indexOf("-")?i=1<<(n=parseInt(x.sliceAfterX(":"),10))>>>0:(n=parseInt(x.sliceAfterX("-"),10),bitCount=parseInt(x.sliceBetweenXandX(":","-"),10)-n+1,i=Math.pow(2,bitCount)-1<<n>>>0),c=(c=(parseInt(S,16)&i)>>>0)>>>n>>>0;break}}}if(0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")||"NUC505"===u)d="HXT",C=1e6*$("#HXTEN_input").val();else if(0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF"))switch(c){case 0:default:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 1:d="HXT",C=1e6*$("#HXTEN_input").val()}else if(0===u.indexOf("M25"))switch(c){case 0:case 2:d="HXT",C=1e6*$("#HXTEN_input").val();break;case 1:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 3:d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency;break;default:It(o)?(d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency):It("MIRCEN")?(d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency):(d="HXT",C=1e6*$("#HXTEN_input").val())}else switch(c){case 0:d="HXT",C=1e6*$("#HXTEN_input").val();break;case 1:d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency;break;case 2:case 3:d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency;break;default:It(o)?(d="HIRC",C=NUTOOL_CLOCK.g_HIRCfrequency):It("MIRCEN")?(d="MIRC",C=NUTOOL_CLOCK.g_MIRCfrequency):(d="HXT",C=1e6*$("#HXTEN_input").val())}("HXT"==d&&f||"HIRC"==d&&p||"MIRC"==d&&T)&&(L=cn(C,S),X>0&&(_=On(C,S)))}O.push(`Reg:${regNames[h]} = 0x${S}\r\n`);break}for(var E=`MCU:${g}\r\n`,P=0;P<O.length;P++)E+=O[P];It(a)&&(E+="LXT:32768\r\n"),It("LIRC32KEN")&&(E+="LXT:32000\r\n"),It(r)&&(E+=`${s}:${1e6*parseFloat($("#"+r+"_input").val())}\r\n`,q>0&&(E+=`HSUSB_OTG_PHY:${NUTOOL_CLOCK.g_HSUSBOTGPHYfrequency}\r\n`)),null!=L&&L>0&&(E+=`PLL:${L}\r\n`),X>0&&(E+=`APLL:${_}\r\n`),D>0&&(E+=`PLLFN:${PLLFg_realPLLFNoutputClockreq}\r\n`),0!==NUTOOL_CLOCK.g_RTC32kfrequency&&(E+=`RTC32k:${NUTOOL_CLOCK.g_RTC32kfrequency}\r\n`),-1!=E.indexOf("PLL")?E+="Step:4\r\n":E+="Step:3\r\n",NUTOOL_CLOCK.g_readConfigFileContentText=E,NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",Wt()}else"8051"==t||console.log("returnRegisterValue: unknown type.")}function _n(e){return Be.filter((t=>-1!=t.indexOf(e)))[0].slicePriorToX("-")}function dn(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function cn(e,t){var n,i,o,l,a,r,s,C,L,_;if(0===u.indexOf("M25")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(3,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":r=2;break;case"10":case"11":r=4}l=0==parseInt(o,2)?16:parseInt(o,2),i=0==parseInt(n,2)?64:parseInt(n,2)}else if(0===u.indexOf("NANO100AN")||0===u.indexOf("NANO100BN")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-6),o=regValueBinary.slice(6,8),a=regValueBinary.slice(3,4)){case"0":default:r=1;break;case"1":r=2}switch(o){case"00":default:l=2;break;case"01":l=4;break;case"10":l=8;break;case"11":l=16}i=parseInt(n,2)+32}else if("NUC505"===u)regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-7),o=regValueBinary.slice(3,9),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1;else if("M261"===u||0===u.indexOf("M460")||0===u.indexOf("M480")){switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+1,i=parseInt(n,2)+2}else if(0===u.indexOf("KM1M4"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-7),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-5),2),L=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,8),2);else if(0===u.indexOf("KM1M7CF"))regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),_=parseInt(regValueBinary.slice(-5),2),L=parseInt(regValueBinary.slice(9,10),2),C=parseInt(regValueBinary.slice(6,7),2);else{switch(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(-9),o=regValueBinary.slice(2,7),a=regValueBinary.slice(0,2)){case"00":default:r=1;break;case"01":case"10":r=2;break;case"11":r=4}l=parseInt(o,2)+2,i=parseInt(n,2)+2}if(0===u.indexOf("KM1M")){if(null==C||null==_)return void console.log("Error: calculatePLLfrequency() failed");0===u.indexOf("KM1M4")?(s=0==C?e*_*.5:e*(1/C)*_*.5,s/=2):0===u.indexOf("KM1M7AF")||0===u.indexOf("KM1M7BF")?(s=0==C||1==C?e*_:e*(1/C)*_,s/=L+1):0===u.indexOf("KM1M7CF")?(s=0==C?e*_:.5*e*_,s/=L+1):console.warn("calculatePLLfrequency: Unknown g_chipType")}else{if(null==n||null==i||null==o||null==l||null==a||null==r)return void console.log("Error: calculatePLLfrequency() failed");s="M261"===u||0===u.indexOf("M460")||0===u.indexOf("M480")?e*(2*i/l)*(1/r):e*(i/l)*(1/r)}return s}function On(e,t){var n,i,o,l,a,r;if("NUC505"===u&&(regValueBinary=("0000000000000000"+parseInt(t,16).toString(2)).slice(-16),n=regValueBinary.slice(3,10),o=regValueBinary.slice(-6),a=regValueBinary.slice(0,3),r=parseInt(a,2)+1,l=parseInt(o,2)+1,i=parseInt(n,2)+1),null!=n&&null!=i&&null!=o&&null!=l&&null!=a&&null!=r)return e*(i/l)*(1/r);console.log("Error: calculateAPLLfrequency() failed")}function fn(){var e;dn()||localStorage.getItem("CheckPrivacyBannerDismiss")||(e="Simplified Chinese"===L?"本网站使用cookie作为与网站交互时识别流览器之用，浏览本网站即表示您同意本网站对cookie的使用":"Traditional Chinese"===L?"本網站使用cookie作為與網站互動時識別瀏覽器之用，瀏覽本網站即表示您同意本網站對cookie的使用":"This website uses cookies to ensure you get the best experience on our website.",$("#ID_PRIVACY_BANNER_TEXT").text(e),$("#ID_PRIVACY_BANNER_BUTTON").on("click",(function(){$("#ID_PRIVACY_BANNER_DIV").hide(),localStorage.setItem("CheckPrivacyBannerDismiss",!0)})),$("#ID_PRIVACY_BANNER_DIV").show())}window.onload=function(){sn(),$("#ID_BUTTON_SHOW_REGISTERS").on("click",(function(){zt()})),$("#ID_BUTTON_LOAD").on("click",(function(){$("#rootTree_Clock").is(":visible")&&kt((function(){$("#loadConfiguration").trigger("click")}))})),$("#loadConfiguration").on("change",Cn),$("#ID_BUTTON_SAVE").on("click",(function(){Vt()})),$("#ID_BUTTON_GENERATE_CODE").on("click",(function(){jt()})),$("#ID_BUTTON_CONNECT_TO_TARGET").on("click",(function(){kt((function(){dn()?window.electronAPI.send("connect"):async function(){var e;null!=O&&(await navigator.usb.getDevices().then((t=>{t.forEach((t=>{e=t}))})).catch((t=>{console.log(t),e=void 0})),null==e&&(e=await navigator.usb.requestDevice({filters:[{vendorId:1046}]}).catch((t=>{console.log(t),e=void 0}))),null!=e&&O.postMessage({action:"connect"}))}()}))})),$("#ID_BUTTON_RETURN_DEFAULT").on("click",(function(){en()})),$("#ID_BUTTON_SWITCH_CLOCK_TREE").on("click",(function(){tn()})),$("#ID_BUTTON_DISABLE").on("click",(function(){nn()})),$("#ID_BUTTON_LANGUAGE").on("click",(function(){on()})),$("#ID_BUTTON_INSTRUCTION").on("click",(function(){window.open("https://www.nuvoton.com/resource-download.jsp?tp_GUID=UG1320220506173038")})),ln(),$.ajax({url:"./src/PartNumID.cpp",async:!1}).responseText.split(/\r\n|\n/).filter((function(e){return new RegExp(".*[^/]{.*0x.*[PROJ].*}").test(e)})).forEach((function(e){if(-1==e.indexOf("not release")){let t=e.substring(e.indexOf('"')+1,e.lastIndexOf('"')),n=e.substring(e.indexOf("0x"),e.lastIndexOf("PROJ")-2),i=e.substring(e.indexOf("PROJ"),e.lastIndexOf("}"));Be.push(t+"-"+n+"-"+i)}})),fn(),dn()?(window.electronAPI.onConnected(((e,t)=>{console.log("electronAPI: onConnected"),!0,window.electronAPI.send("getPIDValue")})),window.electronAPI.onReturnPIDValue(((e,t)=>{if(console.log("electronAPI: onReturnPIDValue"),c=_n(t),console.log("connected device: "+c),-1!=g.toUpperCase().indexOf(c.toUpperCase())){var n=[],o=[];for(o=ft(NUTOOL_CLOCK.g_register_map_description),i=0;i<o.length;i++)n.push(NUTOOL_CLOCK.g_register_map_description[o[i]]);window.electronAPI.send("getMFPValues",n)}else window.electronAPI.send("connectComplete"),Ht(),Ut("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.")})),window.electronAPI.onReturnRegisterValue(((e,t,n)=>{console.log("electronAPI: onReturnRegisterValue"),Ln(t,n)})),window.electronAPI.onDisconnect(((e,t)=>{console.log("electronAPI: onDisconnect"),!1})),window.electronAPI.onWarning(((e,t)=>{console.warn(t)}))):window.Worker&&((O=new Worker("./src/worker/webusb.worker-bundle.js")).onmessage=async function(e){let t=e.data.action,n=e.data;if("connected"==t)console.log("worker: connected"),!0,O.postMessage({action:"getPIDValue"});else if("returnPIDValue"==t)if(console.log("worker: returnPIDValue"),c=_n(n.value),-1!=g.toUpperCase().indexOf(c.toUpperCase())){var o=[],l=[];for(l=ft(NUTOOL_CLOCK.g_register_map_description),i=0;i<l.length;i++)o.push(NUTOOL_CLOCK.g_register_map_description[l[i]]);O.postMessage({action:"getMFPValues",data:o})}else O.postMessage({action:"connectComplete"}),Ht(),Ut("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.");else"returnRegisterValue"==t?(console.log("worker: returnRegisterValue"),Ln(n.result,n.type)):"disconnect"==t&&(console.log("worker: disconnect"),!1)}),$("#versionCode").text(e)},ht.prototype.drawWithArrowheads=function(e,t){var n,i;e.strokeStyle="black",e.fillStyle="black",e.lineWidth=1,e.beginPath(),e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2),e.stroke(),t&&(n=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),n+=(this.x2>this.x1?-90:90)*Math.PI/180,this.drawArrowhead(e,this.x1,this.y1,n)),i=Math.atan((this.y2-this.y1)/(this.x2-this.x1)),i+=(this.x2>this.x1?90:-90)*Math.PI/180,this.drawArrowhead(e,this.x2,this.y2,i)},ht.prototype.drawArrowhead=function(e,t,n,i){e.save(),e.beginPath(),e.translate(t,n),e.rotate(i),e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath(),e.restore(),e.fill()},NUTOOL_CLOCK={getg_chipType:function(){return u},getg_partNumber_package:function(){return g},getg_clockRegsString:function(){return r},getg_clockRegsString1:function(){return s},getg_clockRegsString2:function(){return C},getg_userSelectUIlanguage:function(){return L},isFieldBe1:It,isEnabled:At,initializationByTest:function(){var e,t;for(Nt(),M=ft(NUTOOL_CLOCK.g_register_map_default),h=[],NUTOOL_CLOCK.g_readConfigFilePath="dummyPath",e=0,t=M.length;e<t;e+=1)h[M[e]]=parseInt(NUTOOL_CLOCK.g_register_map_default[M[e]],16);x=void 0!==NUTOOL_CLOCK.g_register_map["PLLCON".toEquivalent()]?4:3,"NUC400"===u&&(0===H&&(H=84e6),0===y&&(y=24e7)),"NUC505"===u?(0===H&&(H=24e7),0===X&&(X=24e7)):0===u.indexOf("M460")?(0===H&&(H=72e6),0===D&&(D=72e6)):"M451"===u||0===u.indexOf("M480")?0===H&&(H=72e6):"M55M1"===u?(0===H&&(H=144e6),0===X&&(X=144e6)):"MINI58"===u?0===H&&(H=5e7):"NANO100AN"===u||"NANO100BN"===u||"NUC121AE"===u||0===u.indexOf("M030")||0===u.indexOf("M031")?0===H&&(H=96e6):"NUC1262"===u||"M2L31"===u?0===H&&(H=144e6):"NANO112"===u||"NANO103"===u?0===H&&(H=16e6):0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M4")||0===u.indexOf("KM1M7")?0===H&&(H=1e8):0===H&&(H=48e6),Mt()},reportBaseClockFrequencies:function(){var e="",t="HXT".toEquivalent().toString(),n="LXT".toEquivalent().toString(),i="PLL".toEquivalent().toString(),o="APLL".toEquivalent().toString(),l="HIRC".toEquivalent().toString(),a="HIRC2".toEquivalent().toString(),r="HIRC48".toEquivalent().toString(),s="LIRC".toEquivalent().toString(),C="HCLK".toEquivalent().toString(),L="HCLK0".toEquivalent().toString(),_="HCLK1".toEquivalent().toString(),d="HCLK2".toEquivalent().toString(),c="PCLK".toEquivalent().toString(),O="PCLK0".toEquivalent().toString(),f="PCLK1".toEquivalent().toString(),p="PCLK2".toEquivalent().toString(),T="PCLK0SEL".toEquivalent().toString(),g="PCLK1SEL".toEquivalent().toString(),K="PCLK2SEL".toEquivalent().toString();b>0&&(e=0===u.indexOf("KM1M0DF")||0===u.indexOf("KM1M7CF")?s+": "+b.toHzString():"LIRC: "+b.toHzString()),v>0&&(e+=" / "+l+": "+v.toHzString()),U>0&&(e+=" / "+a+": "+U.toHzString()),k>0&&(e+=" / "+r+": "+k.toHzString()),R>0&&(e+=" / MIRC: "+R.toHzString()),I>0&&(e+=" / MIRC1P2M: "+I.toHzString()),m>0&&(e+=" / "+n+": "+m.toHzString()),F>0&&(e+=" / "+t+": "+F.toHzString()),A>0&&(e+=" / RTC32k: "+A.toHzString()),H>0&&(e+=" / "+i+": "+H.toHzString()),y>0&&(e+=" / PLL2: "+y.toHzString()),w>0&&(e+=" / PLL480M: "+w.toHzString()),X>0&&(e+=" / "+o+": "+X.toHzString()),D>0&&(e+=" / PLLFN: "+D.toHzString()),q>0&&(e+=" / HSUSB_OTG_PHY: "+q.toHzString()),z>0&&(e+=" / "+C+": "+z.toHzString()),W>0&&(e+=" / "+L+": "+W.toHzString()),V>0&&(e+=" / "+_+": "+V.toHzString()),G>0&&(e+=" / "+d+": "+G.toHzString()),B>0&&(e+=" / ACLK: "+B.toHzString()),Y>0&&(e+=" / "+c+": "+Y.toHzString());var h=NUTOOL_CLOCK.g_register_map.hasOwnProperty("PCLKDIV");return Z>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(T)||h&&-1!==$t("PCLK0DIV"))&&(e+=" / "+O+": "+Z.toHzString()),J>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(g)||h&&-1!==$t("PCLK1DIV"))&&(e+=" / "+f+": "+J.toHzString()),Q>0&&(NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(K)||h&&-1!==$t("PCLK2DIV"))&&(e+=" / "+p+": "+Q.toHzString()),ee>0&&h&&-1!==$t("PCLK3DIV")&&(e+=" / PCLK3: "+ee.toHzString()),te>0&&h&&-1!==$t("PCLK4DIV")&&(e+=" / PCLK4: "+te.toHzString()),0===e.indexOf(" / ")&&(e=e.sliceAfterX(" / ")),e},doubleClickD3Node:mt,dragD3Node:function(e,t){var n=window.document.createEvent("Event"),i=window.document.createEvent("Event"),o=window.document.createEvent("Event");n.initEvent("mousedown",!0,!0),i.initEvent("mousemove",!0,!0),o.initEvent("mouseup",!0,!0),d3.select("#"+e.id)[0][0].dispatchEvent(n),d3.select("#"+e.id)[0][0].dispatchEvent(i),d3.select("#"+e.id).select(".ghostCircle").on("mouseover")(d3.select("#"+t.id)[0][0].__data__),d3.select("#"+e.id)[0][0].dispatchEvent(o)},clickModuleCanvas:function(e,t){ve=t,$("#"+e.id+"_canvas").click()},changeDividerDialogInput:function(e,t){$("#dividerConfigureDialog").is(":visible")&&($("#"+e+"_input_dialog").val(t),$("#dividerConfigureDialog").dialog("option","buttons")[0].click())},retrieveNodeTooltip:function(){return Pe},retrieveGenerateCodeContent:function(e){var t;return 0===e?yt():1===e?(be="",wt("functionalTest")):2===e?wt("partial"):3===e?(t=be,be=""):4===e?function(){var e,t,n,i,o,l,a,s,C="HCLK".toEquivalent().toString(),L="HCLK_S".toEquivalent().toString(),_="HCLK_N".toEquivalent().toString(),d="HXTWAIT".toEquivalent().toString(),c="XTL12M_EN".toEquivalent().toString();if(Fe=!0,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty("BASESEL")){if(r+="\n    /* Check more... */\n",o=d,NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o)){for(e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)$("#"+c+"_select").val(NUTOOL_CLOCK.g_CLKSEL[d][e].slicePriorToX(":")),r+="    CLK_EnableHXO(HXO_WCYCLE_"+$("#"+c+"_select").val()+");\n";r+="    CLK_DisableHXO();\n"}for(o="BASESEL",r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(ve=e,$("#HCLK_canvas").click(),-1!==(s=$t(l="BASESEL").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SelectBASECLK(SELECT_"+a+");\n"}if(o="CPUCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(ve=e,$("#HCLK_canvas1").click(),-1!==(s=$t(l="CPUCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetCPUCLK(CPUCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}if(o="IOCKDIV",NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(o))for(r+="\n",e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1){if(ve=e,$("#PCLK_canvas").click(),-1!==(s=$t(l="IOCKDIV").toString())&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(l))for(t=0,i=NUTOOL_CLOCK.g_CLKSEL[l].length;t<i;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[l][t].sliceAfterX(":")===s){a=NUTOOL_CLOCK.g_CLKSEL[l][t].slicePriorToX(":");break}r+="    CLK_SetIOCLK(IOCLK_DIV_"+a.slicePriorToX(":").sliceAfterX("/")+");\n"}}else for(r+="\n    /* Check more. Set "+C+" clock */\n",o=L,e=0,n=NUTOOL_CLOCK.g_CLKSEL[o].length;e<n;e+=1)ve=e,$("#HCLK_canvas").click(),r+="    CLK_SetHCLK("+qt(C,L,_)+");\n";Fe=!1}():(Xt(),t=r),t},checkD3NodeFrequency:function(e){var t,n,i,o,l,a,r,s,C;if(e=e.id,l=0,"none"!==NUTOOL_CLOCK.g_Module[e][2]&&(l=$t(NUTOOL_CLOCK.g_Module[e][2])),i="","SYSTICK"!==e){if(i=a=NUTOOL_CLOCK.g_Module[e][0],NUTOOL_CLOCK.g_CLKSEL_EXTENDED.hasOwnProperty(i)?(s=NUTOOL_CLOCK.g_CLKSEL_EXTENDED[i][0],C=parseInt(s.sliceAfterX(":"),10),s=s.slicePriorToX(":"),o=$t(i)+($t(s)<<C)>>>0):o=$t(i),-1!==o&&NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a))for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o.toString()){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else if(0===u.indexOf("KM1M7CF"))i=1==(o=$t("CLKSRC").toString())?"CPUCLK":0==(o=$t("STCKSEL").toString())?"HXOCLK/128":"HRCCLK1/128";else if(It("CLKSRC"))i="CPUCLK";else if(o=$t(a="STCLK_S".toEquivalent().toString()).toString(),NUTOOL_CLOCK.g_CLKSEL.hasOwnProperty(a)){for(t=0,n=NUTOOL_CLOCK.g_CLKSEL[a].length;t<n;t+=1)if(NUTOOL_CLOCK.g_CLKSEL[a][t].sliceAfterX(":")===o){i=NUTOOL_CLOCK.g_CLKSEL[a][t].slicePriorToX(":");break}}else i=NUTOOL_CLOCK.g_Module[e][0];return(r=e==="CLKO_Divider".toEquivalent().toString()||e==="CLKO1_Divider".toEquivalent().toString()?ot(i)/Math.pow(2,l+1):ot(i)/(l+1)).toHzString()===$("#"+e+"_span_showRealFreq").text()?e+" clock is "+$("#"+e+"_span_showRealFreq").text()+".":"Failed: "+e+" clock ("+$("#"+e+"_span_showRealFreq").text()+") is not equal to the result from registers ("+r.toHzString()+")."},decideNewChipType:at,readValueFromClockRegs:$t,uncheckAllNodes_core:Ft,setg_selectedPartNoValue:function(e){T=e},loadClockConfigureTool:sn,getGeneratedClockStatus:function(){var e,t,n,i,o,l,a,C,L,_=ft(NUTOOL_CLOCK.g_Module),d={};for(r=":",e=0,n=_.length;e<n;e+=1){if(o=_[e],r+=o+"/:",a=[],C=0,-1===(l=NUTOOL_CLOCK.g_Module[o][1]).indexOf("/"))a.push(l);else{for(;-1!==l.indexOf("/")&&(a.push(l.slicePriorToX("/")),l=l.sliceAfterX("/"),!((C+=1)>10)););a.push(l)}for(L=!0,t=0,i=a.length;t<i;t+=1)if(!At(a[t])){L=!1;break}L&&(r+=o+"=Enabled:",d[o]=$("#"+o+"_span_showRealFreq").text().trim())}s=JSON.stringify(d)},concatenate_generated_code_begin:yt,showLeftPanel:zt,loadConfig_core:Wt,saveConfig:Vt,generateCode:jt,concatenate_g_clockRegsString:Zt,concatenate_generated_code:Jt,concatenate_generated_modularizedCode:Qt,pageRefresh:en,switchD3ClockTree:tn,zoomIn:function(){null!==Ue&&(E+=.3,Ue.selectAll("g.node").on("zoomFromToolbar")(E))},bestFit:function(){null!==Ue&&(E=1,Ue.selectAll("g.node").on("zoomFromToolbar")(1))},zoomOut:function(){null!==Ue&&((E-=.3)<=0&&(E=.3),Ue.selectAll("g.node").on("zoomFromToolbar")(E))},uncheckAllNodes:nn,setLanguage:on,changeUIlanguage:ln,executePDFfail:function(){Ut("您的电脑不能执从PDF档。请安装必要的软件来支援它。","您的電腦不能執從PDF檔。請安裝必要的軟件來支援它。","Your PC is incapable of executing the PDF files. Please install a necessary software to support it.")},handleEnter:function(){$("#"+l).change()},redrawForResizingDialog:function(){var e=$("#tabs");st(),"none"!==$("#clockRegsTree").css("display")?(e.css("width",n-f-8+"px"),e.css({left:f+8+"px"})):(e.css("width",n-8+"px"),e.css({left:"0px"})),e.css("height",o-8+"px"),$("#tab-4").css("width",n-f-8+"px"),$("#tab-4").css("height",o-8+"px"),e=null},recordConfig:an,closeAPP:function(){Pt(vt)&&kt((function(){Gt()}))},g_readConfigFilePath:"",g_readConfigFileContentText:"",g_clockFunctionString:""}}();